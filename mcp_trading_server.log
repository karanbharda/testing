2025-07-30 16:10:04,396 - mcp_server - INFO - [__init__.py:26] - MCP Trading Server components loaded successfully
2025-07-30 16:10:04,682 - mcp_server.tools.market_analysis_tool - INFO - [market_analysis_tool.py:25] - TA library loaded successfully
2025-07-30 16:10:12,920 - mcp_server - INFO - [__init__.py:33] - All MCP agents loaded successfully
2025-07-30 16:10:15,262 - __main__ - INFO - [web_backend.py:68] - Production core components loaded successfully
2025-07-30 16:10:19,973 - portfolio_manager - INFO - [portfolio_manager.py:48] - Dual Portfolio Manager initialized with data directory: data
2025-07-30 16:10:19,973 - portfolio_manager - INFO - [portfolio_manager.py:104] - Already in paper mode
2025-07-30 16:10:19,977 - testindia - INFO - [testindia.py:1460] - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-30 16:10:19,990 - testindia - INFO - [testindia.py:1466] - Loaded 2 trades from trade log
2025-07-30 16:10:20,040 - testindia - INFO - [testindia.py:705] - Loaded 24 stocks from cache
2025-07-30 16:10:20,041 - testindia - INFO - [testindia.py:2217] - Dynamic ticker mapper initialized
2025-07-30 16:10:20,043 - testindia - INFO - [testindia.py:846] - Llama LLM initialized successfully with Ollama
2025-07-30 16:10:20,043 - testindia - INFO - [testindia.py:4174] - Initializing Stock Trading Bot for Indian market...
2025-07-30 16:10:20,043 - __main__ - INFO - [web_backend.py:732] - Signal sources registered successfully
2025-07-30 16:10:20,044 - __main__ - ERROR - [web_backend.py:690] - Error initializing production components: no running event loop
2025-07-30 16:10:20,044 - __main__ - INFO - [web_backend.py:646] - Successfully registered portfolio callback
2025-07-30 16:10:20,044 - __main__ - INFO - [web_backend.py:1554] - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-30 16:10:20,044 - __main__ - INFO - [web_backend.py:1595] - Trading bot initialized successfully
2025-07-30 16:10:20,045 - __main__ - INFO - [web_backend.py:2662] - Starting FastAPI web server on http://127.0.0.1:5000
2025-07-30 16:10:20,045 - __main__ - INFO - [web_backend.py:2663] - Web interface will be available at the above URL
2025-07-30 16:10:20,045 - __main__ - INFO - [web_backend.py:2664] - API documentation available at http://{host}:{port}/docs
2025-07-30 16:10:20,161 - portfolio_manager - INFO - [portfolio_manager.py:48] - Dual Portfolio Manager initialized with data directory: data
2025-07-30 16:10:20,162 - portfolio_manager - INFO - [portfolio_manager.py:104] - Already in paper mode
2025-07-30 16:10:20,163 - testindia - INFO - [testindia.py:1460] - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-30 16:10:20,163 - testindia - INFO - [testindia.py:1466] - Loaded 2 trades from trade log
2025-07-30 16:10:20,176 - testindia - INFO - [testindia.py:705] - Loaded 24 stocks from cache
2025-07-30 16:10:20,176 - testindia - INFO - [testindia.py:2217] - Dynamic ticker mapper initialized
2025-07-30 16:10:20,177 - testindia - INFO - [testindia.py:846] - Llama LLM initialized successfully with Ollama
2025-07-30 16:10:20,177 - testindia - INFO - [testindia.py:4174] - Initializing Stock Trading Bot for Indian market...
2025-07-30 16:10:20,177 - __main__ - INFO - [web_backend.py:732] - Signal sources registered successfully
2025-07-30 16:10:22,006 - __main__ - INFO - [web_backend.py:687] - Production components initialized successfully
2025-07-30 16:10:22,006 - __main__ - INFO - [web_backend.py:646] - Successfully registered portfolio callback
2025-07-30 16:10:22,006 - __main__ - INFO - [web_backend.py:1554] - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-30 16:10:22,006 - __main__ - INFO - [web_backend.py:1595] - Trading bot initialized successfully
2025-07-30 16:10:22,006 - __main__ - INFO - [web_backend.py:2689] - Trading bot initialized on startup
2025-07-30 16:10:22,861 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:10:23,778 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:10:24,433 - core.async_signal_collector - INFO - [async_signal_collector.py:59] - Starting parallel signal collection for RELIANCE.NS
2025-07-30 16:10:24,434 - core.async_signal_collector - INFO - [async_signal_collector.py:126] - Signal collection completed: 4 successful, 0 failed, 0.00s total
2025-07-30 16:10:24,434 - core.adaptive_threshold_manager - INFO - [adaptive_threshold_manager.py:199] - Adaptive thresholds: BUY=0.787, SELL=-0.787, CONF=0.693
2025-07-30 16:10:24,748 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:10:25,350 - core.integrated_risk_manager - INFO - [integrated_risk_manager.py:77] - Assessing risk for HOLD 0 shares of RELIANCE.NS
2025-07-30 16:10:25,351 - core.integrated_risk_manager - INFO - [integrated_risk_manager.py:159] - Risk assessment complete: low risk (0.310), recommendation: APPROVE
2025-07-30 16:10:25,352 - core.decision_audit_trail - INFO - [decision_audit_trail.py:123] - Decision logged: c834901e-606f-4849-a58f-d314f82b4ee6 - HOLD RELIANCE.NS
2025-07-30 16:10:25,353 - __main__ - INFO - [web_backend.py:889] - Production decision for RELIANCE.NS: HOLD (confidence: 0.00, risk: 0.31)
2025-07-30 16:10:25,356 - core.async_signal_collector - INFO - [async_signal_collector.py:59] - Starting parallel signal collection for TCS.NS
2025-07-30 16:10:25,357 - core.async_signal_collector - INFO - [async_signal_collector.py:126] - Signal collection completed: 4 successful, 0 failed, 0.00s total
2025-07-30 16:10:25,357 - core.adaptive_threshold_manager - INFO - [adaptive_threshold_manager.py:199] - Adaptive thresholds: BUY=0.787, SELL=-0.787, CONF=0.693
2025-07-30 16:10:25,685 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:10:26,260 - core.integrated_risk_manager - INFO - [integrated_risk_manager.py:77] - Assessing risk for HOLD 0 shares of TCS.NS
2025-07-30 16:10:26,261 - core.integrated_risk_manager - INFO - [integrated_risk_manager.py:159] - Risk assessment complete: low risk (0.310), recommendation: APPROVE
2025-07-30 16:10:26,262 - core.decision_audit_trail - INFO - [decision_audit_trail.py:123] - Decision logged: eddbd324-8ae4-49a0-9e34-8426441c0763 - HOLD TCS.NS
2025-07-30 16:10:26,262 - __main__ - INFO - [web_backend.py:889] - Production decision for TCS.NS: HOLD (confidence: 0.00, risk: 0.31)
2025-07-30 16:10:26,288 - core.async_signal_collector - INFO - [async_signal_collector.py:59] - Starting parallel signal collection for HDFCBANK.NS
2025-07-30 16:10:26,289 - core.async_signal_collector - INFO - [async_signal_collector.py:126] - Signal collection completed: 4 successful, 0 failed, 0.00s total
2025-07-30 16:10:26,289 - core.adaptive_threshold_manager - INFO - [adaptive_threshold_manager.py:199] - Adaptive thresholds: BUY=0.787, SELL=-0.787, CONF=0.693
2025-07-30 16:10:26,655 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:10:27,396 - core.integrated_risk_manager - INFO - [integrated_risk_manager.py:77] - Assessing risk for HOLD 0 shares of HDFCBANK.NS
2025-07-30 16:10:27,397 - core.integrated_risk_manager - INFO - [integrated_risk_manager.py:159] - Risk assessment complete: low risk (0.312), recommendation: APPROVE
2025-07-30 16:10:27,398 - core.decision_audit_trail - INFO - [decision_audit_trail.py:123] - Decision logged: bb31cd41-0e2d-425f-8406-cba81c1059e3 - HOLD HDFCBANK.NS
2025-07-30 16:10:27,398 - __main__ - INFO - [web_backend.py:889] - Production decision for HDFCBANK.NS: HOLD (confidence: 0.00, risk: 0.31)
2025-07-30 16:10:27,404 - portfolio_manager - INFO - [portfolio_manager.py:48] - Dual Portfolio Manager initialized with data directory: data
2025-07-30 16:10:27,405 - portfolio_manager - INFO - [portfolio_manager.py:104] - Already in paper mode
2025-07-30 16:10:27,405 - testindia - INFO - [testindia.py:1460] - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-30 16:10:27,406 - testindia - INFO - [testindia.py:1466] - Loaded 2 trades from trade log
2025-07-30 16:10:27,421 - testindia - INFO - [testindia.py:705] - Loaded 24 stocks from cache
2025-07-30 16:10:27,421 - testindia - INFO - [testindia.py:2217] - Dynamic ticker mapper initialized
2025-07-30 16:10:27,422 - testindia - INFO - [testindia.py:846] - Llama LLM initialized successfully with Ollama
2025-07-30 16:10:27,422 - testindia - INFO - [testindia.py:4174] - Initializing Stock Trading Bot for Indian market...
2025-07-30 16:10:27,422 - __main__ - INFO - [web_backend.py:732] - Signal sources registered successfully
2025-07-30 16:10:27,429 - __main__ - INFO - [web_backend.py:687] - Production components initialized successfully
2025-07-30 16:10:27,429 - __main__ - INFO - [web_backend.py:646] - Successfully registered portfolio callback
2025-07-30 16:10:27,429 - __main__ - INFO - [web_backend.py:1554] - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-30 16:10:27,429 - __main__ - INFO - [web_backend.py:1595] - Trading bot initialized successfully
2025-07-30 16:10:27,442 - core.decision_audit_trail - INFO - [decision_audit_trail.py:363] - Loaded 3 recent decisions
2025-07-30 16:10:27,445 - __main__ - INFO - [web_backend.py:1554] - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-30 16:10:27,445 - __main__ - INFO - [web_backend.py:1172] - Starting Indian Stock Trading Bot...
2025-07-30 16:10:27,445 - __main__ - INFO - [web_backend.py:1173] - Trading Mode: PAPER
2025-07-30 16:10:27,445 - __main__ - INFO - [web_backend.py:1174] - Starting Balance: Rs.10,000.00
2025-07-30 16:10:27,445 - __main__ - INFO - [web_backend.py:1175] - Watchlist: 
2025-07-30 16:10:27,445 - __main__ - INFO - [web_backend.py:1176] - ============================================================
2025-07-30 16:10:27,446 - testindia - INFO - [testindia.py:4625] - Starting Stock Trading Bot for Indian market...
2025-07-30 16:10:27,446 - __main__ - INFO - [web_backend.py:1181] - Web Trading Bot started successfully
2025-07-30 16:10:27,447 - testindia - INFO - [testindia.py:4651] - Logging portfolio metrics at start of trading cycle...
2025-07-30 16:10:27,447 - __main__ - INFO - [web_backend.py:2072] - Trading bot started with MEDIUM risk level
2025-07-30 16:10:27,456 - __main__ - INFO - [web_backend.py:1191] - Stopping Trading Bot...
2025-07-30 16:10:27,456 - __main__ - INFO - [web_backend.py:1193] - Waiting for trading thread to finish...
2025-07-30 16:10:27,879 - testindia - INFO - [testindia.py:1289] - Using Fyers current data for HDFCBANK.NS
2025-07-30 16:10:27,879 - testindia - INFO - [testindia.py:2001] - Fetched price for HDFCBANK.NS: Rs.2025.80
2025-07-30 16:10:28,277 - testindia - INFO - [testindia.py:1289] - Using Fyers current data for SUZLON.NS
2025-07-30 16:10:28,278 - testindia - INFO - [testindia.py:2001] - Fetched price for SUZLON.NS: Rs.61.21
2025-07-30 16:10:28,279 - testindia - INFO - [testindia.py:2186] - Portfolio Metrics:
2025-07-30 16:10:28,279 - testindia - INFO - [testindia.py:2187] - Cash: Rs.6003.09
2025-07-30 16:10:28,279 - testindia - INFO - [testindia.py:2188] - Holdings: {'HDFCBANK.NS': {'qty': 1, 'avg_price': 2015.7}, 'SUZLON.NS': {'qty': 31, 'avg_price': 63.91}}
2025-07-30 16:10:28,279 - testindia - INFO - [testindia.py:2189] - Total Value: Rs.9926.40
2025-07-30 16:10:28,279 - testindia - INFO - [testindia.py:2190] - Current Portfolio Value (Dhan): Rs.10000.00
2025-07-30 16:10:28,279 - testindia - INFO - [testindia.py:2191] - Current PnL (Dhan): Rs.0.00
2025-07-30 16:10:28,280 - testindia - INFO - [testindia.py:2192] - Realized PnL: Rs.0.00
2025-07-30 16:10:28,280 - testindia - INFO - [testindia.py:2193] - Unrealized PnL: Rs.-73.60
2025-07-30 16:10:28,280 - testindia - INFO - [testindia.py:2194] - Total Exposure: Rs.3923.31
2025-07-30 16:10:28,280 - testindia - INFO - [testindia.py:4676] - Bot stop signal received, skipping report generation...
2025-07-30 16:10:28,280 - testindia - INFO - [testindia.py:4694] - Stock Trading Bot stopped successfully
2025-07-30 16:10:28,281 - __main__ - INFO - [web_backend.py:1199] - Trading thread stopped successfully
2025-07-30 16:10:28,281 - __main__ - INFO - [web_backend.py:1200] - Web Trading Bot stopped successfully
2025-07-30 16:10:28,287 - dynamic_market_expert - INFO - [dynamic_market_expert.py:43] - Fyers API initialized successfully
2025-07-30 16:10:28,288 - dynamic_market_expert - INFO - [dynamic_market_expert.py:133] - Dynamic Market Expert initialized successfully
2025-07-30 16:10:28,288 - __main__ - INFO - [web_backend.py:1952] - Dynamic Market Expert initialized for web chat
2025-07-30 16:10:28,648 - dynamic_market_expert - INFO - [dynamic_market_expert.py:189] - [SUCCESS] Fetched live data from Fyers for 5 symbols
2025-07-30 16:10:28,652 - __main__ - INFO - [web_backend.py:1934] - Market query detected: Analyze RELIANCE.NS stock
2025-07-30 16:10:29,005 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:10:29,006 - __main__ - INFO - [web_backend.py:1936] - Real-time response: False
2025-07-30 16:10:29,368 - dynamic_market_expert - INFO - [dynamic_market_expert.py:189] - [SUCCESS] Fetched live data from Fyers for 1 symbols
2025-07-30 16:10:29,390 - __main__ - INFO - [web_backend.py:1934] - Market query detected: What are the top performing stocks today?
2025-07-30 16:10:29,841 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:10:30,164 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:10:32,537 - __main__ - INFO - [web_backend.py:468] - Using real Fyers market data
2025-07-30 16:10:32,538 - __main__ - INFO - [web_backend.py:1936] - Real-time response: True
2025-07-30 16:10:32,538 - __main__ - INFO - [web_backend.py:1938] - Returning real-time market response
2025-07-30 16:10:32,574 - __main__ - INFO - [web_backend.py:2171] - Settings updated: Mode=paper, Risk Level=MEDIUM, Stop Loss=5.0%, Max Allocation=25.0%
2025-07-30 16:11:01,801 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:11:39,340 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:11:40,473 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:11:40,585 - mcp_server - INFO - [__init__.py:26] - MCP Trading Server components loaded successfully
2025-07-30 16:11:40,738 - mcp_server.tools.market_analysis_tool - INFO - [market_analysis_tool.py:25] - TA library loaded successfully
2025-07-30 16:11:41,179 - core.async_signal_collector - INFO - [async_signal_collector.py:59] - Starting parallel signal collection for RELIANCE.NS
2025-07-30 16:11:41,180 - core.async_signal_collector - INFO - [async_signal_collector.py:126] - Signal collection completed: 4 successful, 0 failed, 0.00s total
2025-07-30 16:11:41,180 - core.adaptive_threshold_manager - INFO - [adaptive_threshold_manager.py:199] - Adaptive thresholds: BUY=0.787, SELL=-0.787, CONF=0.693
2025-07-30 16:11:41,533 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:11:42,020 - mcp_server - INFO - [__init__.py:33] - All MCP agents loaded successfully
2025-07-30 16:11:42,273 - core.integrated_risk_manager - INFO - [integrated_risk_manager.py:77] - Assessing risk for HOLD 0 shares of RELIANCE.NS
2025-07-30 16:11:42,273 - core.integrated_risk_manager - INFO - [integrated_risk_manager.py:159] - Risk assessment complete: low risk (0.310), recommendation: APPROVE
2025-07-30 16:11:42,274 - core.decision_audit_trail - INFO - [decision_audit_trail.py:123] - Decision logged: 2fec4dd5-933c-4682-8b47-870fa0ce454c - HOLD RELIANCE.NS
2025-07-30 16:11:42,274 - __main__ - INFO - [web_backend.py:889] - Production decision for RELIANCE.NS: HOLD (confidence: 0.00, risk: 0.31)
2025-07-30 16:11:42,278 - core.async_signal_collector - INFO - [async_signal_collector.py:59] - Starting parallel signal collection for TCS.NS
2025-07-30 16:11:42,278 - core.async_signal_collector - INFO - [async_signal_collector.py:126] - Signal collection completed: 4 successful, 0 failed, 0.00s total
2025-07-30 16:11:42,278 - core.adaptive_threshold_manager - INFO - [adaptive_threshold_manager.py:199] - Adaptive thresholds: BUY=0.787, SELL=-0.787, CONF=0.693
2025-07-30 16:11:42,742 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:11:43,388 - core.integrated_risk_manager - INFO - [integrated_risk_manager.py:77] - Assessing risk for HOLD 0 shares of TCS.NS
2025-07-30 16:11:43,390 - core.integrated_risk_manager - INFO - [integrated_risk_manager.py:159] - Risk assessment complete: low risk (0.310), recommendation: APPROVE
2025-07-30 16:11:43,391 - core.decision_audit_trail - INFO - [decision_audit_trail.py:123] - Decision logged: a3638998-25ec-422b-a2d0-01a31163a7e8 - HOLD TCS.NS
2025-07-30 16:11:43,391 - __main__ - INFO - [web_backend.py:889] - Production decision for TCS.NS: HOLD (confidence: 0.00, risk: 0.31)
2025-07-30 16:11:43,405 - core.async_signal_collector - INFO - [async_signal_collector.py:59] - Starting parallel signal collection for HDFCBANK.NS
2025-07-30 16:11:43,406 - core.async_signal_collector - INFO - [async_signal_collector.py:126] - Signal collection completed: 4 successful, 0 failed, 0.00s total
2025-07-30 16:11:43,406 - core.adaptive_threshold_manager - INFO - [adaptive_threshold_manager.py:199] - Adaptive thresholds: BUY=0.787, SELL=-0.787, CONF=0.693
2025-07-30 16:11:43,756 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:11:44,380 - core.integrated_risk_manager - INFO - [integrated_risk_manager.py:77] - Assessing risk for HOLD 0 shares of HDFCBANK.NS
2025-07-30 16:11:44,380 - core.integrated_risk_manager - INFO - [integrated_risk_manager.py:159] - Risk assessment complete: low risk (0.312), recommendation: APPROVE
2025-07-30 16:11:44,381 - core.decision_audit_trail - INFO - [decision_audit_trail.py:123] - Decision logged: 3904b02c-a4f4-4aae-aa03-328ed810b75f - HOLD HDFCBANK.NS
2025-07-30 16:11:44,381 - __main__ - INFO - [web_backend.py:889] - Production decision for HDFCBANK.NS: HOLD (confidence: 0.00, risk: 0.31)
2025-07-30 16:11:44,399 - __main__ - INFO - [web_backend.py:68] - Production core components loaded successfully
2025-07-30 16:11:44,405 - portfolio_manager - INFO - [portfolio_manager.py:48] - Dual Portfolio Manager initialized with data directory: data
2025-07-30 16:11:44,405 - portfolio_manager - INFO - [portfolio_manager.py:104] - Already in paper mode
2025-07-30 16:11:44,406 - testindia - INFO - [testindia.py:1460] - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-30 16:11:44,406 - testindia - INFO - [testindia.py:1466] - Loaded 2 trades from trade log
2025-07-30 16:11:44,415 - testindia - INFO - [testindia.py:705] - Loaded 24 stocks from cache
2025-07-30 16:11:44,416 - testindia - INFO - [testindia.py:2217] - Dynamic ticker mapper initialized
2025-07-30 16:11:44,416 - testindia - INFO - [testindia.py:846] - Llama LLM initialized successfully with Ollama
2025-07-30 16:11:44,417 - testindia - INFO - [testindia.py:4174] - Initializing Stock Trading Bot for Indian market...
2025-07-30 16:11:44,417 - __main__ - INFO - [web_backend.py:732] - Signal sources registered successfully
2025-07-30 16:11:44,420 - __main__ - INFO - [web_backend.py:687] - Production components initialized successfully
2025-07-30 16:11:44,420 - __main__ - INFO - [web_backend.py:646] - Successfully registered portfolio callback
2025-07-30 16:11:44,420 - __main__ - INFO - [web_backend.py:1554] - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-30 16:11:44,420 - __main__ - INFO - [web_backend.py:1595] - Trading bot initialized successfully
2025-07-30 16:11:44,436 - core.decision_audit_trail - INFO - [decision_audit_trail.py:363] - Loaded 6 recent decisions
2025-07-30 16:11:44,449 - __main__ - INFO - [web_backend.py:1554] - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-30 16:11:44,449 - __main__ - INFO - [web_backend.py:1172] - Starting Indian Stock Trading Bot...
2025-07-30 16:11:44,449 - __main__ - INFO - [web_backend.py:1173] - Trading Mode: PAPER
2025-07-30 16:11:44,450 - __main__ - INFO - [web_backend.py:1174] - Starting Balance: Rs.10,000.00
2025-07-30 16:11:44,450 - __main__ - INFO - [web_backend.py:1175] - Watchlist: 
2025-07-30 16:11:44,450 - __main__ - INFO - [web_backend.py:1176] - ============================================================
2025-07-30 16:11:44,451 - testindia - INFO - [testindia.py:4625] - Starting Stock Trading Bot for Indian market...
2025-07-30 16:11:44,451 - __main__ - INFO - [web_backend.py:1181] - Web Trading Bot started successfully
2025-07-30 16:11:44,451 - testindia - INFO - [testindia.py:4651] - Logging portfolio metrics at start of trading cycle...
2025-07-30 16:11:44,451 - __main__ - INFO - [web_backend.py:2072] - Trading bot started with MEDIUM risk level
2025-07-30 16:11:44,459 - __main__ - INFO - [web_backend.py:1191] - Stopping Trading Bot...
2025-07-30 16:11:44,460 - __main__ - INFO - [web_backend.py:1193] - Waiting for trading thread to finish...
2025-07-30 16:11:44,928 - testindia - INFO - [testindia.py:1289] - Using Fyers current data for HDFCBANK.NS
2025-07-30 16:11:44,929 - testindia - INFO - [testindia.py:2001] - Fetched price for HDFCBANK.NS: Rs.2025.80
2025-07-30 16:11:45,368 - testindia - INFO - [testindia.py:1289] - Using Fyers current data for SUZLON.NS
2025-07-30 16:11:45,369 - testindia - INFO - [testindia.py:2001] - Fetched price for SUZLON.NS: Rs.61.21
2025-07-30 16:11:45,369 - testindia - INFO - [testindia.py:2186] - Portfolio Metrics:
2025-07-30 16:11:45,369 - testindia - INFO - [testindia.py:2187] - Cash: Rs.6003.09
2025-07-30 16:11:45,369 - testindia - INFO - [testindia.py:2188] - Holdings: {'HDFCBANK.NS': {'qty': 1, 'avg_price': 2015.7}, 'SUZLON.NS': {'qty': 31, 'avg_price': 63.91}}
2025-07-30 16:11:45,369 - testindia - INFO - [testindia.py:2189] - Total Value: Rs.9926.40
2025-07-30 16:11:45,370 - testindia - INFO - [testindia.py:2190] - Current Portfolio Value (Dhan): Rs.10000.00
2025-07-30 16:11:45,370 - testindia - INFO - [testindia.py:2191] - Current PnL (Dhan): Rs.0.00
2025-07-30 16:11:45,370 - testindia - INFO - [testindia.py:2192] - Realized PnL: Rs.0.00
2025-07-30 16:11:45,370 - testindia - INFO - [testindia.py:2193] - Unrealized PnL: Rs.-73.60
2025-07-30 16:11:45,370 - testindia - INFO - [testindia.py:2194] - Total Exposure: Rs.3923.31
2025-07-30 16:11:45,370 - testindia - INFO - [testindia.py:4676] - Bot stop signal received, skipping report generation...
2025-07-30 16:11:45,370 - testindia - INFO - [testindia.py:4694] - Stock Trading Bot stopped successfully
2025-07-30 16:11:45,371 - __main__ - INFO - [web_backend.py:1199] - Trading thread stopped successfully
2025-07-30 16:11:45,371 - __main__ - INFO - [web_backend.py:1200] - Web Trading Bot stopped successfully
2025-07-30 16:11:45,815 - dynamic_market_expert - INFO - [dynamic_market_expert.py:189] - [SUCCESS] Fetched live data from Fyers for 5 symbols
2025-07-30 16:11:45,838 - __main__ - INFO - [web_backend.py:1934] - Market query detected: Analyze RELIANCE.NS stock
2025-07-30 16:11:45,860 - portfolio_manager - INFO - [portfolio_manager.py:48] - Dual Portfolio Manager initialized with data directory: data
2025-07-30 16:11:45,860 - portfolio_manager - INFO - [portfolio_manager.py:104] - Already in paper mode
2025-07-30 16:11:45,861 - testindia - INFO - [testindia.py:1460] - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-30 16:11:45,862 - testindia - INFO - [testindia.py:1466] - Loaded 2 trades from trade log
2025-07-30 16:11:45,877 - testindia - INFO - [testindia.py:705] - Loaded 24 stocks from cache
2025-07-30 16:11:45,877 - testindia - INFO - [testindia.py:2217] - Dynamic ticker mapper initialized
2025-07-30 16:11:45,879 - testindia - INFO - [testindia.py:846] - Llama LLM initialized successfully with Ollama
2025-07-30 16:11:45,879 - testindia - INFO - [testindia.py:4174] - Initializing Stock Trading Bot for Indian market...
2025-07-30 16:11:45,879 - __main__ - INFO - [web_backend.py:732] - Signal sources registered successfully
2025-07-30 16:11:45,880 - __main__ - ERROR - [web_backend.py:690] - Error initializing production components: no running event loop
2025-07-30 16:11:45,880 - __main__ - INFO - [web_backend.py:646] - Successfully registered portfolio callback
2025-07-30 16:11:45,880 - __main__ - INFO - [web_backend.py:1554] - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-30 16:11:45,880 - __main__ - INFO - [web_backend.py:1595] - Trading bot initialized successfully
2025-07-30 16:11:45,880 - __main__ - INFO - [web_backend.py:2662] - Starting FastAPI web server on http://127.0.0.1:5000
2025-07-30 16:11:45,880 - __main__ - INFO - [web_backend.py:2663] - Web interface will be available at the above URL
2025-07-30 16:11:45,880 - __main__ - INFO - [web_backend.py:2664] - API documentation available at http://{host}:{port}/docs
2025-07-30 16:11:45,920 - portfolio_manager - INFO - [portfolio_manager.py:48] - Dual Portfolio Manager initialized with data directory: data
2025-07-30 16:11:45,921 - portfolio_manager - INFO - [portfolio_manager.py:104] - Already in paper mode
2025-07-30 16:11:45,922 - testindia - INFO - [testindia.py:1460] - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-30 16:11:45,922 - testindia - INFO - [testindia.py:1466] - Loaded 2 trades from trade log
2025-07-30 16:11:45,932 - testindia - INFO - [testindia.py:705] - Loaded 24 stocks from cache
2025-07-30 16:11:45,933 - testindia - INFO - [testindia.py:2217] - Dynamic ticker mapper initialized
2025-07-30 16:11:45,933 - testindia - INFO - [testindia.py:846] - Llama LLM initialized successfully with Ollama
2025-07-30 16:11:45,933 - testindia - INFO - [testindia.py:4174] - Initializing Stock Trading Bot for Indian market...
2025-07-30 16:11:45,933 - __main__ - INFO - [web_backend.py:732] - Signal sources registered successfully
2025-07-30 16:11:46,237 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:11:46,237 - __main__ - INFO - [web_backend.py:1936] - Real-time response: False
2025-07-30 16:11:46,617 - dynamic_market_expert - INFO - [dynamic_market_expert.py:189] - [SUCCESS] Fetched live data from Fyers for 1 symbols
2025-07-30 16:11:46,622 - __main__ - INFO - [web_backend.py:1934] - Market query detected: What are the top performing stocks today?
2025-07-30 16:11:46,930 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:11:47,352 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:11:47,696 - __main__ - INFO - [web_backend.py:687] - Production components initialized successfully
2025-07-30 16:11:47,697 - __main__ - INFO - [web_backend.py:646] - Successfully registered portfolio callback
2025-07-30 16:11:47,697 - __main__ - INFO - [web_backend.py:1554] - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-30 16:11:47,697 - __main__ - INFO - [web_backend.py:1595] - Trading bot initialized successfully
2025-07-30 16:11:47,697 - __main__ - INFO - [web_backend.py:2689] - Trading bot initialized on startup
2025-07-30 16:11:47,698 - core.decision_audit_trail - INFO - [decision_audit_trail.py:363] - Loaded 6 recent decisions
2025-07-30 16:11:47,699 - __main__ - INFO - [web_backend.py:1202] - Trading bot is already stopped
2025-07-30 16:11:47,699 - __main__ - INFO - [web_backend.py:2718] - Trading bot stopped on shutdown
2025-07-30 16:11:49,804 - __main__ - INFO - [web_backend.py:468] - Using real Fyers market data
2025-07-30 16:11:49,805 - __main__ - INFO - [web_backend.py:1936] - Real-time response: True
2025-07-30 16:11:49,805 - __main__ - INFO - [web_backend.py:1938] - Returning real-time market response
2025-07-30 16:11:49,821 - __main__ - INFO - [web_backend.py:2171] - Settings updated: Mode=paper, Risk Level=MEDIUM, Stop Loss=5.0%, Max Allocation=25.0%
2025-07-30 16:11:55,289 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:11:56,441 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:12:01,789 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:12:21,824 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:12:23,207 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:12:25,772 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:12:52,014 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:12:56,080 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:13:01,754 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:13:22,133 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:13:26,099 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:13:52,142 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:13:56,103 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:14:01,679 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:14:05,845 - __main__ - INFO - [web_backend.py:1202] - Trading bot is already stopped
2025-07-30 16:14:05,846 - __main__ - INFO - [web_backend.py:2718] - Trading bot stopped on shutdown
2025-07-30 16:14:05,847 - __main__ - INFO - [web_backend.py:2733] - Web server stopped by user
2025-07-30 16:15:02,206 - mcp_server - INFO - [__init__.py:26] - MCP Trading Server components loaded successfully
2025-07-30 16:15:02,726 - mcp_server.tools.market_analysis_tool - INFO - [market_analysis_tool.py:25] - TA library loaded successfully
2025-07-30 16:15:12,422 - mcp_server - INFO - [__init__.py:33] - All MCP agents loaded successfully
2025-07-30 16:15:17,007 - __main__ - INFO - [web_backend.py:68] - Production core components loaded successfully
2025-07-30 16:15:20,509 - portfolio_manager - INFO - [portfolio_manager.py:48] - Dual Portfolio Manager initialized with data directory: data
2025-07-30 16:15:20,509 - portfolio_manager - INFO - [portfolio_manager.py:104] - Already in paper mode
2025-07-30 16:15:20,511 - testindia - INFO - [testindia.py:1460] - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-30 16:15:20,511 - testindia - INFO - [testindia.py:1466] - Loaded 2 trades from trade log
2025-07-30 16:15:20,551 - testindia - INFO - [testindia.py:705] - Loaded 24 stocks from cache
2025-07-30 16:15:20,552 - testindia - INFO - [testindia.py:2217] - Dynamic ticker mapper initialized
2025-07-30 16:15:20,554 - testindia - INFO - [testindia.py:846] - Llama LLM initialized successfully with Ollama
2025-07-30 16:15:20,555 - testindia - INFO - [testindia.py:4174] - Initializing Stock Trading Bot for Indian market...
2025-07-30 16:15:20,555 - __main__ - INFO - [web_backend.py:732] - Signal sources registered successfully
2025-07-30 16:15:20,555 - __main__ - ERROR - [web_backend.py:690] - Error initializing production components: no running event loop
2025-07-30 16:15:20,555 - __main__ - INFO - [web_backend.py:646] - Successfully registered portfolio callback
2025-07-30 16:15:20,556 - __main__ - INFO - [web_backend.py:1554] - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-30 16:15:20,556 - __main__ - INFO - [web_backend.py:1595] - Trading bot initialized successfully
2025-07-30 16:15:20,556 - __main__ - INFO - [web_backend.py:2662] - Starting FastAPI web server on http://127.0.0.1:5000
2025-07-30 16:15:20,556 - __main__ - INFO - [web_backend.py:2663] - Web interface will be available at the above URL
2025-07-30 16:15:20,556 - __main__ - INFO - [web_backend.py:2664] - API documentation available at http://{host}:{port}/docs
2025-07-30 16:15:20,717 - portfolio_manager - INFO - [portfolio_manager.py:48] - Dual Portfolio Manager initialized with data directory: data
2025-07-30 16:15:20,718 - portfolio_manager - INFO - [portfolio_manager.py:104] - Already in paper mode
2025-07-30 16:15:20,719 - testindia - INFO - [testindia.py:1460] - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-30 16:15:20,719 - testindia - INFO - [testindia.py:1466] - Loaded 2 trades from trade log
2025-07-30 16:15:20,734 - testindia - INFO - [testindia.py:705] - Loaded 24 stocks from cache
2025-07-30 16:15:20,734 - testindia - INFO - [testindia.py:2217] - Dynamic ticker mapper initialized
2025-07-30 16:15:20,735 - testindia - INFO - [testindia.py:846] - Llama LLM initialized successfully with Ollama
2025-07-30 16:15:20,735 - testindia - INFO - [testindia.py:4174] - Initializing Stock Trading Bot for Indian market...
2025-07-30 16:15:20,735 - __main__ - INFO - [web_backend.py:732] - Signal sources registered successfully
2025-07-30 16:15:23,588 - __main__ - INFO - [web_backend.py:687] - Production components initialized successfully
2025-07-30 16:15:23,588 - __main__ - INFO - [web_backend.py:646] - Successfully registered portfolio callback
2025-07-30 16:15:23,588 - __main__ - INFO - [web_backend.py:1554] - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-30 16:15:23,588 - __main__ - INFO - [web_backend.py:1595] - Trading bot initialized successfully
2025-07-30 16:15:23,588 - __main__ - INFO - [web_backend.py:2689] - Trading bot initialized on startup
2025-07-30 16:15:23,589 - core.decision_audit_trail - INFO - [decision_audit_trail.py:363] - Loaded 6 recent decisions
2025-07-30 16:16:45,804 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:16:47,007 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:17:01,810 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:17:15,749 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:17:17,106 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:17:18,882 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:17:46,771 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:17:48,486 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:18:16,764 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:18:18,551 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:18:46,801 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:18:48,459 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:19:16,613 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:19:17,889 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:19:46,593 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:19:47,893 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:20:16,610 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:20:38,696 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:20:46,693 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:21:01,632 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:21:16,161 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:21:47,085 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:22:02,096 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:22:17,105 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:23:01,778 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:23:03,519 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:24:01,784 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:24:03,528 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:25:01,765 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:25:03,489 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:26:01,786 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:26:03,502 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:27:01,825 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:27:03,568 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:28:01,794 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:28:03,445 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:29:01,801 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:29:03,590 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:30:01,788 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:30:03,558 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:31:01,812 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:31:03,485 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:32:01,823 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:32:03,569 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:33:01,802 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:33:03,577 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:34:01,798 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:34:03,575 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:35:01,808 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:35:03,574 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:36:01,790 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:36:03,588 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:37:01,819 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:37:03,453 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:38:01,792 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:38:03,594 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:39:01,793 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:39:03,556 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:40:01,727 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:40:03,396 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:41:01,808 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:41:03,442 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:42:01,716 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:42:03,545 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:43:01,805 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:43:03,584 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:44:01,726 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:44:03,473 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:45:02,119 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:45:03,574 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:46:01,807 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:46:03,599 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:47:01,808 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:47:03,579 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:48:01,762 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:48:03,546 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:49:01,799 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:49:03,412 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:50:01,792 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:50:03,578 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:51:01,797 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:51:03,759 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:52:01,826 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:52:03,645 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:53:01,804 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:53:03,556 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:54:01,824 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:54:03,529 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:55:01,820 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:55:03,613 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:56:01,799 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:56:03,574 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:57:01,798 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:57:03,718 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:58:01,797 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:58:03,622 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:59:01,758 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 16:59:03,532 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:00:01,812 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:00:03,681 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:01:01,718 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:01:03,508 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:02:01,761 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:02:03,422 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:03:01,815 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:04:01,790 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:04:03,541 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:05:01,801 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:05:03,507 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:06:01,810 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:06:21,928 - __main__ - WARNING - [web_backend.py:1271] - Yahoo Finance failed for HDFCBANK.NS: Too Many Requests. Rate limited. Try after a while.
2025-07-30 17:07:01,805 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:07:03,625 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:08:01,809 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:08:03,462 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:09:01,808 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:09:03,570 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:10:01,790 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:10:03,524 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:11:01,819 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:11:03,642 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:12:01,707 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:12:03,497 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:13:01,809 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:13:03,538 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:14:25,878 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:15:02,069 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:15:03,394 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:16:01,813 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:16:03,510 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:17:01,821 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:17:03,683 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:18:01,794 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:18:03,590 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:19:01,820 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:19:03,467 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:20:01,816 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:20:03,543 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:21:01,824 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:21:03,582 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:22:29,668 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:22:40,767 - yfinance - ERROR - [history.py:247] - $HDFCBANK.NS: possibly delisted; no price data found  (period=1d)
2025-07-30 17:22:40,772 - yfinance - ERROR - [history.py:247] - $SUZLON.NS: possibly delisted; no price data found  (period=1d)
2025-07-30 17:23:01,812 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:23:03,600 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:24:01,812 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:24:03,589 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:25:01,723 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:25:03,490 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:26:01,609 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:26:03,377 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:27:01,843 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:27:03,660 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:28:01,830 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:28:03,629 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:29:01,795 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:29:03,614 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:30:01,812 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:30:03,467 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:31:01,800 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:31:03,596 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:32:01,790 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:32:03,491 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:33:01,836 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:33:03,602 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:34:01,858 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:34:03,680 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:35:01,788 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:35:03,612 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:36:01,803 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:36:03,687 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:36:39,398 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:36:46,789 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:37:01,668 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:37:15,214 - __main__ - INFO - [web_backend.py:1202] - Trading bot is already stopped
2025-07-30 17:37:15,214 - __main__ - INFO - [web_backend.py:2718] - Trading bot stopped on shutdown
2025-07-30 17:37:15,215 - __main__ - INFO - [web_backend.py:2733] - Web server stopped by user
2025-07-30 17:45:02,310 - mcp_server - INFO - [__init__.py:26] - MCP Trading Server components loaded successfully
2025-07-30 17:45:02,501 - mcp_server.tools.market_analysis_tool - INFO - [market_analysis_tool.py:25] - TA library loaded successfully
2025-07-30 17:45:03,471 - mcp_server - INFO - [__init__.py:33] - All MCP agents loaded successfully
2025-07-30 17:45:05,800 - __main__ - INFO - [web_backend.py:68] - Production core components loaded successfully
2025-07-30 17:45:07,304 - portfolio_manager - INFO - [portfolio_manager.py:48] - Dual Portfolio Manager initialized with data directory: data
2025-07-30 17:45:07,305 - portfolio_manager - INFO - [portfolio_manager.py:104] - Already in paper mode
2025-07-30 17:45:07,306 - testindia - INFO - [testindia.py:1460] - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-30 17:45:07,307 - testindia - INFO - [testindia.py:1466] - Loaded 2 trades from trade log
2025-07-30 17:45:07,325 - testindia - INFO - [testindia.py:705] - Loaded 24 stocks from cache
2025-07-30 17:45:07,325 - testindia - INFO - [testindia.py:2217] - Dynamic ticker mapper initialized
2025-07-30 17:45:07,327 - testindia - INFO - [testindia.py:846] - Llama LLM initialized successfully with Ollama
2025-07-30 17:45:07,327 - testindia - INFO - [testindia.py:4174] - Initializing Stock Trading Bot for Indian market...
2025-07-30 17:45:07,328 - __main__ - INFO - [web_backend.py:732] - Signal sources registered successfully
2025-07-30 17:45:07,328 - __main__ - ERROR - [web_backend.py:690] - Error initializing production components: no running event loop
2025-07-30 17:45:07,328 - __main__ - INFO - [web_backend.py:646] - Successfully registered portfolio callback
2025-07-30 17:45:07,328 - __main__ - INFO - [web_backend.py:1554] - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-30 17:45:07,329 - __main__ - INFO - [web_backend.py:1595] - Trading bot initialized successfully
2025-07-30 17:45:07,329 - __main__ - INFO - [web_backend.py:2662] - Starting FastAPI web server on http://127.0.0.1:5000
2025-07-30 17:45:07,329 - __main__ - INFO - [web_backend.py:2663] - Web interface will be available at the above URL
2025-07-30 17:45:07,329 - __main__ - INFO - [web_backend.py:2664] - API documentation available at http://{host}:{port}/docs
2025-07-30 17:45:07,378 - portfolio_manager - INFO - [portfolio_manager.py:48] - Dual Portfolio Manager initialized with data directory: data
2025-07-30 17:45:07,378 - portfolio_manager - INFO - [portfolio_manager.py:104] - Already in paper mode
2025-07-30 17:45:07,379 - testindia - INFO - [testindia.py:1460] - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-30 17:45:07,380 - testindia - INFO - [testindia.py:1466] - Loaded 2 trades from trade log
2025-07-30 17:45:07,394 - testindia - INFO - [testindia.py:705] - Loaded 24 stocks from cache
2025-07-30 17:45:07,394 - testindia - INFO - [testindia.py:2217] - Dynamic ticker mapper initialized
2025-07-30 17:45:07,395 - testindia - INFO - [testindia.py:846] - Llama LLM initialized successfully with Ollama
2025-07-30 17:45:07,395 - testindia - INFO - [testindia.py:4174] - Initializing Stock Trading Bot for Indian market...
2025-07-30 17:45:07,395 - __main__ - INFO - [web_backend.py:732] - Signal sources registered successfully
2025-07-30 17:45:09,014 - __main__ - INFO - [web_backend.py:687] - Production components initialized successfully
2025-07-30 17:45:09,014 - __main__ - INFO - [web_backend.py:646] - Successfully registered portfolio callback
2025-07-30 17:45:09,014 - __main__ - INFO - [web_backend.py:1554] - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-30 17:45:09,014 - __main__ - INFO - [web_backend.py:1595] - Trading bot initialized successfully
2025-07-30 17:45:09,014 - __main__ - INFO - [web_backend.py:2689] - Trading bot initialized on startup
2025-07-30 17:45:09,015 - core.decision_audit_trail - INFO - [decision_audit_trail.py:363] - Loaded 6 recent decisions
2025-07-30 17:46:58,379 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:46:59,366 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:47:00,678 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:47:02,177 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:47:28,606 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:47:29,917 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:47:54,346 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:47:55,335 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:47:58,601 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:48:00,334 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:48:24,785 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:48:28,604 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:48:29,909 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:48:33,919 - dynamic_market_expert - INFO - [dynamic_market_expert.py:43] - Fyers API initialized successfully
2025-07-30 17:48:33,919 - dynamic_market_expert - INFO - [dynamic_market_expert.py:133] - Dynamic Market Expert initialized successfully
2025-07-30 17:48:33,919 - __main__ - INFO - [web_backend.py:1952] - Dynamic Market Expert initialized for web chat
2025-07-30 17:48:34,309 - dynamic_market_expert - INFO - [dynamic_market_expert.py:189] - [SUCCESS] Fetched live data from Fyers for 5 symbols
2025-07-30 17:48:34,695 - dynamic_market_expert - INFO - [dynamic_market_expert.py:189] - [SUCCESS] Fetched live data from Fyers for 5 symbols
2025-07-30 17:48:35,125 - dynamic_market_expert - INFO - [dynamic_market_expert.py:189] - [SUCCESS] Fetched live data from Fyers for 1 symbols
2025-07-30 17:48:35,130 - core.async_signal_collector - INFO - [async_signal_collector.py:59] - Starting parallel signal collection for RELIANCE.NS
2025-07-30 17:48:35,131 - core.async_signal_collector - INFO - [async_signal_collector.py:126] - Signal collection completed: 4 successful, 0 failed, 0.00s total
2025-07-30 17:48:35,131 - core.adaptive_threshold_manager - INFO - [adaptive_threshold_manager.py:199] - Adaptive thresholds: BUY=0.787, SELL=-0.787, CONF=0.693
2025-07-30 17:48:35,461 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:48:36,219 - core.integrated_risk_manager - INFO - [integrated_risk_manager.py:77] - Assessing risk for HOLD 0 shares of RELIANCE.NS
2025-07-30 17:48:36,220 - core.integrated_risk_manager - INFO - [integrated_risk_manager.py:159] - Risk assessment complete: low risk (0.310), recommendation: APPROVE
2025-07-30 17:48:36,221 - core.decision_audit_trail - INFO - [decision_audit_trail.py:123] - Decision logged: 1e4a3883-d744-45a0-b07d-82804c5ab2d4 - HOLD RELIANCE.NS
2025-07-30 17:48:36,221 - __main__ - INFO - [web_backend.py:889] - Production decision for RELIANCE.NS: HOLD (confidence: 0.00, risk: 0.31)
2025-07-30 17:48:47,226 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:48:48,611 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:48:59,112 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:49:00,397 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-30 17:49:06,533 - portfolio_manager - INFO - [portfolio_manager.py:145] - Loaded live mode data - Cash: Rs.0.00, Holdings: 0, Trades: 0
2025-07-30 17:49:06,533 - portfolio_manager - INFO - [portfolio_manager.py:117] - Switched from paper mode to live mode
2025-07-30 17:49:06,533 - dhan_client - INFO - [dhan_client.py:35] - Dhan API client initialized
2025-07-30 17:49:06,963 - dhan_client - INFO - [dhan_client.py:294] - Profile response: {'dhanClientId': '1107443739', 'tokenValidity': '22/08/2025 13:06', 'activeSegment': 'Equity, ', 'ddpi': 'Deactive', 'mtf': 'Deactive', 'dataPlan': 'Deactive', 'dataValidity': 'NA'}
2025-07-30 17:49:06,964 - dhan_client - INFO - [dhan_client.py:296] - Dhan API connection validated successfully
2025-07-30 17:49:06,964 - dhan_client - INFO - [dhan_client.py:35] - Dhan API client initialized
2025-07-30 17:49:06,964 - live_executor - INFO - [live_executor.py:42] - Live Trading Executor initialized
2025-07-30 17:49:06,964 - live_executor - INFO - [live_executor.py:55] - Syncing portfolio with Dhan account...
2025-07-30 17:49:07,393 - dhan_client - INFO - [dhan_client.py:66] - Holdings endpoint returned 500 - likely empty portfolio
2025-07-30 17:49:07,394 - live_executor - INFO - [live_executor.py:90] - Portfolio synced - Cash: Rs.0.00, Holdings: Rs.0.00
2025-07-30 17:49:07,394 - __main__ - INFO - [web_backend.py:1103] - Live trading initialized successfully
2025-07-30 17:49:07,394 - __main__ - INFO - [web_backend.py:1161] - Successfully switched from paper to live mode
2025-07-30 17:49:07,394 - __main__ - INFO - [web_backend.py:2144] - Successfully switched from paper to live mode
2025-07-30 17:49:07,394 - __main__ - INFO - [web_backend.py:1554] - Applied LOW risk settings: Stop Loss=3.0%, Max Allocation=15.0%
2025-07-30 17:49:07,394 - __main__ - INFO - [web_backend.py:2171] - Settings updated: Mode=live, Risk Level=LOW, Stop Loss=3.0%, Max Allocation=15.0%
2025-07-30 17:49:07,987 - dhan_client - INFO - [dhan_client.py:294] - Profile response: {'dhanClientId': '1107443739', 'tokenValidity': '22/08/2025 13:06', 'activeSegment': 'Equity, ', 'ddpi': 'Deactive', 'mtf': 'Deactive', 'dataPlan': 'Deactive', 'dataValidity': 'NA'}
2025-07-30 17:49:07,988 - dhan_client - INFO - [dhan_client.py:296] - Dhan API connection validated successfully
2025-07-30 17:49:17,177 - dhan_client - INFO - [dhan_client.py:294] - Profile response: {'dhanClientId': '1107443739', 'tokenValidity': '22/08/2025 13:06', 'activeSegment': 'Equity, ', 'ddpi': 'Deactive', 'mtf': 'Deactive', 'dataPlan': 'Deactive', 'dataValidity': 'NA'}
2025-07-30 17:49:17,178 - dhan_client - INFO - [dhan_client.py:296] - Dhan API connection validated successfully
2025-07-30 17:49:19,077 - portfolio_manager - INFO - [portfolio_manager.py:145] - Loaded paper mode data - Cash: Rs.0.00, Holdings: 0, Trades: 0
2025-07-30 17:49:19,077 - portfolio_manager - INFO - [portfolio_manager.py:117] - Switched from live mode to paper mode
2025-07-30 17:49:19,082 - __main__ - INFO - [web_backend.py:1161] - Successfully switched from live to paper mode
2025-07-30 17:49:19,082 - __main__ - INFO - [web_backend.py:2144] - Successfully switched from live to paper mode
2025-07-30 17:49:19,082 - __main__ - INFO - [web_backend.py:1554] - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-30 17:49:19,083 - __main__ - INFO - [web_backend.py:2171] - Settings updated: Mode=paper, Risk Level=MEDIUM, Stop Loss=5.0%, Max Allocation=25.0%
2025-07-31 12:01:03,771 - mcp_server - INFO - [__init__.py:26] - MCP Trading Server components loaded successfully
2025-07-31 12:01:04,265 - mcp_server.tools.market_analysis_tool - INFO - [market_analysis_tool.py:25] - TA library loaded successfully
2025-07-31 12:01:13,893 - mcp_server - INFO - [__init__.py:33] - All MCP agents loaded successfully
2025-07-31 12:01:16,262 - __main__ - INFO - [web_backend.py:68] - Production core components loaded successfully
2025-07-31 12:01:20,364 - portfolio_manager - INFO - [portfolio_manager.py:48] - Dual Portfolio Manager initialized with data directory: data
2025-07-31 12:01:20,364 - portfolio_manager - INFO - [portfolio_manager.py:104] - Already in paper mode
2025-07-31 12:01:20,366 - testindia - INFO - [testindia.py:1460] - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-31 12:01:20,367 - testindia - INFO - [testindia.py:1466] - Loaded 2 trades from trade log
2025-07-31 12:01:20,408 - testindia - INFO - [testindia.py:705] - Loaded 24 stocks from cache
2025-07-31 12:01:20,408 - testindia - INFO - [testindia.py:2217] - Dynamic ticker mapper initialized
2025-07-31 12:01:20,411 - testindia - INFO - [testindia.py:846] - Llama LLM initialized successfully with Ollama
2025-07-31 12:01:20,411 - testindia - INFO - [testindia.py:4174] - Initializing Stock Trading Bot for Indian market...
2025-07-31 12:01:20,411 - __main__ - ERROR - [web_backend.py:730] - Error initializing production components: AdaptiveThresholdManager.__init__() got an unexpected keyword argument 'learning_rate'
2025-07-31 12:01:20,412 - __main__ - INFO - [web_backend.py:647] - Successfully registered portfolio callback
2025-07-31 12:01:20,412 - __main__ - INFO - [web_backend.py:1456] - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-31 12:01:20,412 - __main__ - INFO - [web_backend.py:1497] - Trading bot initialized successfully
2025-07-31 12:01:20,412 - __main__ - INFO - [web_backend.py:2596] - Starting FastAPI web server on http://127.0.0.1:5000
2025-07-31 12:01:20,412 - __main__ - INFO - [web_backend.py:2597] - Web interface will be available at the above URL
2025-07-31 12:01:20,412 - __main__ - INFO - [web_backend.py:2598] - API documentation available at http://{host}:{port}/docs
2025-07-31 12:01:20,572 - portfolio_manager - INFO - [portfolio_manager.py:48] - Dual Portfolio Manager initialized with data directory: data
2025-07-31 12:01:20,573 - portfolio_manager - INFO - [portfolio_manager.py:104] - Already in paper mode
2025-07-31 12:01:20,574 - testindia - INFO - [testindia.py:1460] - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-31 12:01:20,574 - testindia - INFO - [testindia.py:1466] - Loaded 2 trades from trade log
2025-07-31 12:01:20,588 - testindia - INFO - [testindia.py:705] - Loaded 24 stocks from cache
2025-07-31 12:01:20,588 - testindia - INFO - [testindia.py:2217] - Dynamic ticker mapper initialized
2025-07-31 12:01:20,588 - testindia - INFO - [testindia.py:846] - Llama LLM initialized successfully with Ollama
2025-07-31 12:01:20,589 - testindia - INFO - [testindia.py:4174] - Initializing Stock Trading Bot for Indian market...
2025-07-31 12:01:20,589 - __main__ - ERROR - [web_backend.py:730] - Error initializing production components: AdaptiveThresholdManager.__init__() got an unexpected keyword argument 'learning_rate'
2025-07-31 12:01:20,589 - __main__ - INFO - [web_backend.py:647] - Successfully registered portfolio callback
2025-07-31 12:01:20,589 - __main__ - INFO - [web_backend.py:1456] - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-31 12:01:20,589 - __main__ - INFO - [web_backend.py:1497] - Trading bot initialized successfully
2025-07-31 12:01:20,589 - __main__ - INFO - [web_backend.py:2623] - Trading bot initialized on startup
2025-07-31 12:01:22,102 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-31 12:02:22,102 - __main__ - INFO - [web_backend.py:553] - Fyers client connected successfully
2025-07-31 12:03:22,586 - mcp_server - INFO - [__init__.py:26] - MCP Trading Server components loaded successfully
2025-07-31 12:03:22,759 - mcp_server.tools.market_analysis_tool - INFO - [market_analysis_tool.py:25] - TA library loaded successfully
2025-07-31 12:03:24,051 - mcp_server - INFO - [__init__.py:33] - All MCP agents loaded successfully
2025-07-31 12:03:26,526 - __main__ - INFO - [web_backend.py:68] - Production core components loaded successfully
2025-07-31 12:03:28,008 - portfolio_manager - INFO - [portfolio_manager.py:48] - Dual Portfolio Manager initialized with data directory: data
2025-07-31 12:03:28,008 - portfolio_manager - INFO - [portfolio_manager.py:104] - Already in paper mode
2025-07-31 12:03:28,009 - testindia - INFO - [testindia.py:1460] - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-31 12:03:28,010 - testindia - INFO - [testindia.py:1466] - Loaded 2 trades from trade log
2025-07-31 12:03:28,026 - testindia - INFO - [testindia.py:705] - Loaded 24 stocks from cache
2025-07-31 12:03:28,027 - testindia - INFO - [testindia.py:2217] - Dynamic ticker mapper initialized
2025-07-31 12:03:28,029 - testindia - INFO - [testindia.py:846] - Llama LLM initialized successfully with Ollama
2025-07-31 12:03:28,029 - testindia - INFO - [testindia.py:4174] - Initializing Stock Trading Bot for Indian market...
2025-07-31 12:03:28,030 - __main__ - ERROR - [web_backend.py:713] - Error initializing production components: no running event loop
2025-07-31 12:03:28,030 - __main__ - INFO - [web_backend.py:647] - Successfully registered portfolio callback
2025-07-31 12:03:28,031 - __main__ - INFO - [web_backend.py:1439] - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-31 12:03:28,031 - __main__ - INFO - [web_backend.py:1480] - Trading bot initialized successfully
2025-07-31 12:03:28,031 - __main__ - INFO - [web_backend.py:2579] - Starting FastAPI web server on http://127.0.0.1:5000
2025-07-31 12:03:28,031 - __main__ - INFO - [web_backend.py:2580] - Web interface will be available at the above URL
2025-07-31 12:03:28,031 - __main__ - INFO - [web_backend.py:2581] - API documentation available at http://{host}:{port}/docs
2025-07-31 12:03:28,090 - portfolio_manager - INFO - [portfolio_manager.py:48] - Dual Portfolio Manager initialized with data directory: data
2025-07-31 12:03:28,091 - portfolio_manager - INFO - [portfolio_manager.py:104] - Already in paper mode
2025-07-31 12:03:28,092 - testindia - INFO - [testindia.py:1460] - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-31 12:03:28,092 - testindia - INFO - [testindia.py:1466] - Loaded 2 trades from trade log
2025-07-31 12:03:28,107 - testindia - INFO - [testindia.py:705] - Loaded 24 stocks from cache
2025-07-31 12:03:28,107 - testindia - INFO - [testindia.py:2217] - Dynamic ticker mapper initialized
2025-07-31 12:03:28,107 - testindia - INFO - [testindia.py:846] - Llama LLM initialized successfully with Ollama
2025-07-31 12:03:28,108 - testindia - INFO - [testindia.py:4174] - Initializing Stock Trading Bot for Indian market...
2025-07-31 12:03:30,834 - __main__ - INFO - [web_backend.py:708] - Production components initialized successfully
2025-07-31 12:03:30,834 - __main__ - INFO - [web_backend.py:709] - Signal Collector: 3 sources registered
2025-07-31 12:03:30,834 - __main__ - INFO - [web_backend.py:710] - Adaptive thresholds, risk management, audit trail, and learning engine active
2025-07-31 12:03:30,835 - __main__ - INFO - [web_backend.py:647] - Successfully registered portfolio callback
2025-07-31 12:03:30,835 - __main__ - INFO - [web_backend.py:1439] - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-31 12:03:30,835 - __main__ - INFO - [web_backend.py:1480] - Trading bot initialized successfully
2025-07-31 12:03:30,835 - __main__ - INFO - [web_backend.py:2606] - Trading bot initialized on startup
2025-07-31 12:03:30,850 - core.decision_audit_trail - INFO - [decision_audit_trail.py:363] - Loaded 7 recent decisions
2025-08-05 12:17:09,404 - mcp_server - INFO - [__init__.py:26] - MCP Trading Server components loaded successfully
2025-08-05 12:20:03,566 - mcp_server - INFO - [__init__.py:26] - MCP Trading Server components loaded successfully
2025-08-05 12:20:12,049 - mcp_server - INFO - [__init__.py:33] - All MCP agents loaded successfully
2025-08-05 12:21:11,806 - mcp_server - INFO - [__init__.py:26] - MCP Trading Server components loaded successfully
2025-08-05 12:21:19,254 - mcp_server - INFO - [__init__.py:33] - All MCP agents loaded successfully
2025-08-05 12:21:19,548 - __main__ - INFO - [web_backend.py:130] - Utils modules imported successfully
2025-08-05 12:21:21,811 - __main__ - INFO - [web_backend.py:167] - Production core components loaded successfully
2025-08-05 12:21:28,856 - portfolio_manager - INFO - [portfolio_manager.py:48] - Dual Portfolio Manager initialized with data directory: data
2025-08-05 12:21:28,856 - portfolio_manager - INFO - [portfolio_manager.py:104] - Already in paper mode
2025-08-05 12:21:28,868 - testindia - INFO - [testindia.py:1507] - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-08-05 12:21:28,879 - testindia - INFO - [testindia.py:1513] - Loaded 2 trades from trade log
2025-08-05 12:21:28,915 - testindia - INFO - [testindia.py:109] - Fyers API initialized successfully for ticker mapping
2025-08-05 12:21:28,927 - testindia - INFO - [testindia.py:752] - Loaded 78 stocks from cache
2025-08-05 12:21:28,927 - testindia - INFO - [testindia.py:2264] - Dynamic ticker mapper initialized
2025-08-05 12:21:28,927 - testindia - INFO - [testindia.py:4618] - Production core components initialized successfully
2025-08-05 12:21:28,933 - fyers_data_service - INFO - [fyers_data_service.py:43] - Fyers API imported successfully
2025-08-05 12:21:28,944 - fyers_data_service - INFO - [fyers_data_service.py:100] - Fyers Data Service initialized
2025-08-05 12:21:28,945 - fyers_data_service - INFO - [fyers_data_service.py:100] - Fyers Data Service initialized
2025-08-05 12:21:28,946 - testindia - ERROR - [testindia.py:4647] - Error initializing data services: 'FyersDataService' object has no attribute 'connect'
2025-08-05 12:21:28,948 - testindia - INFO - [testindia.py:893] - Llama LLM initialized successfully with Ollama
2025-08-05 12:21:28,948 - testindia - INFO - [testindia.py:4652] - Initializing Stock Trading Bot for Indian market...
2025-08-05 12:21:29,004 - web_backend - INFO - [web_backend.py:130] - Utils modules imported successfully
2025-08-05 12:21:29,005 - web_backend - INFO - [web_backend.py:167] - Production core components loaded successfully
2025-08-05 12:21:29,020 - data_service_client - INFO - [data_service_client.py:50] - Data Service Client initialized for http://127.0.0.1:8001
2025-08-05 12:21:29,020 - __main__ - INFO - [web_backend.py:763] - Data service client initialized
2025-08-05 12:21:31,531 - __main__ - INFO - [web_backend.py:852] - Production components initialized successfully
2025-08-05 12:21:31,532 - __main__ - INFO - [web_backend.py:853] - Signal Collector: 3 sources registered
2025-08-05 12:21:31,532 - __main__ - INFO - [web_backend.py:854] - Adaptive thresholds, risk management, audit trail, and learning engine active
2025-08-05 12:21:31,532 - __main__ - INFO - [web_backend.py:773] - Successfully registered portfolio callback
2025-08-05 12:21:31,532 - __main__ - INFO - [web_backend.py:1586] - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-08-05 12:21:31,532 - __main__ - INFO - [web_backend.py:1627] - Trading bot initialized successfully
2025-08-05 12:21:31,532 - __main__ - INFO - [web_backend.py:2799] - Starting FastAPI web server on http://127.0.0.1:5000
2025-08-05 12:21:31,532 - __main__ - INFO - [web_backend.py:2800] - Web interface will be available at the above URL
2025-08-05 12:21:31,533 - __main__ - INFO - [web_backend.py:2801] - API documentation available at http://{host}:{port}/docs
2025-08-05 12:21:31,592 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 12:21:31,593 - __main__ - INFO - [web_backend.py:2830] - *** DATA SERVICE AVAILABLE - PRODUCTION MODE ***
2025-08-05 12:21:31,599 - data_service_client - INFO - [data_service_client.py:185] - Watchlist updated with 20 symbols
2025-08-05 12:21:31,603 - portfolio_manager - INFO - [portfolio_manager.py:48] - Dual Portfolio Manager initialized with data directory: data
2025-08-05 12:21:31,604 - portfolio_manager - INFO - [portfolio_manager.py:104] - Already in paper mode
2025-08-05 12:21:31,605 - testindia - INFO - [testindia.py:1507] - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-08-05 12:21:31,605 - testindia - INFO - [testindia.py:1513] - Loaded 2 trades from trade log
2025-08-05 12:21:31,617 - testindia - INFO - [testindia.py:109] - Fyers API initialized successfully for ticker mapping
2025-08-05 12:21:31,618 - testindia - INFO - [testindia.py:752] - Loaded 78 stocks from cache
2025-08-05 12:21:31,618 - testindia - INFO - [testindia.py:2264] - Dynamic ticker mapper initialized
2025-08-05 12:21:31,618 - testindia - INFO - [testindia.py:4618] - Production core components initialized successfully
2025-08-05 12:21:31,620 - fyers_data_service - INFO - [fyers_data_service.py:100] - Fyers Data Service initialized
2025-08-05 12:21:31,621 - testindia - ERROR - [testindia.py:4647] - Error initializing data services: 'FyersDataService' object has no attribute 'connect'
2025-08-05 12:21:31,621 - testindia - INFO - [testindia.py:893] - Llama LLM initialized successfully with Ollama
2025-08-05 12:21:31,621 - testindia - INFO - [testindia.py:4652] - Initializing Stock Trading Bot for Indian market...
2025-08-05 12:21:31,622 - __main__ - INFO - [web_backend.py:763] - Data service client initialized
2025-08-05 12:21:31,626 - __main__ - INFO - [web_backend.py:852] - Production components initialized successfully
2025-08-05 12:21:31,626 - __main__ - INFO - [web_backend.py:853] - Signal Collector: 3 sources registered
2025-08-05 12:21:31,626 - __main__ - INFO - [web_backend.py:854] - Adaptive thresholds, risk management, audit trail, and learning engine active
2025-08-05 12:21:31,626 - __main__ - INFO - [web_backend.py:773] - Successfully registered portfolio callback
2025-08-05 12:21:31,627 - __main__ - INFO - [web_backend.py:1586] - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-08-05 12:21:31,627 - __main__ - INFO - [web_backend.py:1627] - Trading bot initialized successfully
2025-08-05 12:21:31,627 - __main__ - INFO - [web_backend.py:2847] - Executing pending async initializations...
2025-08-05 12:21:31,641 - core.decision_audit_trail - INFO - [decision_audit_trail.py:374] - Loaded 7 recent decisions
2025-08-05 12:21:31,642 - core.decision_audit_trail - INFO - [decision_audit_trail.py:91] - Decision audit trail initialized successfully
2025-08-05 12:21:31,642 - __main__ - INFO - [web_backend.py:2851] - Successfully initialized audit_trail
2025-08-05 12:21:31,642 - __main__ - INFO - [web_backend.py:2857] - Trading bot initialized on startup
2025-08-05 12:28:24,402 - mcp_server - INFO - [__init__.py:26] - MCP Trading Server components loaded successfully
2025-08-05 12:28:25,503 - mcp_server - INFO - [__init__.py:33] - All MCP agents loaded successfully
2025-08-05 12:28:25,738 - __main__ - INFO - [web_backend.py:130] - Utils modules imported successfully
2025-08-05 12:28:27,859 - __main__ - INFO - [web_backend.py:167] - Production core components loaded successfully
2025-08-05 12:28:29,421 - portfolio_manager - INFO - [portfolio_manager.py:48] - Dual Portfolio Manager initialized with data directory: data
2025-08-05 12:28:29,422 - portfolio_manager - INFO - [portfolio_manager.py:104] - Already in paper mode
2025-08-05 12:28:29,423 - testindia - INFO - [testindia.py:1507] - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-08-05 12:28:29,424 - testindia - INFO - [testindia.py:1513] - Loaded 2 trades from trade log
2025-08-05 12:28:29,439 - testindia - INFO - [testindia.py:109] - Fyers API initialized successfully for ticker mapping
2025-08-05 12:28:29,439 - testindia - INFO - [testindia.py:752] - Loaded 78 stocks from cache
2025-08-05 12:28:29,439 - testindia - INFO - [testindia.py:2264] - Dynamic ticker mapper initialized
2025-08-05 12:28:29,440 - testindia - INFO - [testindia.py:4618] - Production core components initialized successfully
2025-08-05 12:28:29,445 - fyers_data_service - INFO - [fyers_data_service.py:43] - Fyers API imported successfully
2025-08-05 12:28:29,455 - fyers_data_service - INFO - [fyers_data_service.py:100] - Fyers Data Service initialized
2025-08-05 12:28:29,457 - fyers_data_service - INFO - [fyers_data_service.py:100] - Fyers Data Service initialized
2025-08-05 12:28:29,457 - testindia - ERROR - [testindia.py:4647] - Error initializing data services: 'FyersDataService' object has no attribute 'connect'
2025-08-05 12:28:29,459 - testindia - INFO - [testindia.py:893] - Llama LLM initialized successfully with Ollama
2025-08-05 12:28:29,459 - testindia - INFO - [testindia.py:4652] - Initializing Stock Trading Bot for Indian market...
2025-08-05 12:28:29,462 - web_backend - INFO - [web_backend.py:130] - Utils modules imported successfully
2025-08-05 12:28:29,462 - web_backend - INFO - [web_backend.py:167] - Production core components loaded successfully
2025-08-05 12:28:29,478 - data_service_client - INFO - [data_service_client.py:50] - Data Service Client initialized for http://127.0.0.1:8001
2025-08-05 12:28:29,478 - __main__ - INFO - [web_backend.py:763] - Data service client initialized
2025-08-05 12:28:31,428 - __main__ - INFO - [web_backend.py:852] - Production components initialized successfully
2025-08-05 12:28:31,428 - __main__ - INFO - [web_backend.py:853] - Signal Collector: 3 sources registered
2025-08-05 12:28:31,428 - __main__ - INFO - [web_backend.py:854] - Adaptive thresholds, risk management, audit trail, and learning engine active
2025-08-05 12:28:31,428 - __main__ - INFO - [web_backend.py:773] - Successfully registered portfolio callback
2025-08-05 12:28:31,428 - __main__ - INFO - [web_backend.py:1586] - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-08-05 12:28:31,429 - __main__ - INFO - [web_backend.py:1627] - Trading bot initialized successfully
2025-08-05 12:28:31,429 - __main__ - INFO - [web_backend.py:2799] - Starting FastAPI web server on http://127.0.0.1:5000
2025-08-05 12:28:31,429 - __main__ - INFO - [web_backend.py:2800] - Web interface will be available at the above URL
2025-08-05 12:28:31,429 - __main__ - INFO - [web_backend.py:2801] - API documentation available at http://{host}:{port}/docs
2025-08-05 12:28:31,491 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 12:28:31,491 - __main__ - INFO - [web_backend.py:2830] - *** DATA SERVICE AVAILABLE - PRODUCTION MODE ***
2025-08-05 12:28:31,497 - data_service_client - INFO - [data_service_client.py:185] - Watchlist updated with 20 symbols
2025-08-05 12:28:31,502 - portfolio_manager - INFO - [portfolio_manager.py:48] - Dual Portfolio Manager initialized with data directory: data
2025-08-05 12:28:31,502 - portfolio_manager - INFO - [portfolio_manager.py:104] - Already in paper mode
2025-08-05 12:28:31,504 - testindia - INFO - [testindia.py:1507] - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-08-05 12:28:31,504 - testindia - INFO - [testindia.py:1513] - Loaded 2 trades from trade log
2025-08-05 12:28:31,520 - testindia - INFO - [testindia.py:109] - Fyers API initialized successfully for ticker mapping
2025-08-05 12:28:31,521 - testindia - INFO - [testindia.py:752] - Loaded 78 stocks from cache
2025-08-05 12:28:31,521 - testindia - INFO - [testindia.py:2264] - Dynamic ticker mapper initialized
2025-08-05 12:28:31,521 - testindia - INFO - [testindia.py:4618] - Production core components initialized successfully
2025-08-05 12:28:31,524 - fyers_data_service - INFO - [fyers_data_service.py:100] - Fyers Data Service initialized
2025-08-05 12:28:31,524 - testindia - ERROR - [testindia.py:4647] - Error initializing data services: 'FyersDataService' object has no attribute 'connect'
2025-08-05 12:28:31,525 - testindia - INFO - [testindia.py:893] - Llama LLM initialized successfully with Ollama
2025-08-05 12:28:31,525 - testindia - INFO - [testindia.py:4652] - Initializing Stock Trading Bot for Indian market...
2025-08-05 12:28:31,525 - __main__ - INFO - [web_backend.py:763] - Data service client initialized
2025-08-05 12:28:31,528 - __main__ - INFO - [web_backend.py:852] - Production components initialized successfully
2025-08-05 12:28:31,528 - __main__ - INFO - [web_backend.py:853] - Signal Collector: 3 sources registered
2025-08-05 12:28:31,528 - __main__ - INFO - [web_backend.py:854] - Adaptive thresholds, risk management, audit trail, and learning engine active
2025-08-05 12:28:31,529 - __main__ - INFO - [web_backend.py:773] - Successfully registered portfolio callback
2025-08-05 12:28:31,529 - __main__ - INFO - [web_backend.py:1586] - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-08-05 12:28:31,529 - __main__ - INFO - [web_backend.py:1627] - Trading bot initialized successfully
2025-08-05 12:28:31,529 - __main__ - INFO - [web_backend.py:2847] - Executing pending async initializations...
2025-08-05 12:28:31,530 - core.decision_audit_trail - INFO - [decision_audit_trail.py:374] - Loaded 7 recent decisions
2025-08-05 12:28:31,530 - core.decision_audit_trail - INFO - [decision_audit_trail.py:91] - Decision audit trail initialized successfully
2025-08-05 12:28:31,531 - __main__ - INFO - [web_backend.py:2851] - Successfully initialized audit_trail
2025-08-05 12:28:31,531 - __main__ - INFO - [web_backend.py:2857] - Trading bot initialized on startup
2025-08-05 12:28:36,316 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:28:41,309 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:28:46,310 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:28:51,316 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:29:45,617 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 12:29:45,623 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:30:45,306 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 12:30:45,311 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:31:46,834 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 12:31:46,839 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:32:45,330 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 12:32:45,335 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:33:44,091 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 12:33:44,096 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:33:46,614 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:33:51,312 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:33:56,630 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:34:01,306 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:34:06,305 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:34:11,309 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:34:16,300 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 12:34:16,301 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:34:21,317 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:34:26,633 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:34:31,309 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:34:36,307 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:34:41,299 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:35:15,861 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 12:35:15,867 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:35:21,159 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:35:25,901 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:35:31,304 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:35:36,314 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:35:41,303 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:35:46,326 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 12:35:46,330 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:35:51,300 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:35:56,627 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:36:01,302 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:36:06,301 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:36:11,307 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:36:16,312 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:36:21,307 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 12:36:21,308 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:36:26,304 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:36:45,310 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:37:45,334 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 12:37:45,338 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:38:00,313 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:38:05,310 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:38:10,316 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:38:15,299 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:38:20,311 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 12:38:20,315 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:38:51,303 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 12:39:37,448 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 12:40:03,629 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:40:08,330 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 12:40:08,646 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:40:13,301 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:40:18,302 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:40:23,297 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:40:28,313 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:40:33,317 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:40:38,616 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 12:40:38,621 - __main__ - ERROR - [web_backend.py:1775] - Error getting real-time portfolio: name 'self' is not defined
2025-08-05 12:40:59,826 - mcp_server - INFO - [__init__.py:26] - MCP Trading Server components loaded successfully
2025-08-05 12:41:00,959 - mcp_server - INFO - [__init__.py:33] - All MCP agents loaded successfully
2025-08-05 12:41:01,178 - __main__ - INFO - [web_backend.py:130] - Utils modules imported successfully
2025-08-05 12:41:03,511 - __main__ - INFO - [web_backend.py:167] - Production core components loaded successfully
2025-08-05 12:41:05,033 - portfolio_manager - INFO - [portfolio_manager.py:48] - Dual Portfolio Manager initialized with data directory: data
2025-08-05 12:41:05,033 - portfolio_manager - INFO - [portfolio_manager.py:104] - Already in paper mode
2025-08-05 12:41:05,034 - testindia - INFO - [testindia.py:1507] - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-08-05 12:41:05,035 - testindia - INFO - [testindia.py:1513] - Loaded 2 trades from trade log
2025-08-05 12:41:05,050 - testindia - INFO - [testindia.py:109] - Fyers API initialized successfully for ticker mapping
2025-08-05 12:41:05,050 - testindia - INFO - [testindia.py:752] - Loaded 78 stocks from cache
2025-08-05 12:41:05,050 - testindia - INFO - [testindia.py:2264] - Dynamic ticker mapper initialized
2025-08-05 12:41:05,051 - testindia - INFO - [testindia.py:4618] - Production core components initialized successfully
2025-08-05 12:41:05,056 - fyers_data_service - INFO - [fyers_data_service.py:43] - Fyers API imported successfully
2025-08-05 12:41:05,069 - fyers_data_service - INFO - [fyers_data_service.py:100] - Fyers Data Service initialized
2025-08-05 12:41:05,070 - fyers_data_service - INFO - [fyers_data_service.py:100] - Fyers Data Service initialized
2025-08-05 12:41:05,070 - testindia - ERROR - [testindia.py:4647] - Error initializing data services: 'FyersDataService' object has no attribute 'connect'
2025-08-05 12:41:05,072 - testindia - INFO - [testindia.py:893] - Llama LLM initialized successfully with Ollama
2025-08-05 12:41:05,072 - testindia - INFO - [testindia.py:4652] - Initializing Stock Trading Bot for Indian market...
2025-08-05 12:41:05,115 - web_backend - INFO - [web_backend.py:130] - Utils modules imported successfully
2025-08-05 12:41:05,116 - web_backend - INFO - [web_backend.py:167] - Production core components loaded successfully
2025-08-05 12:41:05,127 - data_service_client - INFO - [data_service_client.py:50] - Data Service Client initialized for http://127.0.0.1:8001
2025-08-05 12:41:05,127 - __main__ - INFO - [web_backend.py:763] - Data service client initialized
2025-08-05 12:41:06,958 - __main__ - INFO - [web_backend.py:852] - Production components initialized successfully
2025-08-05 12:41:06,958 - __main__ - INFO - [web_backend.py:853] - Signal Collector: 3 sources registered
2025-08-05 12:41:06,958 - __main__ - INFO - [web_backend.py:854] - Adaptive thresholds, risk management, audit trail, and learning engine active
2025-08-05 12:41:06,959 - __main__ - INFO - [web_backend.py:773] - Successfully registered portfolio callback
2025-08-05 12:41:06,959 - __main__ - INFO - [web_backend.py:1586] - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-08-05 12:41:06,959 - __main__ - INFO - [web_backend.py:1627] - Trading bot initialized successfully
2025-08-05 12:41:06,959 - __main__ - INFO - [web_backend.py:2799] - Starting FastAPI web server on http://127.0.0.1:5000
2025-08-05 12:41:06,959 - __main__ - INFO - [web_backend.py:2800] - Web interface will be available at the above URL
2025-08-05 12:41:06,959 - __main__ - INFO - [web_backend.py:2801] - API documentation available at http://{host}:{port}/docs
2025-08-05 12:41:06,995 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 12:41:06,996 - __main__ - INFO - [web_backend.py:2830] - *** DATA SERVICE AVAILABLE - PRODUCTION MODE ***
2025-08-05 12:41:07,001 - data_service_client - INFO - [data_service_client.py:185] - Watchlist updated with 20 symbols
2025-08-05 12:41:07,006 - portfolio_manager - INFO - [portfolio_manager.py:48] - Dual Portfolio Manager initialized with data directory: data
2025-08-05 12:41:07,007 - portfolio_manager - INFO - [portfolio_manager.py:104] - Already in paper mode
2025-08-05 12:41:07,008 - testindia - INFO - [testindia.py:1507] - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-08-05 12:41:07,008 - testindia - INFO - [testindia.py:1513] - Loaded 2 trades from trade log
2025-08-05 12:41:07,022 - testindia - INFO - [testindia.py:109] - Fyers API initialized successfully for ticker mapping
2025-08-05 12:41:07,023 - testindia - INFO - [testindia.py:752] - Loaded 78 stocks from cache
2025-08-05 12:41:07,023 - testindia - INFO - [testindia.py:2264] - Dynamic ticker mapper initialized
2025-08-05 12:41:07,023 - testindia - INFO - [testindia.py:4618] - Production core components initialized successfully
2025-08-05 12:41:07,026 - fyers_data_service - INFO - [fyers_data_service.py:100] - Fyers Data Service initialized
2025-08-05 12:41:07,026 - testindia - ERROR - [testindia.py:4647] - Error initializing data services: 'FyersDataService' object has no attribute 'connect'
2025-08-05 12:41:07,027 - testindia - INFO - [testindia.py:893] - Llama LLM initialized successfully with Ollama
2025-08-05 12:41:07,027 - testindia - INFO - [testindia.py:4652] - Initializing Stock Trading Bot for Indian market...
2025-08-05 12:41:07,027 - __main__ - INFO - [web_backend.py:763] - Data service client initialized
2025-08-05 12:41:07,030 - __main__ - INFO - [web_backend.py:852] - Production components initialized successfully
2025-08-05 12:41:07,031 - __main__ - INFO - [web_backend.py:853] - Signal Collector: 3 sources registered
2025-08-05 12:41:07,031 - __main__ - INFO - [web_backend.py:854] - Adaptive thresholds, risk management, audit trail, and learning engine active
2025-08-05 12:41:07,031 - __main__ - INFO - [web_backend.py:773] - Successfully registered portfolio callback
2025-08-05 12:41:07,031 - __main__ - INFO - [web_backend.py:1586] - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-08-05 12:41:07,031 - __main__ - INFO - [web_backend.py:1627] - Trading bot initialized successfully
2025-08-05 12:41:07,031 - __main__ - INFO - [web_backend.py:2847] - Executing pending async initializations...
2025-08-05 12:41:07,032 - core.decision_audit_trail - INFO - [decision_audit_trail.py:374] - Loaded 7 recent decisions
2025-08-05 12:41:07,033 - core.decision_audit_trail - INFO - [decision_audit_trail.py:91] - Decision audit trail initialized successfully
2025-08-05 12:41:07,033 - __main__ - INFO - [web_backend.py:2851] - Successfully initialized audit_trail
2025-08-05 12:41:07,033 - __main__ - INFO - [web_backend.py:2857] - Trading bot initialized on startup
2025-08-05 12:41:38,327 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 12:42:11,947 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 12:42:42,628 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 12:43:11,105 - __main__ - INFO - [web_backend.py:2940] - Starting graceful shutdown...
2025-08-05 12:43:11,106 - __main__ - INFO - [web_backend.py:1233] - Trading bot is already stopped
2025-08-05 12:43:11,106 - __main__ - INFO - [web_backend.py:2946] - Trading bot stopped
2025-08-05 12:43:11,106 - __main__ - INFO - [web_backend.py:2972] - Graceful shutdown completed
2025-08-05 12:43:11,107 - __main__ - INFO - [web_backend.py:2990] - Web server stopped by user
2025-08-05 12:47:12,732 - mcp_server - INFO - [__init__.py:26] - MCP Trading Server components loaded successfully
2025-08-05 12:47:13,834 - mcp_server - INFO - [__init__.py:33] - All MCP agents loaded successfully
2025-08-05 12:47:14,043 - __main__ - INFO - [web_backend.py:130] - Utils modules imported successfully
2025-08-05 12:47:15,527 - __main__ - INFO - [web_backend.py:167] - Production core components loaded successfully
2025-08-05 12:47:16,706 - portfolio_manager - INFO - [portfolio_manager.py:48] - Dual Portfolio Manager initialized with data directory: data
2025-08-05 12:47:16,706 - portfolio_manager - INFO - [portfolio_manager.py:104] - Already in paper mode
2025-08-05 12:47:16,707 - testindia - INFO - [testindia.py:1507] - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-08-05 12:47:16,707 - testindia - INFO - [testindia.py:1513] - Loaded 2 trades from trade log
2025-08-05 12:47:16,723 - testindia - INFO - [testindia.py:109] - Fyers API initialized successfully for ticker mapping
2025-08-05 12:47:16,723 - testindia - INFO - [testindia.py:752] - Loaded 78 stocks from cache
2025-08-05 12:47:16,723 - testindia - INFO - [testindia.py:2264] - Dynamic ticker mapper initialized
2025-08-05 12:47:16,723 - testindia - INFO - [testindia.py:4618] - Production core components initialized successfully
2025-08-05 12:47:16,729 - fyers_data_service - INFO - [fyers_data_service.py:43] - Fyers API imported successfully
2025-08-05 12:47:16,739 - fyers_data_service - INFO - [fyers_data_service.py:100] - Fyers Data Service initialized
2025-08-05 12:47:16,741 - fyers_data_service - INFO - [fyers_data_service.py:100] - Fyers Data Service initialized
2025-08-05 12:47:16,741 - testindia - ERROR - [testindia.py:4647] - Error initializing data services: 'FyersDataService' object has no attribute 'connect'
2025-08-05 12:47:16,743 - testindia - INFO - [testindia.py:893] - Llama LLM initialized successfully with Ollama
2025-08-05 12:47:16,743 - testindia - INFO - [testindia.py:4652] - Initializing Stock Trading Bot for Indian market...
2025-08-05 12:47:16,745 - web_backend - INFO - [web_backend.py:130] - Utils modules imported successfully
2025-08-05 12:47:16,745 - web_backend - INFO - [web_backend.py:167] - Production core components loaded successfully
2025-08-05 12:47:16,762 - data_service_client - INFO - [data_service_client.py:50] - Data Service Client initialized for http://127.0.0.1:8001
2025-08-05 12:47:16,762 - __main__ - INFO - [web_backend.py:763] - Data service client initialized
2025-08-05 12:47:18,563 - __main__ - INFO - [web_backend.py:852] - Production components initialized successfully
2025-08-05 12:47:18,563 - __main__ - INFO - [web_backend.py:853] - Signal Collector: 3 sources registered
2025-08-05 12:47:18,563 - __main__ - INFO - [web_backend.py:854] - Adaptive thresholds, risk management, audit trail, and learning engine active
2025-08-05 12:47:18,564 - __main__ - INFO - [web_backend.py:773] - Successfully registered portfolio callback
2025-08-05 12:47:18,564 - __main__ - INFO - [web_backend.py:1586] - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-08-05 12:47:18,564 - __main__ - INFO - [web_backend.py:1627] - Trading bot initialized successfully
2025-08-05 12:47:18,564 - __main__ - INFO - [web_backend.py:2799] - Starting FastAPI web server on http://127.0.0.1:5000
2025-08-05 12:47:18,564 - __main__ - INFO - [web_backend.py:2800] - Web interface will be available at the above URL
2025-08-05 12:47:18,565 - __main__ - INFO - [web_backend.py:2801] - API documentation available at http://{host}:{port}/docs
2025-08-05 12:47:18,600 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 12:47:18,600 - __main__ - INFO - [web_backend.py:2830] - *** DATA SERVICE AVAILABLE - PRODUCTION MODE ***
2025-08-05 12:47:18,605 - data_service_client - INFO - [data_service_client.py:185] - Watchlist updated with 20 symbols
2025-08-05 12:47:18,608 - portfolio_manager - INFO - [portfolio_manager.py:48] - Dual Portfolio Manager initialized with data directory: data
2025-08-05 12:47:18,608 - portfolio_manager - INFO - [portfolio_manager.py:104] - Already in paper mode
2025-08-05 12:47:18,609 - testindia - INFO - [testindia.py:1507] - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-08-05 12:47:18,609 - testindia - INFO - [testindia.py:1513] - Loaded 2 trades from trade log
2025-08-05 12:47:18,617 - testindia - INFO - [testindia.py:109] - Fyers API initialized successfully for ticker mapping
2025-08-05 12:47:18,617 - testindia - INFO - [testindia.py:752] - Loaded 78 stocks from cache
2025-08-05 12:47:18,617 - testindia - INFO - [testindia.py:2264] - Dynamic ticker mapper initialized
2025-08-05 12:47:18,617 - testindia - INFO - [testindia.py:4618] - Production core components initialized successfully
2025-08-05 12:47:18,619 - fyers_data_service - INFO - [fyers_data_service.py:100] - Fyers Data Service initialized
2025-08-05 12:47:18,619 - testindia - ERROR - [testindia.py:4647] - Error initializing data services: 'FyersDataService' object has no attribute 'connect'
2025-08-05 12:47:18,620 - testindia - INFO - [testindia.py:893] - Llama LLM initialized successfully with Ollama
2025-08-05 12:47:18,620 - testindia - INFO - [testindia.py:4652] - Initializing Stock Trading Bot for Indian market...
2025-08-05 12:47:18,620 - __main__ - INFO - [web_backend.py:763] - Data service client initialized
2025-08-05 12:47:18,623 - __main__ - INFO - [web_backend.py:852] - Production components initialized successfully
2025-08-05 12:47:18,623 - __main__ - INFO - [web_backend.py:853] - Signal Collector: 3 sources registered
2025-08-05 12:47:18,623 - __main__ - INFO - [web_backend.py:854] - Adaptive thresholds, risk management, audit trail, and learning engine active
2025-08-05 12:47:18,623 - __main__ - INFO - [web_backend.py:773] - Successfully registered portfolio callback
2025-08-05 12:47:18,623 - __main__ - INFO - [web_backend.py:1586] - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-08-05 12:47:18,623 - __main__ - INFO - [web_backend.py:1627] - Trading bot initialized successfully
2025-08-05 12:47:18,623 - __main__ - INFO - [web_backend.py:2847] - Executing pending async initializations...
2025-08-05 12:47:18,624 - core.decision_audit_trail - INFO - [decision_audit_trail.py:374] - Loaded 7 recent decisions
2025-08-05 12:47:18,624 - core.decision_audit_trail - INFO - [decision_audit_trail.py:91] - Decision audit trail initialized successfully
2025-08-05 12:47:18,624 - __main__ - INFO - [web_backend.py:2851] - Successfully initialized audit_trail
2025-08-05 12:47:18,624 - __main__ - INFO - [web_backend.py:2857] - Trading bot initialized on startup
2025-08-05 12:50:15,021 - mcp_server - INFO - [__init__.py:26] - MCP Trading Server components loaded successfully
2025-08-05 12:50:16,045 - mcp_server - INFO - [__init__.py:33] - All MCP agents loaded successfully
2025-08-05 12:50:16,249 - __main__ - INFO - [web_backend.py:130] - Utils modules imported successfully
2025-08-05 12:50:20,565 - __main__ - INFO - [web_backend.py:167] - Production core components loaded successfully
2025-08-05 12:50:25,426 - portfolio_manager - INFO - [portfolio_manager.py:48] - Dual Portfolio Manager initialized with data directory: data
2025-08-05 12:50:25,426 - portfolio_manager - INFO - [portfolio_manager.py:104] - Already in paper mode
2025-08-05 12:50:25,428 - testindia - INFO - [testindia.py:1507] - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-08-05 12:50:25,428 - testindia - INFO - [testindia.py:1513] - Loaded 2 trades from trade log
2025-08-05 12:50:25,467 - testindia - INFO - [testindia.py:109] - Fyers API initialized successfully for ticker mapping
2025-08-05 12:50:25,468 - testindia - INFO - [testindia.py:752] - Loaded 78 stocks from cache
2025-08-05 12:50:25,468 - testindia - INFO - [testindia.py:2264] - Dynamic ticker mapper initialized
2025-08-05 12:50:25,468 - testindia - INFO - [testindia.py:4618] - Production core components initialized successfully
2025-08-05 12:50:25,473 - fyers_data_service - INFO - [fyers_data_service.py:43] - Fyers API imported successfully
2025-08-05 12:50:25,478 - fyers_data_service - INFO - [fyers_data_service.py:100] - Fyers Data Service initialized
2025-08-05 12:50:25,480 - fyers_data_service - INFO - [fyers_data_service.py:100] - Fyers Data Service initialized
2025-08-05 12:50:25,480 - testindia - INFO - [testindia.py:4641] - Fyers data service initialized (runs independently)
2025-08-05 12:50:25,483 - testindia - INFO - [testindia.py:893] - Llama LLM initialized successfully with Ollama
2025-08-05 12:50:25,483 - testindia - INFO - [testindia.py:4649] - Initializing Stock Trading Bot for Indian market...
2025-08-05 12:50:25,486 - web_backend - INFO - [web_backend.py:130] - Utils modules imported successfully
2025-08-05 12:50:25,487 - web_backend - INFO - [web_backend.py:167] - Production core components loaded successfully
2025-08-05 12:50:25,510 - data_service_client - INFO - [data_service_client.py:50] - Data Service Client initialized for http://127.0.0.1:8001
2025-08-05 12:50:25,510 - __main__ - INFO - [web_backend.py:763] - Data service client initialized
2025-08-05 12:50:28,341 - __main__ - INFO - [web_backend.py:852] - Production components initialized successfully
2025-08-05 12:50:28,341 - __main__ - INFO - [web_backend.py:853] - Signal Collector: 3 sources registered
2025-08-05 12:50:28,341 - __main__ - INFO - [web_backend.py:854] - Adaptive thresholds, risk management, audit trail, and learning engine active
2025-08-05 12:50:28,341 - __main__ - INFO - [web_backend.py:773] - Successfully registered portfolio callback
2025-08-05 12:50:28,342 - __main__ - INFO - [web_backend.py:1586] - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-08-05 12:50:28,342 - __main__ - INFO - [web_backend.py:1627] - Trading bot initialized successfully
2025-08-05 12:50:28,342 - __main__ - INFO - [web_backend.py:2799] - Starting FastAPI web server on http://127.0.0.1:5000
2025-08-05 12:50:28,342 - __main__ - INFO - [web_backend.py:2800] - Web interface will be available at the above URL
2025-08-05 12:50:28,342 - __main__ - INFO - [web_backend.py:2801] - API documentation available at http://{host}:{port}/docs
2025-08-05 12:50:28,395 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 12:50:28,396 - __main__ - INFO - [web_backend.py:2830] - *** DATA SERVICE AVAILABLE - PRODUCTION MODE ***
2025-08-05 12:50:28,403 - data_service_client - INFO - [data_service_client.py:185] - Watchlist updated with 20 symbols
2025-08-05 12:50:28,407 - portfolio_manager - INFO - [portfolio_manager.py:48] - Dual Portfolio Manager initialized with data directory: data
2025-08-05 12:50:28,407 - portfolio_manager - INFO - [portfolio_manager.py:104] - Already in paper mode
2025-08-05 12:50:28,408 - testindia - INFO - [testindia.py:1507] - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-08-05 12:50:28,408 - testindia - INFO - [testindia.py:1513] - Loaded 2 trades from trade log
2025-08-05 12:50:28,417 - testindia - INFO - [testindia.py:109] - Fyers API initialized successfully for ticker mapping
2025-08-05 12:50:28,418 - testindia - INFO - [testindia.py:752] - Loaded 78 stocks from cache
2025-08-05 12:50:28,418 - testindia - INFO - [testindia.py:2264] - Dynamic ticker mapper initialized
2025-08-05 12:50:28,418 - testindia - INFO - [testindia.py:4618] - Production core components initialized successfully
2025-08-05 12:50:28,422 - fyers_data_service - INFO - [fyers_data_service.py:100] - Fyers Data Service initialized
2025-08-05 12:50:28,422 - testindia - INFO - [testindia.py:4641] - Fyers data service initialized (runs independently)
2025-08-05 12:50:28,423 - testindia - INFO - [testindia.py:893] - Llama LLM initialized successfully with Ollama
2025-08-05 12:50:28,423 - testindia - INFO - [testindia.py:4649] - Initializing Stock Trading Bot for Indian market...
2025-08-05 12:50:28,424 - __main__ - INFO - [web_backend.py:763] - Data service client initialized
2025-08-05 12:50:28,427 - __main__ - INFO - [web_backend.py:852] - Production components initialized successfully
2025-08-05 12:50:28,427 - __main__ - INFO - [web_backend.py:853] - Signal Collector: 3 sources registered
2025-08-05 12:50:28,427 - __main__ - INFO - [web_backend.py:854] - Adaptive thresholds, risk management, audit trail, and learning engine active
2025-08-05 12:50:28,427 - __main__ - INFO - [web_backend.py:773] - Successfully registered portfolio callback
2025-08-05 12:50:28,427 - __main__ - INFO - [web_backend.py:1586] - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-08-05 12:50:28,427 - __main__ - INFO - [web_backend.py:1627] - Trading bot initialized successfully
2025-08-05 12:50:28,428 - __main__ - INFO - [web_backend.py:2847] - Executing pending async initializations...
2025-08-05 12:50:28,428 - core.decision_audit_trail - INFO - [decision_audit_trail.py:374] - Loaded 7 recent decisions
2025-08-05 12:50:28,429 - core.decision_audit_trail - INFO - [decision_audit_trail.py:91] - Decision audit trail initialized successfully
2025-08-05 12:50:28,429 - __main__ - INFO - [web_backend.py:2851] - Successfully initialized audit_trail
2025-08-05 12:50:28,429 - __main__ - INFO - [web_backend.py:2857] - Trading bot initialized on startup
2025-08-05 12:50:54,302 - __main__ - INFO - [web_backend.py:1891] - Added ticker SBIN.NS to watchlist via bulk upload
2025-08-05 12:50:54,302 - __main__ - INFO - [web_backend.py:1891] - Added ticker JSWSTEEL.NS to watchlist via bulk upload
2025-08-05 12:50:54,303 - __main__ - INFO - [web_backend.py:1891] - Added ticker TATASTEEL.NS to watchlist via bulk upload
2025-08-05 12:50:54,303 - __main__ - INFO - [web_backend.py:1891] - Added ticker BPCL.NS to watchlist via bulk upload
2025-08-05 12:50:54,303 - __main__ - INFO - [web_backend.py:1891] - Added ticker IOC.NS to watchlist via bulk upload
2025-08-05 12:50:54,303 - __main__ - INFO - [web_backend.py:1911] - Updated data feed with 5 new tickers
2025-08-05 12:51:01,358 - __main__ - INFO - [web_backend.py:1586] - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-08-05 12:51:01,359 - __main__ - INFO - [web_backend.py:1183] - Starting Indian Stock Trading Bot...
2025-08-05 12:51:01,359 - __main__ - INFO - [web_backend.py:1184] - Trading Mode: PAPER
2025-08-05 12:51:01,359 - __main__ - INFO - [web_backend.py:1185] - Starting Balance: Rs.10,000.00
2025-08-05 12:51:01,359 - __main__ - INFO - [web_backend.py:1186] - Watchlist: SBIN.NS, JSWSTEEL.NS, TATASTEEL.NS, BPCL.NS, IOC.NS
2025-08-05 12:51:01,359 - __main__ - INFO - [web_backend.py:1190] - PRODUCTION MODE: Enhanced with enterprise-grade components
2025-08-05 12:51:01,360 - __main__ - INFO - [web_backend.py:1191] -    Async Signal Collection: 55% faster processing
2025-08-05 12:51:01,360 - __main__ - INFO - [web_backend.py:1192] -    Adaptive Thresholds: Dynamic optimization
2025-08-05 12:51:01,360 - __main__ - INFO - [web_backend.py:1193] -    Integrated Risk Management: Real-time assessment
2025-08-05 12:51:01,360 - __main__ - INFO - [web_backend.py:1194] -    Decision Audit Trail: Complete compliance logging
2025-08-05 12:51:01,360 - __main__ - INFO - [web_backend.py:1195] -    Continuous Learning: AI improvement engine
2025-08-05 12:51:01,361 - __main__ - INFO - [web_backend.py:942] - Loading 2 historical trades for learning engine
2025-08-05 12:51:01,361 - __main__ - ERROR - [web_backend.py:958] - Error loading historical data for learning: 'ContinuousLearningEngine' object has no attribute 'add_experience'
2025-08-05 12:51:01,361 - core.adaptive_threshold_manager - INFO - [adaptive_threshold_manager.py:373] - Set initial thresholds to 0.35
2025-08-05 12:51:01,361 - __main__ - INFO - [web_backend.py:982] - Adaptive thresholds initialized: 0.35 (based on 0.0% success rate)
2025-08-05 12:51:01,362 - __main__ - INFO - [web_backend.py:1207] - ============================================================
2025-08-05 12:51:01,363 - testindia - INFO - [testindia.py:5262] - Starting Stock Trading Bot for Indian market...
2025-08-05 12:51:01,363 - __main__ - INFO - [web_backend.py:1212] - Web Trading Bot started successfully with production enhancements
2025-08-05 12:51:01,363 - testindia - INFO - [testindia.py:5288] - Logging portfolio metrics at start of trading cycle...
2025-08-05 12:51:01,363 - __main__ - INFO - [web_backend.py:2133] - Trading bot started with MEDIUM risk level
2025-08-05 12:51:01,679 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 12:51:01,894 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for HDFCBANK.NS
2025-08-05 12:51:01,895 - testindia - INFO - [testindia.py:2048] - Fetched price for HDFCBANK.NS: Rs.1982.30
2025-08-05 12:51:02,414 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for SUZLON.NS
2025-08-05 12:51:02,415 - testindia - INFO - [testindia.py:2048] - Fetched price for SUZLON.NS: Rs.65.18
2025-08-05 12:51:02,415 - testindia - INFO - [testindia.py:2233] - Portfolio Metrics:
2025-08-05 12:51:02,415 - testindia - INFO - [testindia.py:2234] - Cash: Rs.6003.09
2025-08-05 12:51:02,415 - testindia - INFO - [testindia.py:2235] - Holdings: {'HDFCBANK.NS': {'qty': 1, 'avg_price': 2015.7}, 'SUZLON.NS': {'qty': 31, 'avg_price': 63.91}}
2025-08-05 12:51:02,416 - testindia - INFO - [testindia.py:2236] - Total Value: Rs.10005.97
2025-08-05 12:51:02,416 - testindia - INFO - [testindia.py:2237] - Current Portfolio Value (Dhan): Rs.10000.00
2025-08-05 12:51:02,416 - testindia - INFO - [testindia.py:2238] - Current PnL (Dhan): Rs.0.00
2025-08-05 12:51:02,416 - testindia - INFO - [testindia.py:2239] - Realized PnL: Rs.0.00
2025-08-05 12:51:02,416 - testindia - INFO - [testindia.py:2240] - Unrealized PnL: Rs.5.97
2025-08-05 12:51:02,416 - testindia - INFO - [testindia.py:2241] - Total Exposure: Rs.4002.88
2025-08-05 12:51:02,416 - testindia - INFO - [testindia.py:5297] - Processing SBIN.NS...
2025-08-05 12:51:02,417 - testindia - INFO - [testindia.py:3798] - Fetching and analyzing data for SBIN.NS...
2025-08-05 12:51:05,210 - testindia - INFO - [testindia.py:1352] - Using Yahoo Finance data for SBIN.NS (2y)
2025-08-05 12:51:07,334 - testindia - INFO - [testindia.py:1352] - Using Yahoo Finance data for ^NSEI (2y)
2025-08-05 12:51:07,339 - testindia - INFO - [testindia.py:3879] - Fetching sentiment for SBIN.NS...
2025-08-05 12:51:07,339 - testindia - INFO - [testindia.py:2727] - Starting multi-level NewsAPI search for SBIN.NS
2025-08-05 12:51:07,339 - testindia - INFO - [testindia.py:2642] - Trying search level 1: Full company names
2025-08-05 12:51:09,556 - testindia - INFO - [testindia.py:2653] - Level 1 returned insufficient results, trying next level
2025-08-05 12:51:09,557 - testindia - INFO - [testindia.py:2642] - Trying search level 2: Company names with financial context
2025-08-05 12:51:10,821 - testindia - INFO - [testindia.py:2653] - Level 2 returned insufficient results, trying next level
2025-08-05 12:51:10,821 - testindia - INFO - [testindia.py:2642] - Trying search level 3: Ticker with market context
2025-08-05 12:51:12,109 - testindia - INFO - [testindia.py:2653] - Level 3 returned insufficient results, trying next level
2025-08-05 12:51:12,109 - testindia - WARNING - [testindia.py:2660] - All search levels failed for SBIN.NS
2025-08-05 12:51:12,109 - testindia - INFO - [testindia.py:2732] - Multi-level search failed, trying basic search for SBIN.NS
2025-08-05 12:51:13,448 - testindia - INFO - [testindia.py:2792] - Starting multi-level GNews search for SBIN.NS
2025-08-05 12:51:13,449 - testindia - INFO - [testindia.py:2642] - Trying search level 1: Full company names
2025-08-05 12:51:14,408 - testindia - INFO - [testindia.py:2653] - Level 1 returned insufficient results, trying next level
2025-08-05 12:51:14,408 - testindia - INFO - [testindia.py:2642] - Trying search level 2: Company names with financial context
2025-08-05 12:51:15,349 - testindia - INFO - [testindia.py:2653] - Level 2 returned insufficient results, trying next level
2025-08-05 12:51:15,349 - testindia - INFO - [testindia.py:2642] - Trying search level 3: Ticker with market context
2025-08-05 12:51:16,354 - testindia - INFO - [testindia.py:2653] - Level 3 returned insufficient results, trying next level
2025-08-05 12:51:16,354 - testindia - WARNING - [testindia.py:2660] - All search levels failed for SBIN.NS
2025-08-05 12:51:16,354 - testindia - INFO - [testindia.py:2797] - Multi-level search failed, trying basic search for SBIN.NS
2025-08-05 12:51:22,372 - testindia - INFO - [testindia.py:2833] - Google News search query for SBIN.NS: "SBIN"
2025-08-05 12:51:44,324 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 12:52:08,037 - testindia - INFO - [testindia.py:2842] - Found 64 Google News articles for SBIN.NS
2025-08-05 12:52:08,038 - testindia - INFO - [testindia.py:3891] - Fetching institutional investments data for SBIN.NS...
2025-08-05 12:52:08,801 - testindia - INFO - [testindia.py:4001] - Fetching extended data for SBIN.NS for ML analysis...
2025-08-05 12:52:09,301 - testindia - INFO - [testindia.py:1342] - Using Fyers historical data for SBIN.NS (3y)
2025-08-05 12:52:09,302 - testindia - INFO - [testindia.py:4011] - Generating adversarial financial data for SBIN.NS...
2025-08-05 12:52:10,547 - testindia - INFO - [testindia.py:4016] - Engineering features for ML pattern recognition...
2025-08-05 12:52:10,685 - testindia - INFO - [testindia.py:4124] - Preparing data for ML prediction...
2025-08-05 12:52:10,687 - testindia - INFO - [testindia.py:4150] - Checking feature matrix for invalid values...
2025-08-05 12:52:10,693 - testindia - INFO - [testindia.py:4176] - Training TOP 5 INDUSTRY-LEVEL ML models for SBIN.NS...
2025-08-05 12:52:10,704 - testindia - WARNING - [testindia.py:4188] - Some ML libraries not available: No module named 'lightgbm'
2025-08-05 12:52:10,712 - testindia - INFO - [testindia.py:4198] - Training XGBoost model...
2025-08-05 12:52:11,042 - testindia - INFO - [testindia.py:4211] - Training LightGBM model...
2025-08-05 12:52:11,042 - testindia - ERROR - [testindia.py:4462] - Error analyzing SBIN.NS: cannot access local variable 'lgb' where it is not associated with a value
2025-08-05 12:52:11,046 - testindia - WARNING - [testindia.py:5309] - Analysis failed for SBIN.NS: Error analyzing SBIN.NS: cannot access local variable 'lgb' where it is not associated with a value
2025-08-05 12:52:11,047 - testindia - INFO - [testindia.py:5297] - Processing JSWSTEEL.NS...
2025-08-05 12:52:11,047 - testindia - INFO - [testindia.py:3798] - Fetching and analyzing data for JSWSTEEL.NS...
2025-08-05 12:52:11,748 - testindia - INFO - [testindia.py:1352] - Using Yahoo Finance data for JSWSTEEL.NS (2y)
2025-08-05 12:52:12,760 - testindia - INFO - [testindia.py:1352] - Using Yahoo Finance data for ^NSEI (2y)
2025-08-05 12:52:12,763 - testindia - INFO - [testindia.py:3879] - Fetching sentiment for JSWSTEEL.NS...
2025-08-05 12:52:12,763 - testindia - INFO - [testindia.py:2727] - Starting multi-level NewsAPI search for JSWSTEEL.NS
2025-08-05 12:52:12,763 - testindia - INFO - [testindia.py:2642] - Trying search level 1: Full company names
2025-08-05 12:52:14,243 - testindia - INFO - [testindia.py:2705] - Found 11 articles for query: "JSW Steel"...
2025-08-05 12:52:14,247 - testindia - INFO - [testindia.py:2650] - Success at level 1: Found meaningful results
2025-08-05 12:52:14,248 - testindia - INFO - [testindia.py:2792] - Starting multi-level GNews search for JSWSTEEL.NS
2025-08-05 12:52:14,248 - testindia - INFO - [testindia.py:2642] - Trying search level 1: Full company names
2025-08-05 12:52:15,317 - testindia - INFO - [testindia.py:2768] - Found 2 articles for query: "JSW Steel"...
2025-08-05 12:52:15,319 - testindia - INFO - [testindia.py:2650] - Success at level 1: Found meaningful results
2025-08-05 12:52:15,320 - testindia - INFO - [testindia.py:2833] - Google News search query for JSWSTEEL.NS: "JSW Steel"
2025-08-05 12:52:44,335 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 12:53:28,872 - testindia - INFO - [testindia.py:2842] - Found 100 Google News articles for JSWSTEEL.NS
2025-08-05 12:53:28,874 - testindia - INFO - [testindia.py:3891] - Fetching institutional investments data for JSWSTEEL.NS...
2025-08-05 12:53:29,710 - testindia - INFO - [testindia.py:4001] - Fetching extended data for JSWSTEEL.NS for ML analysis...
2025-08-05 12:53:30,209 - testindia - INFO - [testindia.py:1342] - Using Fyers historical data for JSWSTEEL.NS (3y)
2025-08-05 12:53:30,210 - testindia - INFO - [testindia.py:4011] - Generating adversarial financial data for JSWSTEEL.NS...
2025-08-05 12:53:31,450 - testindia - INFO - [testindia.py:4016] - Engineering features for ML pattern recognition...
2025-08-05 12:53:31,588 - testindia - INFO - [testindia.py:4124] - Preparing data for ML prediction...
2025-08-05 12:53:31,590 - testindia - INFO - [testindia.py:4150] - Checking feature matrix for invalid values...
2025-08-05 12:53:31,595 - testindia - INFO - [testindia.py:4176] - Training TOP 5 INDUSTRY-LEVEL ML models for JSWSTEEL.NS...
2025-08-05 12:53:31,596 - testindia - WARNING - [testindia.py:4188] - Some ML libraries not available: No module named 'lightgbm'
2025-08-05 12:53:31,603 - testindia - INFO - [testindia.py:4198] - Training XGBoost model...
2025-08-05 12:53:31,921 - testindia - INFO - [testindia.py:4211] - Training LightGBM model...
2025-08-05 12:53:31,922 - testindia - ERROR - [testindia.py:4462] - Error analyzing JSWSTEEL.NS: cannot access local variable 'lgb' where it is not associated with a value
2025-08-05 12:53:31,924 - testindia - WARNING - [testindia.py:5309] - Analysis failed for JSWSTEEL.NS: Error analyzing JSWSTEEL.NS: cannot access local variable 'lgb' where it is not associated with a value
2025-08-05 12:53:31,924 - testindia - INFO - [testindia.py:5297] - Processing TATASTEEL.NS...
2025-08-05 12:53:31,924 - testindia - INFO - [testindia.py:3798] - Fetching and analyzing data for TATASTEEL.NS...
2025-08-05 12:53:32,387 - testindia - INFO - [testindia.py:1352] - Using Yahoo Finance data for TATASTEEL.NS (2y)
2025-08-05 12:53:34,194 - testindia - INFO - [testindia.py:1352] - Using Yahoo Finance data for ^NSEI (2y)
2025-08-05 12:53:34,198 - testindia - INFO - [testindia.py:3879] - Fetching sentiment for TATASTEEL.NS...
2025-08-05 12:53:34,198 - testindia - INFO - [testindia.py:2727] - Starting multi-level NewsAPI search for TATASTEEL.NS
2025-08-05 12:53:34,198 - testindia - INFO - [testindia.py:2642] - Trying search level 1: Full company names
2025-08-05 12:53:35,447 - testindia - INFO - [testindia.py:2705] - Found 4 articles for query: "Tata Steel"...
2025-08-05 12:53:35,450 - testindia - INFO - [testindia.py:2650] - Success at level 1: Found meaningful results
2025-08-05 12:53:35,450 - testindia - INFO - [testindia.py:2792] - Starting multi-level GNews search for TATASTEEL.NS
2025-08-05 12:53:35,450 - testindia - INFO - [testindia.py:2642] - Trying search level 1: Full company names
2025-08-05 12:53:36,513 - testindia - INFO - [testindia.py:2653] - Level 1 returned insufficient results, trying next level
2025-08-05 12:53:36,513 - testindia - INFO - [testindia.py:2642] - Trying search level 2: Company names with financial context
2025-08-05 12:53:37,578 - testindia - INFO - [testindia.py:2653] - Level 2 returned insufficient results, trying next level
2025-08-05 12:53:37,579 - testindia - INFO - [testindia.py:2642] - Trying search level 3: Ticker with market context
2025-08-05 12:53:38,625 - testindia - INFO - [testindia.py:2653] - Level 3 returned insufficient results, trying next level
2025-08-05 12:53:38,625 - testindia - WARNING - [testindia.py:2660] - All search levels failed for TATASTEEL.NS
2025-08-05 12:53:38,625 - testindia - INFO - [testindia.py:2797] - Multi-level search failed, trying basic search for TATASTEEL.NS
2025-08-05 12:53:39,696 - testindia - INFO - [testindia.py:2833] - Google News search query for TATASTEEL.NS: "Tata Steel"
2025-08-05 12:53:44,334 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 12:54:45,318 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 12:54:47,791 - testindia - INFO - [testindia.py:2842] - Found 100 Google News articles for TATASTEEL.NS
2025-08-05 12:54:47,793 - testindia - INFO - [testindia.py:3891] - Fetching institutional investments data for TATASTEEL.NS...
2025-08-05 12:54:48,828 - testindia - INFO - [testindia.py:4001] - Fetching extended data for TATASTEEL.NS for ML analysis...
2025-08-05 12:54:49,334 - testindia - INFO - [testindia.py:1342] - Using Fyers historical data for TATASTEEL.NS (3y)
2025-08-05 12:54:49,335 - testindia - INFO - [testindia.py:4011] - Generating adversarial financial data for TATASTEEL.NS...
2025-08-05 12:54:50,539 - testindia - INFO - [testindia.py:4016] - Engineering features for ML pattern recognition...
2025-08-05 12:54:50,689 - testindia - INFO - [testindia.py:4124] - Preparing data for ML prediction...
2025-08-05 12:54:50,691 - testindia - INFO - [testindia.py:4150] - Checking feature matrix for invalid values...
2025-08-05 12:54:50,696 - testindia - INFO - [testindia.py:4176] - Training TOP 5 INDUSTRY-LEVEL ML models for TATASTEEL.NS...
2025-08-05 12:54:50,696 - testindia - WARNING - [testindia.py:4188] - Some ML libraries not available: No module named 'lightgbm'
2025-08-05 12:54:50,703 - testindia - INFO - [testindia.py:4198] - Training XGBoost model...
2025-08-05 12:54:51,032 - testindia - INFO - [testindia.py:4211] - Training LightGBM model...
2025-08-05 12:54:51,032 - testindia - ERROR - [testindia.py:4462] - Error analyzing TATASTEEL.NS: cannot access local variable 'lgb' where it is not associated with a value
2025-08-05 12:54:51,035 - testindia - WARNING - [testindia.py:5309] - Analysis failed for TATASTEEL.NS: Error analyzing TATASTEEL.NS: cannot access local variable 'lgb' where it is not associated with a value
2025-08-05 12:54:51,035 - testindia - INFO - [testindia.py:5297] - Processing BPCL.NS...
2025-08-05 12:54:51,035 - testindia - INFO - [testindia.py:3798] - Fetching and analyzing data for BPCL.NS...
2025-08-05 12:54:51,746 - testindia - INFO - [testindia.py:1352] - Using Yahoo Finance data for BPCL.NS (2y)
2025-08-05 12:54:53,041 - testindia - INFO - [testindia.py:1352] - Using Yahoo Finance data for ^NSEI (2y)
2025-08-05 12:54:53,044 - testindia - INFO - [testindia.py:3879] - Fetching sentiment for BPCL.NS...
2025-08-05 12:54:53,044 - testindia - INFO - [testindia.py:2727] - Starting multi-level NewsAPI search for BPCL.NS
2025-08-05 12:54:53,044 - testindia - INFO - [testindia.py:2642] - Trying search level 1: Full company names
2025-08-05 12:54:54,502 - testindia - INFO - [testindia.py:2705] - Found 2 articles for query: "Bharat Petroleum Corporation Limited" OR "Bharat ...
2025-08-05 12:54:54,505 - testindia - INFO - [testindia.py:2650] - Success at level 1: Found meaningful results
2025-08-05 12:54:54,505 - testindia - INFO - [testindia.py:2792] - Starting multi-level GNews search for BPCL.NS
2025-08-05 12:54:54,505 - testindia - INFO - [testindia.py:2642] - Trying search level 1: Full company names
2025-08-05 12:54:55,569 - testindia - INFO - [testindia.py:2768] - Found 1 articles for query: "Bharat Petroleum Corporation Limited" OR "Bharat ...
2025-08-05 12:54:55,571 - testindia - INFO - [testindia.py:2653] - Level 1 returned insufficient results, trying next level
2025-08-05 12:54:55,572 - testindia - INFO - [testindia.py:2642] - Trying search level 2: Company names with financial context
2025-08-05 12:54:56,651 - testindia - INFO - [testindia.py:2653] - Level 2 returned insufficient results, trying next level
2025-08-05 12:54:56,652 - testindia - INFO - [testindia.py:2642] - Trying search level 3: Ticker with market context
2025-08-05 12:54:57,711 - testindia - INFO - [testindia.py:2653] - Level 3 returned insufficient results, trying next level
2025-08-05 12:54:57,711 - testindia - WARNING - [testindia.py:2660] - All search levels failed for BPCL.NS
2025-08-05 12:54:57,711 - testindia - INFO - [testindia.py:2797] - Multi-level search failed, trying basic search for BPCL.NS
2025-08-05 12:54:58,763 - testindia - INFO - [testindia.py:2768] - Found 1 articles for query: "Bharat Petroleum Corporation Limited" OR "Bharat ...
2025-08-05 12:54:58,766 - testindia - INFO - [testindia.py:2833] - Google News search query for BPCL.NS: "Bharat Petroleum Corporation Limited" OR "Bharat Petroleum Corporation" OR "Bharat Petroleum"
2025-08-05 12:55:15,687 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 12:56:09,023 - testindia - INFO - [testindia.py:2842] - Found 100 Google News articles for BPCL.NS
2025-08-05 12:56:09,025 - testindia - INFO - [testindia.py:3891] - Fetching institutional investments data for BPCL.NS...
2025-08-05 12:56:09,824 - testindia - INFO - [testindia.py:4001] - Fetching extended data for BPCL.NS for ML analysis...
2025-08-05 12:56:10,329 - testindia - INFO - [testindia.py:1342] - Using Fyers historical data for BPCL.NS (3y)
2025-08-05 12:56:10,329 - testindia - INFO - [testindia.py:4011] - Generating adversarial financial data for BPCL.NS...
2025-08-05 12:56:11,533 - testindia - INFO - [testindia.py:4016] - Engineering features for ML pattern recognition...
2025-08-05 12:56:11,674 - testindia - INFO - [testindia.py:4124] - Preparing data for ML prediction...
2025-08-05 12:56:11,676 - testindia - INFO - [testindia.py:4150] - Checking feature matrix for invalid values...
2025-08-05 12:56:11,680 - testindia - INFO - [testindia.py:4176] - Training TOP 5 INDUSTRY-LEVEL ML models for BPCL.NS...
2025-08-05 12:56:11,681 - testindia - WARNING - [testindia.py:4188] - Some ML libraries not available: No module named 'lightgbm'
2025-08-05 12:56:11,688 - testindia - INFO - [testindia.py:4198] - Training XGBoost model...
2025-08-05 12:56:12,019 - testindia - INFO - [testindia.py:4211] - Training LightGBM model...
2025-08-05 12:56:12,019 - testindia - ERROR - [testindia.py:4462] - Error analyzing BPCL.NS: cannot access local variable 'lgb' where it is not associated with a value
2025-08-05 12:56:12,021 - testindia - WARNING - [testindia.py:5309] - Analysis failed for BPCL.NS: Error analyzing BPCL.NS: cannot access local variable 'lgb' where it is not associated with a value
2025-08-05 12:56:12,021 - testindia - INFO - [testindia.py:5297] - Processing IOC.NS...
2025-08-05 12:56:12,022 - testindia - INFO - [testindia.py:3798] - Fetching and analyzing data for IOC.NS...
2025-08-05 12:56:12,642 - testindia - INFO - [testindia.py:1352] - Using Yahoo Finance data for IOC.NS (2y)
2025-08-05 12:56:14,334 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 12:56:14,466 - testindia - INFO - [testindia.py:1352] - Using Yahoo Finance data for ^NSEI (2y)
2025-08-05 12:56:14,469 - testindia - INFO - [testindia.py:3879] - Fetching sentiment for IOC.NS...
2025-08-05 12:56:14,470 - testindia - INFO - [testindia.py:2727] - Starting multi-level NewsAPI search for IOC.NS
2025-08-05 12:56:14,470 - testindia - INFO - [testindia.py:2642] - Trying search level 1: Full company names
2025-08-05 12:56:15,982 - testindia - INFO - [testindia.py:2705] - Found 4 articles for query: "Indian Oil Corporation Limited" OR "Indian Oil Co...
2025-08-05 12:56:15,985 - testindia - INFO - [testindia.py:2650] - Success at level 1: Found meaningful results
2025-08-05 12:56:15,986 - testindia - INFO - [testindia.py:2792] - Starting multi-level GNews search for IOC.NS
2025-08-05 12:56:15,986 - testindia - INFO - [testindia.py:2642] - Trying search level 1: Full company names
2025-08-05 12:56:17,069 - testindia - INFO - [testindia.py:2768] - Found 1 articles for query: "Indian Oil Corporation Limited" OR "Indian Oil Co...
2025-08-05 12:56:17,071 - testindia - INFO - [testindia.py:2653] - Level 1 returned insufficient results, trying next level
2025-08-05 12:56:17,071 - testindia - INFO - [testindia.py:2642] - Trying search level 2: Company names with financial context
2025-08-05 12:56:17,955 - testindia - INFO - [testindia.py:2653] - Level 2 returned insufficient results, trying next level
2025-08-05 12:56:17,955 - testindia - INFO - [testindia.py:2642] - Trying search level 3: Ticker with market context
2025-08-05 12:56:19,014 - testindia - INFO - [testindia.py:2653] - Level 3 returned insufficient results, trying next level
2025-08-05 12:56:19,015 - testindia - WARNING - [testindia.py:2660] - All search levels failed for IOC.NS
2025-08-05 12:56:19,015 - testindia - INFO - [testindia.py:2797] - Multi-level search failed, trying basic search for IOC.NS
2025-08-05 12:56:20,084 - testindia - INFO - [testindia.py:2768] - Found 1 articles for query: "Indian Oil Corporation Limited" OR "Indian Oil Co...
2025-08-05 12:56:20,087 - testindia - INFO - [testindia.py:2833] - Google News search query for IOC.NS: "Indian Oil Corporation Limited" OR "Indian Oil Corporation" OR "Indian Oil"
2025-08-05 12:56:45,321 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 12:57:27,698 - testindia - INFO - [testindia.py:2842] - Found 100 Google News articles for IOC.NS
2025-08-05 12:57:27,700 - testindia - INFO - [testindia.py:3891] - Fetching institutional investments data for IOC.NS...
2025-08-05 12:57:28,590 - testindia - INFO - [testindia.py:4001] - Fetching extended data for IOC.NS for ML analysis...
2025-08-05 12:57:28,912 - testindia - INFO - [testindia.py:1342] - Using Fyers historical data for IOC.NS (3y)
2025-08-05 12:57:28,913 - testindia - INFO - [testindia.py:4011] - Generating adversarial financial data for IOC.NS...
2025-08-05 12:57:30,122 - testindia - INFO - [testindia.py:4016] - Engineering features for ML pattern recognition...
2025-08-05 12:57:30,266 - testindia - INFO - [testindia.py:4124] - Preparing data for ML prediction...
2025-08-05 12:57:30,268 - testindia - INFO - [testindia.py:4150] - Checking feature matrix for invalid values...
2025-08-05 12:57:30,274 - testindia - INFO - [testindia.py:4176] - Training TOP 5 INDUSTRY-LEVEL ML models for IOC.NS...
2025-08-05 12:57:30,275 - testindia - WARNING - [testindia.py:4188] - Some ML libraries not available: No module named 'lightgbm'
2025-08-05 12:57:30,283 - testindia - INFO - [testindia.py:4198] - Training XGBoost model...
2025-08-05 12:57:30,596 - testindia - INFO - [testindia.py:4211] - Training LightGBM model...
2025-08-05 12:57:30,596 - testindia - ERROR - [testindia.py:4462] - Error analyzing IOC.NS: cannot access local variable 'lgb' where it is not associated with a value
2025-08-05 12:57:30,598 - testindia - WARNING - [testindia.py:5309] - Analysis failed for IOC.NS: Error analyzing IOC.NS: cannot access local variable 'lgb' where it is not associated with a value
2025-08-05 12:57:31,099 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for HDFCBANK.NS
2025-08-05 12:57:31,100 - testindia - INFO - [testindia.py:2048] - Fetched price for HDFCBANK.NS: Rs.1983.70
2025-08-05 12:57:31,602 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for SUZLON.NS
2025-08-05 12:57:31,603 - testindia - INFO - [testindia.py:2048] - Fetched price for SUZLON.NS: Rs.65.20
2025-08-05 12:57:31,604 - testindia - INFO - [testindia.py:2218] - Saved report to reports\report_20250805.json
2025-08-05 12:57:31,604 - testindia - INFO - [testindia.py:5317] - Daily Report: {'date': '2025-08-05', 'roi_today': np.float64(0.07989999999999942), 'cumulative_roi': np.float64(0.07989999999999942), 'sharpe': 0, 'drawdown': 0, 'trades_executed': 2}
2025-08-05 12:57:31,604 - testindia - INFO - [testindia.py:5319] - Logging portfolio metrics at end of trading cycle...
2025-08-05 12:57:32,119 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for HDFCBANK.NS
2025-08-05 12:57:32,120 - testindia - INFO - [testindia.py:2048] - Fetched price for HDFCBANK.NS: Rs.1983.70
2025-08-05 12:57:32,620 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for SUZLON.NS
2025-08-05 12:57:32,621 - testindia - INFO - [testindia.py:2048] - Fetched price for SUZLON.NS: Rs.65.18
2025-08-05 12:57:32,621 - testindia - INFO - [testindia.py:2233] - Portfolio Metrics:
2025-08-05 12:57:32,621 - testindia - INFO - [testindia.py:2234] - Cash: Rs.6003.09
2025-08-05 12:57:32,621 - testindia - INFO - [testindia.py:2235] - Holdings: {'HDFCBANK.NS': {'qty': 1, 'avg_price': 2015.7}, 'SUZLON.NS': {'qty': 31, 'avg_price': 63.91}}
2025-08-05 12:57:32,622 - testindia - INFO - [testindia.py:2236] - Total Value: Rs.10007.37
2025-08-05 12:57:32,622 - testindia - INFO - [testindia.py:2237] - Current Portfolio Value (Dhan): Rs.10000.00
2025-08-05 12:57:32,622 - testindia - INFO - [testindia.py:2238] - Current PnL (Dhan): Rs.0.00
2025-08-05 12:57:32,622 - testindia - INFO - [testindia.py:2239] - Realized PnL: Rs.0.00
2025-08-05 12:57:32,622 - testindia - INFO - [testindia.py:2240] - Unrealized PnL: Rs.7.37
2025-08-05 12:57:32,622 - testindia - INFO - [testindia.py:2241] - Total Exposure: Rs.4004.28
2025-08-05 12:57:33,046 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for HDFCBANK.NS
2025-08-05 12:57:33,047 - testindia - INFO - [testindia.py:2048] - Fetched price for HDFCBANK.NS: Rs.1983.30
2025-08-05 12:57:33,544 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for SUZLON.NS
2025-08-05 12:57:33,545 - testindia - INFO - [testindia.py:2048] - Fetched price for SUZLON.NS: Rs.65.18
2025-08-05 12:57:33,547 - testindia - INFO - [testindia.py:1980] - Paper trading P&L summary generated
2025-08-05 12:57:45,313 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 12:58:03,547 - testindia - INFO - [testindia.py:5288] - Logging portfolio metrics at start of trading cycle...
2025-08-05 12:58:04,043 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for HDFCBANK.NS
2025-08-05 12:58:04,044 - testindia - INFO - [testindia.py:2048] - Fetched price for HDFCBANK.NS: Rs.1983.30
2025-08-05 12:58:04,543 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for SUZLON.NS
2025-08-05 12:58:04,544 - testindia - INFO - [testindia.py:2048] - Fetched price for SUZLON.NS: Rs.65.20
2025-08-05 12:58:04,544 - testindia - INFO - [testindia.py:2233] - Portfolio Metrics:
2025-08-05 12:58:04,545 - testindia - INFO - [testindia.py:2234] - Cash: Rs.6003.09
2025-08-05 12:58:04,545 - testindia - INFO - [testindia.py:2235] - Holdings: {'HDFCBANK.NS': {'qty': 1, 'avg_price': 2015.7}, 'SUZLON.NS': {'qty': 31, 'avg_price': 63.91}}
2025-08-05 12:58:04,545 - testindia - INFO - [testindia.py:2236] - Total Value: Rs.10007.59
2025-08-05 12:58:04,545 - testindia - INFO - [testindia.py:2237] - Current Portfolio Value (Dhan): Rs.10000.00
2025-08-05 12:58:04,545 - testindia - INFO - [testindia.py:2238] - Current PnL (Dhan): Rs.0.00
2025-08-05 12:58:04,545 - testindia - INFO - [testindia.py:2239] - Realized PnL: Rs.0.00
2025-08-05 12:58:04,546 - testindia - INFO - [testindia.py:2240] - Unrealized PnL: Rs.7.59
2025-08-05 12:58:04,546 - testindia - INFO - [testindia.py:2241] - Total Exposure: Rs.4004.50
2025-08-05 12:58:04,546 - testindia - INFO - [testindia.py:5297] - Processing SBIN.NS...
2025-08-05 12:58:04,546 - testindia - INFO - [testindia.py:3798] - Fetching and analyzing data for SBIN.NS...
2025-08-05 12:58:05,246 - testindia - INFO - [testindia.py:1352] - Using Yahoo Finance data for SBIN.NS (2y)
2025-08-05 12:58:06,763 - testindia - INFO - [testindia.py:1352] - Using Yahoo Finance data for ^NSEI (2y)
2025-08-05 12:58:06,766 - testindia - INFO - [testindia.py:3879] - Fetching sentiment for SBIN.NS...
2025-08-05 12:58:06,767 - testindia - INFO - [testindia.py:2727] - Starting multi-level NewsAPI search for SBIN.NS
2025-08-05 12:58:06,767 - testindia - INFO - [testindia.py:2642] - Trying search level 1: Full company names
2025-08-05 12:58:08,246 - testindia - INFO - [testindia.py:2653] - Level 1 returned insufficient results, trying next level
2025-08-05 12:58:08,247 - testindia - INFO - [testindia.py:2642] - Trying search level 2: Company names with financial context
2025-08-05 12:58:09,752 - testindia - INFO - [testindia.py:2653] - Level 2 returned insufficient results, trying next level
2025-08-05 12:58:09,753 - testindia - INFO - [testindia.py:2642] - Trying search level 3: Ticker with market context
2025-08-05 12:58:11,204 - testindia - INFO - [testindia.py:2653] - Level 3 returned insufficient results, trying next level
2025-08-05 12:58:11,205 - testindia - WARNING - [testindia.py:2660] - All search levels failed for SBIN.NS
2025-08-05 12:58:11,205 - testindia - INFO - [testindia.py:2732] - Multi-level search failed, trying basic search for SBIN.NS
2025-08-05 12:58:13,356 - testindia - INFO - [testindia.py:2792] - Starting multi-level GNews search for SBIN.NS
2025-08-05 12:58:13,356 - testindia - INFO - [testindia.py:2642] - Trying search level 1: Full company names
2025-08-05 12:58:14,398 - testindia - INFO - [testindia.py:2653] - Level 1 returned insufficient results, trying next level
2025-08-05 12:58:14,399 - testindia - INFO - [testindia.py:2642] - Trying search level 2: Company names with financial context
2025-08-05 12:58:15,438 - testindia - INFO - [testindia.py:2653] - Level 2 returned insufficient results, trying next level
2025-08-05 12:58:15,439 - testindia - INFO - [testindia.py:2642] - Trying search level 3: Ticker with market context
2025-08-05 12:58:16,489 - testindia - INFO - [testindia.py:2653] - Level 3 returned insufficient results, trying next level
2025-08-05 12:58:16,490 - testindia - WARNING - [testindia.py:2660] - All search levels failed for SBIN.NS
2025-08-05 12:58:16,490 - testindia - INFO - [testindia.py:2797] - Multi-level search failed, trying basic search for SBIN.NS
2025-08-05 12:58:17,528 - testindia - INFO - [testindia.py:2833] - Google News search query for SBIN.NS: "SBIN"
2025-08-05 12:58:45,310 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 12:58:56,302 - testindia - INFO - [testindia.py:2842] - Found 63 Google News articles for SBIN.NS
2025-08-05 12:58:56,303 - testindia - INFO - [testindia.py:3891] - Fetching institutional investments data for SBIN.NS...
2025-08-05 12:58:56,470 - testindia - INFO - [testindia.py:4001] - Fetching extended data for SBIN.NS for ML analysis...
2025-08-05 12:58:56,884 - testindia - INFO - [testindia.py:1342] - Using Fyers historical data for SBIN.NS (3y)
2025-08-05 12:58:56,885 - testindia - INFO - [testindia.py:4011] - Generating adversarial financial data for SBIN.NS...
2025-08-05 12:58:57,900 - testindia - INFO - [testindia.py:4016] - Engineering features for ML pattern recognition...
2025-08-05 12:58:58,005 - testindia - INFO - [testindia.py:4124] - Preparing data for ML prediction...
2025-08-05 12:58:58,008 - testindia - INFO - [testindia.py:4150] - Checking feature matrix for invalid values...
2025-08-05 12:58:58,014 - testindia - INFO - [testindia.py:4176] - Training TOP 5 INDUSTRY-LEVEL ML models for SBIN.NS...
2025-08-05 12:58:58,015 - testindia - WARNING - [testindia.py:4188] - Some ML libraries not available: No module named 'lightgbm'
2025-08-05 12:58:58,023 - testindia - INFO - [testindia.py:4198] - Training XGBoost model...
2025-08-05 12:58:58,362 - testindia - INFO - [testindia.py:4211] - Training LightGBM model...
2025-08-05 12:58:58,362 - testindia - ERROR - [testindia.py:4462] - Error analyzing SBIN.NS: cannot access local variable 'lgb' where it is not associated with a value
2025-08-05 12:58:58,364 - testindia - WARNING - [testindia.py:5309] - Analysis failed for SBIN.NS: Error analyzing SBIN.NS: cannot access local variable 'lgb' where it is not associated with a value
2025-08-05 12:58:58,364 - testindia - INFO - [testindia.py:5297] - Processing JSWSTEEL.NS...
2025-08-05 12:58:58,364 - testindia - INFO - [testindia.py:3798] - Fetching and analyzing data for JSWSTEEL.NS...
2025-08-05 12:58:58,892 - testindia - INFO - [testindia.py:1352] - Using Yahoo Finance data for JSWSTEEL.NS (2y)
2025-08-05 12:58:59,619 - testindia - INFO - [testindia.py:1352] - Using Yahoo Finance data for ^NSEI (2y)
2025-08-05 12:58:59,622 - testindia - INFO - [testindia.py:3879] - Fetching sentiment for JSWSTEEL.NS...
2025-08-05 12:58:59,622 - testindia - INFO - [testindia.py:2727] - Starting multi-level NewsAPI search for JSWSTEEL.NS
2025-08-05 12:58:59,623 - testindia - INFO - [testindia.py:2642] - Trying search level 1: Full company names
2025-08-05 12:59:01,843 - testindia - INFO - [testindia.py:2705] - Found 12 articles for query: "JSW Steel"...
2025-08-05 12:59:01,846 - testindia - INFO - [testindia.py:2650] - Success at level 1: Found meaningful results
2025-08-05 12:59:01,846 - testindia - INFO - [testindia.py:2792] - Starting multi-level GNews search for JSWSTEEL.NS
2025-08-05 12:59:01,846 - testindia - INFO - [testindia.py:2642] - Trying search level 1: Full company names
2025-08-05 12:59:02,822 - testindia - INFO - [testindia.py:2768] - Found 2 articles for query: "JSW Steel"...
2025-08-05 12:59:02,824 - testindia - INFO - [testindia.py:2650] - Success at level 1: Found meaningful results
2025-08-05 12:59:02,824 - testindia - INFO - [testindia.py:2833] - Google News search query for JSWSTEEL.NS: "JSW Steel"
2025-08-05 12:59:45,619 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 12:59:55,324 - testindia - INFO - [testindia.py:2842] - Found 100 Google News articles for JSWSTEEL.NS
2025-08-05 12:59:55,325 - testindia - INFO - [testindia.py:3891] - Fetching institutional investments data for JSWSTEEL.NS...
2025-08-05 12:59:55,494 - testindia - INFO - [testindia.py:4001] - Fetching extended data for JSWSTEEL.NS for ML analysis...
2025-08-05 12:59:55,792 - testindia - INFO - [testindia.py:1342] - Using Fyers historical data for JSWSTEEL.NS (3y)
2025-08-05 12:59:55,792 - testindia - INFO - [testindia.py:4011] - Generating adversarial financial data for JSWSTEEL.NS...
2025-08-05 12:59:56,856 - testindia - INFO - [testindia.py:4016] - Engineering features for ML pattern recognition...
2025-08-05 12:59:56,977 - testindia - INFO - [testindia.py:4124] - Preparing data for ML prediction...
2025-08-05 12:59:56,979 - testindia - INFO - [testindia.py:4150] - Checking feature matrix for invalid values...
2025-08-05 12:59:56,984 - testindia - INFO - [testindia.py:4176] - Training TOP 5 INDUSTRY-LEVEL ML models for JSWSTEEL.NS...
2025-08-05 12:59:56,985 - testindia - WARNING - [testindia.py:4188] - Some ML libraries not available: No module named 'lightgbm'
2025-08-05 12:59:56,992 - testindia - INFO - [testindia.py:4198] - Training XGBoost model...
2025-08-05 12:59:57,311 - testindia - INFO - [testindia.py:4211] - Training LightGBM model...
2025-08-05 12:59:57,311 - testindia - ERROR - [testindia.py:4462] - Error analyzing JSWSTEEL.NS: cannot access local variable 'lgb' where it is not associated with a value
2025-08-05 12:59:57,314 - testindia - WARNING - [testindia.py:5309] - Analysis failed for JSWSTEEL.NS: Error analyzing JSWSTEEL.NS: cannot access local variable 'lgb' where it is not associated with a value
2025-08-05 12:59:57,314 - testindia - INFO - [testindia.py:5297] - Processing TATASTEEL.NS...
2025-08-05 12:59:57,314 - testindia - INFO - [testindia.py:3798] - Fetching and analyzing data for TATASTEEL.NS...
2025-08-05 12:59:57,840 - testindia - INFO - [testindia.py:1352] - Using Yahoo Finance data for TATASTEEL.NS (2y)
2025-08-05 12:59:58,635 - testindia - INFO - [testindia.py:1352] - Using Yahoo Finance data for ^NSEI (2y)
2025-08-05 12:59:58,638 - testindia - INFO - [testindia.py:3879] - Fetching sentiment for TATASTEEL.NS...
2025-08-05 12:59:58,638 - testindia - INFO - [testindia.py:2727] - Starting multi-level NewsAPI search for TATASTEEL.NS
2025-08-05 12:59:58,638 - testindia - INFO - [testindia.py:2642] - Trying search level 1: Full company names
2025-08-05 12:59:59,978 - testindia - INFO - [testindia.py:2705] - Found 5 articles for query: "Tata Steel"...
2025-08-05 12:59:59,980 - testindia - INFO - [testindia.py:2650] - Success at level 1: Found meaningful results
2025-08-05 12:59:59,980 - testindia - INFO - [testindia.py:2792] - Starting multi-level GNews search for TATASTEEL.NS
2025-08-05 12:59:59,981 - testindia - INFO - [testindia.py:2642] - Trying search level 1: Full company names
2025-08-05 13:00:00,885 - testindia - INFO - [testindia.py:2653] - Level 1 returned insufficient results, trying next level
2025-08-05 13:00:00,885 - testindia - INFO - [testindia.py:2642] - Trying search level 2: Company names with financial context
2025-08-05 13:00:01,828 - testindia - INFO - [testindia.py:2653] - Level 2 returned insufficient results, trying next level
2025-08-05 13:00:01,829 - testindia - INFO - [testindia.py:2642] - Trying search level 3: Ticker with market context
2025-08-05 13:00:02,859 - testindia - INFO - [testindia.py:2653] - Level 3 returned insufficient results, trying next level
2025-08-05 13:00:02,860 - testindia - WARNING - [testindia.py:2660] - All search levels failed for TATASTEEL.NS
2025-08-05 13:00:02,860 - testindia - INFO - [testindia.py:2797] - Multi-level search failed, trying basic search for TATASTEEL.NS
2025-08-05 13:00:07,716 - __main__ - INFO - [web_backend.py:1222] - Stopping Trading Bot...
2025-08-05 13:00:07,717 - __main__ - INFO - [web_backend.py:1224] - Waiting for trading thread to finish...
2025-08-05 13:00:08,690 - testindia - INFO - [testindia.py:2833] - Google News search query for TATASTEEL.NS: "Tata Steel"
2025-08-05 13:00:17,718 - __main__ - WARNING - [web_backend.py:1228] - Trading thread did not stop within timeout, forcing stop...
2025-08-05 13:00:17,718 - __main__ - INFO - [web_backend.py:1231] - Web Trading Bot stopped successfully
2025-08-05 13:00:17,724 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:01:04,303 - testindia - INFO - [testindia.py:2842] - Found 100 Google News articles for TATASTEEL.NS
2025-08-05 13:01:04,304 - testindia - INFO - [testindia.py:3891] - Fetching institutional investments data for TATASTEEL.NS...
2025-08-05 13:01:04,613 - testindia - INFO - [testindia.py:4001] - Fetching extended data for TATASTEEL.NS for ML analysis...
2025-08-05 13:01:05,106 - testindia - INFO - [testindia.py:1342] - Using Fyers historical data for TATASTEEL.NS (3y)
2025-08-05 13:01:05,106 - testindia - INFO - [testindia.py:4011] - Generating adversarial financial data for TATASTEEL.NS...
2025-08-05 13:01:06,079 - testindia - INFO - [testindia.py:4016] - Engineering features for ML pattern recognition...
2025-08-05 13:01:06,209 - testindia - INFO - [testindia.py:4124] - Preparing data for ML prediction...
2025-08-05 13:01:06,211 - testindia - INFO - [testindia.py:4150] - Checking feature matrix for invalid values...
2025-08-05 13:01:06,218 - testindia - INFO - [testindia.py:4176] - Training TOP 5 INDUSTRY-LEVEL ML models for TATASTEEL.NS...
2025-08-05 13:01:06,218 - testindia - WARNING - [testindia.py:4188] - Some ML libraries not available: No module named 'lightgbm'
2025-08-05 13:01:06,226 - testindia - INFO - [testindia.py:4198] - Training XGBoost model...
2025-08-05 13:01:06,582 - testindia - INFO - [testindia.py:4211] - Training LightGBM model...
2025-08-05 13:01:06,582 - testindia - ERROR - [testindia.py:4462] - Error analyzing TATASTEEL.NS: cannot access local variable 'lgb' where it is not associated with a value
2025-08-05 13:01:06,584 - testindia - WARNING - [testindia.py:5309] - Analysis failed for TATASTEEL.NS: Error analyzing TATASTEEL.NS: cannot access local variable 'lgb' where it is not associated with a value
2025-08-05 13:01:06,584 - testindia - INFO - [testindia.py:5294] - Bot stop signal received, stopping ticker processing...
2025-08-05 13:01:06,585 - testindia - INFO - [testindia.py:5313] - Bot stop signal received, skipping report generation...
2025-08-05 13:01:06,585 - testindia - INFO - [testindia.py:5331] - Stock Trading Bot stopped successfully
2025-08-05 13:01:14,332 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:01:45,318 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:02:45,313 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:03:45,317 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:04:45,314 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:05:45,336 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:06:45,320 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:07:21,605 - mcp_server - INFO - [__init__.py:26] - MCP Trading Server components loaded successfully
2025-08-05 13:07:22,621 - mcp_server - INFO - [__init__.py:33] - All MCP agents loaded successfully
2025-08-05 13:07:22,773 - __main__ - INFO - [web_backend.py:130] - Utils modules imported successfully
2025-08-05 13:07:24,879 - __main__ - INFO - [web_backend.py:167] - Production core components loaded successfully
2025-08-05 13:07:26,582 - portfolio_manager - INFO - [portfolio_manager.py:48] - Dual Portfolio Manager initialized with data directory: data
2025-08-05 13:07:26,582 - portfolio_manager - INFO - [portfolio_manager.py:104] - Already in paper mode
2025-08-05 13:07:26,583 - testindia - INFO - [testindia.py:1507] - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-08-05 13:07:26,583 - testindia - INFO - [testindia.py:1513] - Loaded 2 trades from trade log
2025-08-05 13:07:26,599 - testindia - INFO - [testindia.py:109] - Fyers API initialized successfully for ticker mapping
2025-08-05 13:07:26,599 - testindia - INFO - [testindia.py:752] - Loaded 78 stocks from cache
2025-08-05 13:07:26,599 - testindia - INFO - [testindia.py:2264] - Dynamic ticker mapper initialized
2025-08-05 13:07:26,600 - testindia - INFO - [testindia.py:4726] - Production core components initialized successfully
2025-08-05 13:07:26,605 - fyers_data_service - INFO - [fyers_data_service.py:43] - Fyers API imported successfully
2025-08-05 13:07:26,609 - fyers_data_service - INFO - [fyers_data_service.py:100] - Fyers Data Service initialized
2025-08-05 13:07:26,611 - fyers_data_service - INFO - [fyers_data_service.py:100] - Fyers Data Service initialized
2025-08-05 13:07:26,611 - testindia - INFO - [testindia.py:4749] - Fyers data service initialized (runs independently)
2025-08-05 13:07:26,613 - testindia - INFO - [testindia.py:893] - Llama LLM initialized successfully with Ollama
2025-08-05 13:07:26,613 - testindia - INFO - [testindia.py:4757] - Initializing Stock Trading Bot for Indian market...
2025-08-05 13:07:26,616 - web_backend - INFO - [web_backend.py:130] - Utils modules imported successfully
2025-08-05 13:07:26,616 - web_backend - INFO - [web_backend.py:167] - Production core components loaded successfully
2025-08-05 13:07:26,637 - data_service_client - INFO - [data_service_client.py:50] - Data Service Client initialized for http://127.0.0.1:8001
2025-08-05 13:07:26,638 - __main__ - INFO - [web_backend.py:763] - Data service client initialized
2025-08-05 13:07:28,170 - __main__ - INFO - [web_backend.py:852] - Production components initialized successfully
2025-08-05 13:07:28,171 - __main__ - INFO - [web_backend.py:853] - Signal Collector: 3 sources registered
2025-08-05 13:07:28,171 - __main__ - INFO - [web_backend.py:854] - Adaptive thresholds, risk management, audit trail, and learning engine active
2025-08-05 13:07:28,171 - __main__ - INFO - [web_backend.py:773] - Successfully registered portfolio callback
2025-08-05 13:07:28,171 - __main__ - INFO - [web_backend.py:1586] - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-08-05 13:07:28,171 - __main__ - INFO - [web_backend.py:1627] - Trading bot initialized successfully
2025-08-05 13:07:28,171 - __main__ - INFO - [web_backend.py:2799] - Starting FastAPI web server on http://127.0.0.1:5000
2025-08-05 13:07:28,172 - __main__ - INFO - [web_backend.py:2800] - Web interface will be available at the above URL
2025-08-05 13:07:28,172 - __main__ - INFO - [web_backend.py:2801] - API documentation available at http://{host}:{port}/docs
2025-08-05 13:07:28,223 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:07:28,223 - __main__ - INFO - [web_backend.py:2830] - *** DATA SERVICE AVAILABLE - PRODUCTION MODE ***
2025-08-05 13:07:28,230 - data_service_client - INFO - [data_service_client.py:185] - Watchlist updated with 20 symbols
2025-08-05 13:07:28,234 - portfolio_manager - INFO - [portfolio_manager.py:48] - Dual Portfolio Manager initialized with data directory: data
2025-08-05 13:07:28,234 - portfolio_manager - INFO - [portfolio_manager.py:104] - Already in paper mode
2025-08-05 13:07:28,235 - testindia - INFO - [testindia.py:1507] - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-08-05 13:07:28,236 - testindia - INFO - [testindia.py:1513] - Loaded 2 trades from trade log
2025-08-05 13:07:28,250 - testindia - INFO - [testindia.py:109] - Fyers API initialized successfully for ticker mapping
2025-08-05 13:07:28,251 - testindia - INFO - [testindia.py:752] - Loaded 78 stocks from cache
2025-08-05 13:07:28,251 - testindia - INFO - [testindia.py:2264] - Dynamic ticker mapper initialized
2025-08-05 13:07:28,251 - testindia - INFO - [testindia.py:4726] - Production core components initialized successfully
2025-08-05 13:07:28,256 - fyers_data_service - INFO - [fyers_data_service.py:100] - Fyers Data Service initialized
2025-08-05 13:07:28,256 - testindia - INFO - [testindia.py:4749] - Fyers data service initialized (runs independently)
2025-08-05 13:07:28,257 - testindia - INFO - [testindia.py:893] - Llama LLM initialized successfully with Ollama
2025-08-05 13:07:28,257 - testindia - INFO - [testindia.py:4757] - Initializing Stock Trading Bot for Indian market...
2025-08-05 13:07:28,257 - __main__ - INFO - [web_backend.py:763] - Data service client initialized
2025-08-05 13:07:28,261 - __main__ - INFO - [web_backend.py:852] - Production components initialized successfully
2025-08-05 13:07:28,261 - __main__ - INFO - [web_backend.py:853] - Signal Collector: 3 sources registered
2025-08-05 13:07:28,261 - __main__ - INFO - [web_backend.py:854] - Adaptive thresholds, risk management, audit trail, and learning engine active
2025-08-05 13:07:28,261 - __main__ - INFO - [web_backend.py:773] - Successfully registered portfolio callback
2025-08-05 13:07:28,262 - __main__ - INFO - [web_backend.py:1586] - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-08-05 13:07:28,262 - __main__ - INFO - [web_backend.py:1627] - Trading bot initialized successfully
2025-08-05 13:07:28,262 - __main__ - INFO - [web_backend.py:2847] - Executing pending async initializations...
2025-08-05 13:07:28,263 - core.decision_audit_trail - INFO - [decision_audit_trail.py:374] - Loaded 7 recent decisions
2025-08-05 13:07:28,263 - core.decision_audit_trail - INFO - [decision_audit_trail.py:91] - Decision audit trail initialized successfully
2025-08-05 13:07:28,263 - __main__ - INFO - [web_backend.py:2851] - Successfully initialized audit_trail
2025-08-05 13:07:28,263 - __main__ - INFO - [web_backend.py:2857] - Trading bot initialized on startup
2025-08-05 13:08:12,013 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:08:42,332 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:09:04,762 - __main__ - INFO - [web_backend.py:1586] - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-08-05 13:09:04,762 - __main__ - INFO - [web_backend.py:1183] - Starting Indian Stock Trading Bot...
2025-08-05 13:09:04,762 - __main__ - INFO - [web_backend.py:1184] - Trading Mode: PAPER
2025-08-05 13:09:04,762 - __main__ - INFO - [web_backend.py:1185] - Starting Balance: Rs.10,000.00
2025-08-05 13:09:04,763 - __main__ - INFO - [web_backend.py:1186] - Watchlist: IOC
2025-08-05 13:09:04,763 - __main__ - INFO - [web_backend.py:1190] - PRODUCTION MODE: Enhanced with enterprise-grade components
2025-08-05 13:09:04,763 - __main__ - INFO - [web_backend.py:1191] -    Async Signal Collection: 55% faster processing
2025-08-05 13:09:04,763 - __main__ - INFO - [web_backend.py:1192] -    Adaptive Thresholds: Dynamic optimization
2025-08-05 13:09:04,763 - __main__ - INFO - [web_backend.py:1193] -    Integrated Risk Management: Real-time assessment
2025-08-05 13:09:04,763 - __main__ - INFO - [web_backend.py:1194] -    Decision Audit Trail: Complete compliance logging
2025-08-05 13:09:04,763 - __main__ - INFO - [web_backend.py:1195] -    Continuous Learning: AI improvement engine
2025-08-05 13:09:04,764 - __main__ - INFO - [web_backend.py:942] - Loading 2 historical trades for learning engine
2025-08-05 13:09:04,764 - __main__ - ERROR - [web_backend.py:958] - Error loading historical data for learning: 'ContinuousLearningEngine' object has no attribute 'add_experience'
2025-08-05 13:09:04,765 - core.adaptive_threshold_manager - INFO - [adaptive_threshold_manager.py:373] - Set initial thresholds to 0.35
2025-08-05 13:09:04,765 - __main__ - INFO - [web_backend.py:982] - Adaptive thresholds initialized: 0.35 (based on 0.0% success rate)
2025-08-05 13:09:04,765 - __main__ - INFO - [web_backend.py:1207] - ============================================================
2025-08-05 13:09:04,766 - testindia - INFO - [testindia.py:5370] - Starting Stock Trading Bot for Indian market...
2025-08-05 13:09:04,766 - __main__ - INFO - [web_backend.py:1212] - Web Trading Bot started successfully with production enhancements
2025-08-05 13:09:04,766 - testindia - INFO - [testindia.py:5396] - Logging portfolio metrics at start of trading cycle...
2025-08-05 13:09:04,766 - __main__ - INFO - [web_backend.py:2133] - Trading bot started with MEDIUM risk level
2025-08-05 13:09:05,308 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for HDFCBANK.NS
2025-08-05 13:09:05,309 - testindia - INFO - [testindia.py:2048] - Fetched price for HDFCBANK.NS: Rs.1982.90
2025-08-05 13:09:05,785 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for SUZLON.NS
2025-08-05 13:09:05,786 - testindia - INFO - [testindia.py:2048] - Fetched price for SUZLON.NS: Rs.65.21
2025-08-05 13:09:05,786 - testindia - INFO - [testindia.py:2233] - Portfolio Metrics:
2025-08-05 13:09:05,787 - testindia - INFO - [testindia.py:2234] - Cash: Rs.6003.09
2025-08-05 13:09:05,787 - testindia - INFO - [testindia.py:2235] - Holdings: {'HDFCBANK.NS': {'qty': 1, 'avg_price': 2015.7}, 'SUZLON.NS': {'qty': 31, 'avg_price': 63.91}}
2025-08-05 13:09:05,787 - testindia - INFO - [testindia.py:2236] - Total Value: Rs.10007.50
2025-08-05 13:09:05,787 - testindia - INFO - [testindia.py:2237] - Current Portfolio Value (Dhan): Rs.10000.00
2025-08-05 13:09:05,787 - testindia - INFO - [testindia.py:2238] - Current PnL (Dhan): Rs.0.00
2025-08-05 13:09:05,787 - testindia - INFO - [testindia.py:2239] - Realized PnL: Rs.0.00
2025-08-05 13:09:05,788 - testindia - INFO - [testindia.py:2240] - Unrealized PnL: Rs.7.50
2025-08-05 13:09:05,788 - testindia - INFO - [testindia.py:2241] - Total Exposure: Rs.4004.41
2025-08-05 13:09:05,788 - testindia - INFO - [testindia.py:5405] - Processing IOC...
2025-08-05 13:09:05,788 - testindia - INFO - [testindia.py:3798] - Fetching and analyzing data for IOC...
2025-08-05 13:09:08,152 - yfinance - ERROR - [history.py:247] - $IOC: possibly delisted; no price data found  (period=2y)
2025-08-05 13:09:08,154 - testindia - ERROR - [testindia.py:3804] - No price data found for IOC.
2025-08-05 13:09:08,154 - testindia - WARNING - [testindia.py:5417] - Analysis failed for IOC: Unable to fetch data for IOC: No price data found
2025-08-05 13:09:08,659 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for HDFCBANK.NS
2025-08-05 13:09:08,660 - testindia - INFO - [testindia.py:2048] - Fetched price for HDFCBANK.NS: Rs.1982.90
2025-08-05 13:09:09,146 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for SUZLON.NS
2025-08-05 13:09:09,147 - testindia - INFO - [testindia.py:2048] - Fetched price for SUZLON.NS: Rs.65.21
2025-08-05 13:09:09,148 - testindia - INFO - [testindia.py:2218] - Saved report to reports\report_20250805.json
2025-08-05 13:09:09,148 - testindia - INFO - [testindia.py:5425] - Daily Report: {'date': '2025-08-05', 'roi_today': np.float64(0.07500000000000284), 'cumulative_roi': np.float64(0.07500000000000284), 'sharpe': 0, 'drawdown': 0, 'trades_executed': 2}
2025-08-05 13:09:09,148 - testindia - INFO - [testindia.py:5427] - Logging portfolio metrics at end of trading cycle...
2025-08-05 13:09:09,513 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for HDFCBANK.NS
2025-08-05 13:09:09,514 - testindia - INFO - [testindia.py:2048] - Fetched price for HDFCBANK.NS: Rs.1982.90
2025-08-05 13:09:10,033 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for SUZLON.NS
2025-08-05 13:09:10,034 - testindia - INFO - [testindia.py:2048] - Fetched price for SUZLON.NS: Rs.65.21
2025-08-05 13:09:10,034 - testindia - INFO - [testindia.py:2233] - Portfolio Metrics:
2025-08-05 13:09:10,034 - testindia - INFO - [testindia.py:2234] - Cash: Rs.6003.09
2025-08-05 13:09:10,035 - testindia - INFO - [testindia.py:2235] - Holdings: {'HDFCBANK.NS': {'qty': 1, 'avg_price': 2015.7}, 'SUZLON.NS': {'qty': 31, 'avg_price': 63.91}}
2025-08-05 13:09:10,035 - testindia - INFO - [testindia.py:2236] - Total Value: Rs.10007.50
2025-08-05 13:09:10,035 - testindia - INFO - [testindia.py:2237] - Current Portfolio Value (Dhan): Rs.10000.00
2025-08-05 13:09:10,035 - testindia - INFO - [testindia.py:2238] - Current PnL (Dhan): Rs.0.00
2025-08-05 13:09:10,035 - testindia - INFO - [testindia.py:2239] - Realized PnL: Rs.0.00
2025-08-05 13:09:10,036 - testindia - INFO - [testindia.py:2240] - Unrealized PnL: Rs.7.50
2025-08-05 13:09:10,036 - testindia - INFO - [testindia.py:2241] - Total Exposure: Rs.4004.41
2025-08-05 13:09:10,529 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for HDFCBANK.NS
2025-08-05 13:09:10,530 - testindia - INFO - [testindia.py:2048] - Fetched price for HDFCBANK.NS: Rs.1982.90
2025-08-05 13:09:11,013 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for SUZLON.NS
2025-08-05 13:09:11,014 - testindia - INFO - [testindia.py:2048] - Fetched price for SUZLON.NS: Rs.65.21
2025-08-05 13:09:11,015 - testindia - INFO - [testindia.py:1980] - Paper trading P&L summary generated
2025-08-05 13:09:12,620 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:09:41,016 - testindia - INFO - [testindia.py:5396] - Logging portfolio metrics at start of trading cycle...
2025-08-05 13:09:41,481 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for HDFCBANK.NS
2025-08-05 13:09:41,482 - testindia - INFO - [testindia.py:2048] - Fetched price for HDFCBANK.NS: Rs.1982.40
2025-08-05 13:09:41,973 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for SUZLON.NS
2025-08-05 13:09:41,974 - testindia - INFO - [testindia.py:2048] - Fetched price for SUZLON.NS: Rs.65.20
2025-08-05 13:09:41,974 - testindia - INFO - [testindia.py:2233] - Portfolio Metrics:
2025-08-05 13:09:41,975 - testindia - INFO - [testindia.py:2234] - Cash: Rs.6003.09
2025-08-05 13:09:41,975 - testindia - INFO - [testindia.py:2235] - Holdings: {'HDFCBANK.NS': {'qty': 1, 'avg_price': 2015.7}, 'SUZLON.NS': {'qty': 31, 'avg_price': 63.91}}
2025-08-05 13:09:41,975 - testindia - INFO - [testindia.py:2236] - Total Value: Rs.10006.69
2025-08-05 13:09:41,975 - testindia - INFO - [testindia.py:2237] - Current Portfolio Value (Dhan): Rs.10000.00
2025-08-05 13:09:41,975 - testindia - INFO - [testindia.py:2238] - Current PnL (Dhan): Rs.0.00
2025-08-05 13:09:41,975 - testindia - INFO - [testindia.py:2239] - Realized PnL: Rs.0.00
2025-08-05 13:09:41,975 - testindia - INFO - [testindia.py:2240] - Unrealized PnL: Rs.6.69
2025-08-05 13:09:41,976 - testindia - INFO - [testindia.py:2241] - Total Exposure: Rs.4003.60
2025-08-05 13:09:41,976 - testindia - INFO - [testindia.py:5405] - Processing IOC...
2025-08-05 13:09:41,976 - testindia - INFO - [testindia.py:3798] - Fetching and analyzing data for IOC...
2025-08-05 13:09:42,564 - yfinance - ERROR - [history.py:247] - $IOC: possibly delisted; no price data found  (period=2y)
2025-08-05 13:09:42,565 - testindia - ERROR - [testindia.py:3804] - No price data found for IOC.
2025-08-05 13:09:42,566 - testindia - WARNING - [testindia.py:5417] - Analysis failed for IOC: Unable to fetch data for IOC: No price data found
2025-08-05 13:09:43,051 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for HDFCBANK.NS
2025-08-05 13:09:43,052 - testindia - INFO - [testindia.py:2048] - Fetched price for HDFCBANK.NS: Rs.1982.70
2025-08-05 13:09:43,545 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for SUZLON.NS
2025-08-05 13:09:43,545 - testindia - INFO - [testindia.py:2048] - Fetched price for SUZLON.NS: Rs.65.20
2025-08-05 13:09:43,547 - testindia - INFO - [testindia.py:2218] - Saved report to reports\report_20250805.json
2025-08-05 13:09:43,547 - testindia - INFO - [testindia.py:5425] - Daily Report: {'date': '2025-08-05', 'roi_today': np.float64(0.06990000000000052), 'cumulative_roi': np.float64(0.06990000000000052), 'sharpe': 0, 'drawdown': 0, 'trades_executed': 2}
2025-08-05 13:09:43,547 - testindia - INFO - [testindia.py:5427] - Logging portfolio metrics at end of trading cycle...
2025-08-05 13:09:44,024 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for HDFCBANK.NS
2025-08-05 13:09:44,024 - testindia - INFO - [testindia.py:2048] - Fetched price for HDFCBANK.NS: Rs.1982.40
2025-08-05 13:09:44,318 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for SUZLON.NS
2025-08-05 13:09:44,319 - testindia - INFO - [testindia.py:2048] - Fetched price for SUZLON.NS: Rs.65.20
2025-08-05 13:09:44,320 - testindia - INFO - [testindia.py:2233] - Portfolio Metrics:
2025-08-05 13:09:44,320 - testindia - INFO - [testindia.py:2234] - Cash: Rs.6003.09
2025-08-05 13:09:44,320 - testindia - INFO - [testindia.py:2235] - Holdings: {'HDFCBANK.NS': {'qty': 1, 'avg_price': 2015.7}, 'SUZLON.NS': {'qty': 31, 'avg_price': 63.91}}
2025-08-05 13:09:44,320 - testindia - INFO - [testindia.py:2236] - Total Value: Rs.10006.69
2025-08-05 13:09:44,320 - testindia - INFO - [testindia.py:2237] - Current Portfolio Value (Dhan): Rs.10000.00
2025-08-05 13:09:44,320 - testindia - INFO - [testindia.py:2238] - Current PnL (Dhan): Rs.0.00
2025-08-05 13:09:44,321 - testindia - INFO - [testindia.py:2239] - Realized PnL: Rs.0.00
2025-08-05 13:09:44,321 - testindia - INFO - [testindia.py:2240] - Unrealized PnL: Rs.6.69
2025-08-05 13:09:44,321 - testindia - INFO - [testindia.py:2241] - Total Exposure: Rs.4003.60
2025-08-05 13:09:44,802 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for HDFCBANK.NS
2025-08-05 13:09:44,803 - testindia - INFO - [testindia.py:2048] - Fetched price for HDFCBANK.NS: Rs.1981.50
2025-08-05 13:09:45,235 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for SUZLON.NS
2025-08-05 13:09:45,236 - testindia - INFO - [testindia.py:2048] - Fetched price for SUZLON.NS: Rs.65.23
2025-08-05 13:09:45,237 - testindia - INFO - [testindia.py:1980] - Paper trading P&L summary generated
2025-08-05 13:09:47,028 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:09:51,682 - __main__ - INFO - [web_backend.py:1222] - Stopping Trading Bot...
2025-08-05 13:09:51,682 - __main__ - INFO - [web_backend.py:1224] - Waiting for trading thread to finish...
2025-08-05 13:10:01,686 - __main__ - WARNING - [web_backend.py:1228] - Trading thread did not stop within timeout, forcing stop...
2025-08-05 13:10:01,687 - __main__ - INFO - [web_backend.py:1231] - Web Trading Bot stopped successfully
2025-08-05 13:10:06,272 - __main__ - INFO - [web_backend.py:1586] - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-08-05 13:10:06,273 - __main__ - INFO - [web_backend.py:1183] - Starting Indian Stock Trading Bot...
2025-08-05 13:10:06,273 - __main__ - INFO - [web_backend.py:1184] - Trading Mode: PAPER
2025-08-05 13:10:06,273 - __main__ - INFO - [web_backend.py:1185] - Starting Balance: Rs.10,000.00
2025-08-05 13:10:06,273 - __main__ - INFO - [web_backend.py:1186] - Watchlist: IOC.NS
2025-08-05 13:10:06,273 - __main__ - INFO - [web_backend.py:1190] - PRODUCTION MODE: Enhanced with enterprise-grade components
2025-08-05 13:10:06,273 - __main__ - INFO - [web_backend.py:1191] -    Async Signal Collection: 55% faster processing
2025-08-05 13:10:06,274 - __main__ - INFO - [web_backend.py:1192] -    Adaptive Thresholds: Dynamic optimization
2025-08-05 13:10:06,274 - __main__ - INFO - [web_backend.py:1193] -    Integrated Risk Management: Real-time assessment
2025-08-05 13:10:06,274 - __main__ - INFO - [web_backend.py:1194] -    Decision Audit Trail: Complete compliance logging
2025-08-05 13:10:06,274 - __main__ - INFO - [web_backend.py:1195] -    Continuous Learning: AI improvement engine
2025-08-05 13:10:06,274 - __main__ - INFO - [web_backend.py:942] - Loading 2 historical trades for learning engine
2025-08-05 13:10:06,275 - __main__ - ERROR - [web_backend.py:958] - Error loading historical data for learning: 'ContinuousLearningEngine' object has no attribute 'add_experience'
2025-08-05 13:10:06,275 - core.adaptive_threshold_manager - INFO - [adaptive_threshold_manager.py:373] - Set initial thresholds to 0.35
2025-08-05 13:10:06,275 - __main__ - INFO - [web_backend.py:982] - Adaptive thresholds initialized: 0.35 (based on 0.0% success rate)
2025-08-05 13:10:06,275 - __main__ - INFO - [web_backend.py:1207] - ============================================================
2025-08-05 13:10:06,276 - testindia - INFO - [testindia.py:5370] - Starting Stock Trading Bot for Indian market...
2025-08-05 13:10:06,276 - __main__ - INFO - [web_backend.py:1212] - Web Trading Bot started successfully with production enhancements
2025-08-05 13:10:06,276 - testindia - INFO - [testindia.py:5396] - Logging portfolio metrics at start of trading cycle...
2025-08-05 13:10:06,277 - __main__ - INFO - [web_backend.py:2133] - Trading bot started with MEDIUM risk level
2025-08-05 13:10:06,661 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for HDFCBANK.NS
2025-08-05 13:10:06,662 - testindia - INFO - [testindia.py:2048] - Fetched price for HDFCBANK.NS: Rs.1981.90
2025-08-05 13:10:07,160 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for SUZLON.NS
2025-08-05 13:10:07,161 - testindia - INFO - [testindia.py:2048] - Fetched price for SUZLON.NS: Rs.65.23
2025-08-05 13:10:07,161 - testindia - INFO - [testindia.py:2233] - Portfolio Metrics:
2025-08-05 13:10:07,161 - testindia - INFO - [testindia.py:2234] - Cash: Rs.6003.09
2025-08-05 13:10:07,161 - testindia - INFO - [testindia.py:2235] - Holdings: {'HDFCBANK.NS': {'qty': 1, 'avg_price': 2015.7}, 'SUZLON.NS': {'qty': 31, 'avg_price': 63.91}}
2025-08-05 13:10:07,162 - testindia - INFO - [testindia.py:2236] - Total Value: Rs.10007.12
2025-08-05 13:10:07,162 - testindia - INFO - [testindia.py:2237] - Current Portfolio Value (Dhan): Rs.10000.00
2025-08-05 13:10:07,162 - testindia - INFO - [testindia.py:2238] - Current PnL (Dhan): Rs.0.00
2025-08-05 13:10:07,162 - testindia - INFO - [testindia.py:2239] - Realized PnL: Rs.0.00
2025-08-05 13:10:07,162 - testindia - INFO - [testindia.py:2240] - Unrealized PnL: Rs.7.12
2025-08-05 13:10:07,162 - testindia - INFO - [testindia.py:2241] - Total Exposure: Rs.4004.03
2025-08-05 13:10:07,163 - testindia - INFO - [testindia.py:5405] - Processing IOC.NS...
2025-08-05 13:10:07,163 - testindia - INFO - [testindia.py:3798] - Fetching and analyzing data for IOC.NS...
2025-08-05 13:10:08,009 - testindia - INFO - [testindia.py:1352] - Using Yahoo Finance data for IOC.NS (2y)
2025-08-05 13:10:09,778 - testindia - INFO - [testindia.py:1352] - Using Yahoo Finance data for ^NSEI (2y)
2025-08-05 13:10:09,782 - testindia - INFO - [testindia.py:3879] - Fetching sentiment for IOC.NS...
2025-08-05 13:10:09,782 - testindia - INFO - [testindia.py:2727] - Starting multi-level NewsAPI search for IOC.NS
2025-08-05 13:10:09,782 - testindia - INFO - [testindia.py:2642] - Trying search level 1: Full company names
2025-08-05 13:10:11,240 - testindia - INFO - [testindia.py:2705] - Found 4 articles for query: "Indian Oil Corporation Limited" OR "Indian Oil Co...
2025-08-05 13:10:11,243 - testindia - INFO - [testindia.py:2650] - Success at level 1: Found meaningful results
2025-08-05 13:10:11,243 - testindia - INFO - [testindia.py:2792] - Starting multi-level GNews search for IOC.NS
2025-08-05 13:10:11,243 - testindia - INFO - [testindia.py:2642] - Trying search level 1: Full company names
2025-08-05 13:10:12,306 - testindia - INFO - [testindia.py:2768] - Found 1 articles for query: "Indian Oil Corporation Limited" OR "Indian Oil Co...
2025-08-05 13:10:12,308 - testindia - INFO - [testindia.py:2653] - Level 1 returned insufficient results, trying next level
2025-08-05 13:10:12,309 - testindia - INFO - [testindia.py:2642] - Trying search level 2: Company names with financial context
2025-08-05 13:10:13,339 - testindia - INFO - [testindia.py:2653] - Level 2 returned insufficient results, trying next level
2025-08-05 13:10:13,339 - testindia - INFO - [testindia.py:2642] - Trying search level 3: Ticker with market context
2025-08-05 13:10:14,229 - testindia - INFO - [testindia.py:2653] - Level 3 returned insufficient results, trying next level
2025-08-05 13:10:14,229 - testindia - WARNING - [testindia.py:2660] - All search levels failed for IOC.NS
2025-08-05 13:10:14,229 - testindia - INFO - [testindia.py:2797] - Multi-level search failed, trying basic search for IOC.NS
2025-08-05 13:10:15,237 - testindia - INFO - [testindia.py:5396] - Logging portfolio metrics at start of trading cycle...
2025-08-05 13:10:15,635 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for HDFCBANK.NS
2025-08-05 13:10:15,635 - testindia - INFO - [testindia.py:2048] - Fetched price for HDFCBANK.NS: Rs.1981.90
2025-08-05 13:10:16,079 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for SUZLON.NS
2025-08-05 13:10:16,080 - testindia - INFO - [testindia.py:2048] - Fetched price for SUZLON.NS: Rs.65.23
2025-08-05 13:10:16,080 - testindia - INFO - [testindia.py:2233] - Portfolio Metrics:
2025-08-05 13:10:16,081 - testindia - INFO - [testindia.py:2234] - Cash: Rs.6003.09
2025-08-05 13:10:16,081 - testindia - INFO - [testindia.py:2235] - Holdings: {'HDFCBANK.NS': {'qty': 1, 'avg_price': 2015.7}, 'SUZLON.NS': {'qty': 31, 'avg_price': 63.91}}
2025-08-05 13:10:16,081 - testindia - INFO - [testindia.py:2236] - Total Value: Rs.10007.12
2025-08-05 13:10:16,081 - testindia - INFO - [testindia.py:2237] - Current Portfolio Value (Dhan): Rs.10000.00
2025-08-05 13:10:16,081 - testindia - INFO - [testindia.py:2238] - Current PnL (Dhan): Rs.0.00
2025-08-05 13:10:16,081 - testindia - INFO - [testindia.py:2239] - Realized PnL: Rs.0.00
2025-08-05 13:10:16,081 - testindia - INFO - [testindia.py:2240] - Unrealized PnL: Rs.7.12
2025-08-05 13:10:16,082 - testindia - INFO - [testindia.py:2241] - Total Exposure: Rs.4004.03
2025-08-05 13:10:16,082 - testindia - INFO - [testindia.py:5405] - Processing IOC.NS...
2025-08-05 13:10:16,082 - testindia - INFO - [testindia.py:3798] - Fetching and analyzing data for IOC.NS...
2025-08-05 13:10:16,498 - testindia - INFO - [testindia.py:1352] - Using Yahoo Finance data for IOC.NS (2y)
2025-08-05 13:10:17,180 - testindia - INFO - [testindia.py:1352] - Using Yahoo Finance data for ^NSEI (2y)
2025-08-05 13:10:17,183 - testindia - INFO - [testindia.py:3879] - Fetching sentiment for IOC.NS...
2025-08-05 13:10:17,183 - testindia - INFO - [testindia.py:2727] - Starting multi-level NewsAPI search for IOC.NS
2025-08-05 13:10:17,183 - testindia - INFO - [testindia.py:2642] - Trying search level 1: Full company names
2025-08-05 13:10:17,653 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:10:18,307 - testindia - INFO - [testindia.py:2705] - Found 4 articles for query: "Indian Oil Corporation Limited" OR "Indian Oil Co...
2025-08-05 13:10:18,310 - testindia - INFO - [testindia.py:2650] - Success at level 1: Found meaningful results
2025-08-05 13:10:18,310 - testindia - INFO - [testindia.py:2792] - Starting multi-level GNews search for IOC.NS
2025-08-05 13:10:18,310 - testindia - INFO - [testindia.py:2642] - Trying search level 1: Full company names
2025-08-05 13:10:19,181 - testindia - INFO - [testindia.py:2768] - Found 1 articles for query: "Indian Oil Corporation Limited" OR "Indian Oil Co...
2025-08-05 13:10:19,182 - testindia - INFO - [testindia.py:2653] - Level 1 returned insufficient results, trying next level
2025-08-05 13:10:19,183 - testindia - INFO - [testindia.py:2642] - Trying search level 2: Company names with financial context
2025-08-05 13:10:20,076 - testindia - INFO - [testindia.py:2653] - Level 2 returned insufficient results, trying next level
2025-08-05 13:10:20,076 - testindia - INFO - [testindia.py:2642] - Trying search level 3: Ticker with market context
2025-08-05 13:10:20,210 - testindia - INFO - [testindia.py:2768] - Found 1 articles for query: "Indian Oil Corporation Limited" OR "Indian Oil Co...
2025-08-05 13:10:20,212 - testindia - INFO - [testindia.py:2833] - Google News search query for IOC.NS: "Indian Oil Corporation Limited" OR "Indian Oil Corporation" OR "Indian Oil"
2025-08-05 13:10:25,981 - testindia - INFO - [testindia.py:2653] - Level 3 returned insufficient results, trying next level
2025-08-05 13:10:25,981 - testindia - WARNING - [testindia.py:2660] - All search levels failed for IOC.NS
2025-08-05 13:10:25,981 - testindia - INFO - [testindia.py:2797] - Multi-level search failed, trying basic search for IOC.NS
2025-08-05 13:10:26,883 - testindia - INFO - [testindia.py:2768] - Found 1 articles for query: "Indian Oil Corporation Limited" OR "Indian Oil Co...
2025-08-05 13:10:26,886 - testindia - INFO - [testindia.py:2833] - Google News search query for IOC.NS: "Indian Oil Corporation Limited" OR "Indian Oil Corporation" OR "Indian Oil"
2025-08-05 13:10:52,303 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:11:15,723 - testindia - INFO - [testindia.py:2842] - Found 100 Google News articles for IOC.NS
2025-08-05 13:11:15,724 - testindia - INFO - [testindia.py:3891] - Fetching institutional investments data for IOC.NS...
2025-08-05 13:11:16,496 - testindia - INFO - [testindia.py:4001] - Fetching extended data for IOC.NS for ML analysis...
2025-08-05 13:11:16,889 - testindia - INFO - [testindia.py:1342] - Using Fyers historical data for IOC.NS (3y)
2025-08-05 13:11:16,890 - testindia - INFO - [testindia.py:4011] - Generating adversarial financial data for IOC.NS...
2025-08-05 13:11:17,994 - testindia - INFO - [testindia.py:4016] - Engineering features for ML pattern recognition...
2025-08-05 13:11:18,136 - testindia - INFO - [testindia.py:4124] - Preparing data for ML prediction...
2025-08-05 13:11:18,137 - testindia - INFO - [testindia.py:4150] - Checking feature matrix for invalid values...
2025-08-05 13:11:18,141 - testindia - INFO - [testindia.py:4176] - Training TOP 5 INDUSTRY-LEVEL ML models for IOC.NS...
2025-08-05 13:11:18,141 - testindia - INFO - [testindia.py:4184] - XGBoost imported successfully
2025-08-05 13:11:18,985 - testindia - INFO - [testindia.py:4191] - LightGBM imported successfully
2025-08-05 13:11:20,672 - testindia - INFO - [testindia.py:2842] - Found 100 Google News articles for IOC.NS
2025-08-05 13:11:20,673 - testindia - INFO - [testindia.py:3891] - Fetching institutional investments data for IOC.NS...
2025-08-05 13:11:20,857 - testindia - INFO - [testindia.py:4001] - Fetching extended data for IOC.NS for ML analysis...
2025-08-05 13:11:21,198 - testindia - INFO - [testindia.py:1342] - Using Fyers historical data for IOC.NS (3y)
2025-08-05 13:11:21,199 - testindia - INFO - [testindia.py:4011] - Generating adversarial financial data for IOC.NS...
2025-08-05 13:11:22,150 - testindia - INFO - [testindia.py:4016] - Engineering features for ML pattern recognition...
2025-08-05 13:11:22,246 - testindia - INFO - [testindia.py:4124] - Preparing data for ML prediction...
2025-08-05 13:11:22,248 - testindia - INFO - [testindia.py:4150] - Checking feature matrix for invalid values...
2025-08-05 13:11:22,251 - testindia - INFO - [testindia.py:4176] - Training TOP 5 INDUSTRY-LEVEL ML models for IOC.NS...
2025-08-05 13:11:22,251 - testindia - INFO - [testindia.py:4184] - XGBoost imported successfully
2025-08-05 13:11:22,252 - testindia - INFO - [testindia.py:4191] - LightGBM imported successfully
2025-08-05 13:11:27,958 - testindia - INFO - [testindia.py:4198] - CatBoost imported successfully
2025-08-05 13:11:27,958 - testindia - INFO - [testindia.py:4198] - CatBoost imported successfully
2025-08-05 13:11:27,963 - testindia - INFO - [testindia.py:4209] - Scikit-learn imported successfully
2025-08-05 13:11:27,963 - testindia - INFO - [testindia.py:4209] - Scikit-learn imported successfully
2025-08-05 13:11:27,980 - testindia - INFO - [testindia.py:4231] - Training XGBoost model...
2025-08-05 13:11:27,984 - testindia - INFO - [testindia.py:4231] - Training XGBoost model...
2025-08-05 13:11:28,356 - testindia - INFO - [testindia.py:4244] - XGBoost model trained successfully
2025-08-05 13:11:28,356 - testindia - INFO - [testindia.py:4251] - Training LightGBM model...
2025-08-05 13:11:28,375 - testindia - INFO - [testindia.py:4244] - XGBoost model trained successfully
2025-08-05 13:11:28,376 - testindia - INFO - [testindia.py:4251] - Training LightGBM model...
2025-08-05 13:11:28,480 - testindia - INFO - [testindia.py:4265] - LightGBM model trained successfully
2025-08-05 13:11:28,481 - testindia - INFO - [testindia.py:4272] - Training CatBoost model...
2025-08-05 13:11:28,501 - testindia - INFO - [testindia.py:4265] - LightGBM model trained successfully
2025-08-05 13:11:28,501 - testindia - INFO - [testindia.py:4272] - Training CatBoost model...
2025-08-05 13:11:29,536 - testindia - INFO - [testindia.py:4283] - CatBoost model trained successfully
2025-08-05 13:11:29,536 - testindia - INFO - [testindia.py:4290] - Training Extra Trees model...
2025-08-05 13:11:29,579 - testindia - INFO - [testindia.py:4283] - CatBoost model trained successfully
2025-08-05 13:11:29,579 - testindia - INFO - [testindia.py:4290] - Training Extra Trees model...
2025-08-05 13:11:29,970 - testindia - INFO - [testindia.py:4300] - Extra Trees model trained successfully
2025-08-05 13:11:29,970 - testindia - INFO - [testindia.py:4307] - Training SVR model...
2025-08-05 13:11:29,976 - testindia - INFO - [testindia.py:4300] - Extra Trees model trained successfully
2025-08-05 13:11:29,977 - testindia - INFO - [testindia.py:4307] - Training SVR model...
2025-08-05 13:11:30,004 - testindia - INFO - [testindia.py:4317] - SVR model trained successfully
2025-08-05 13:11:30,004 - testindia - INFO - [testindia.py:4324] - Training MLP Neural Network...
2025-08-05 13:11:30,015 - testindia - INFO - [testindia.py:4317] - SVR model trained successfully
2025-08-05 13:11:30,015 - testindia - INFO - [testindia.py:4324] - Training MLP Neural Network...
2025-08-05 13:11:30,874 - testindia - INFO - [testindia.py:4337] - MLP Neural Network trained successfully
2025-08-05 13:11:30,874 - testindia - INFO - [testindia.py:4344] - Creating advanced ensemble models...
2025-08-05 13:11:30,920 - testindia - INFO - [testindia.py:4337] - MLP Neural Network trained successfully
2025-08-05 13:11:30,920 - testindia - INFO - [testindia.py:4344] - Creating advanced ensemble models...
2025-08-05 13:11:33,476 - testindia - INFO - [testindia.py:4354] - Ensemble model created successfully
2025-08-05 13:11:33,477 - testindia - INFO - [testindia.py:4361] - Creating stacking ensemble...
2025-08-05 13:11:33,588 - testindia - INFO - [testindia.py:4354] - Ensemble model created successfully
2025-08-05 13:11:33,588 - testindia - INFO - [testindia.py:4361] - Creating stacking ensemble...
2025-08-05 13:11:43,421 - testindia - INFO - [testindia.py:4377] - Stacking ensemble created successfully
2025-08-05 13:11:43,422 - testindia - INFO - [testindia.py:4383] - Evaluating 8 trained models...
2025-08-05 13:11:43,424 - testindia - INFO - [testindia.py:4415] - xgb - R2: -0.2270, Prediction: $140.17
2025-08-05 13:11:43,427 - testindia - INFO - [testindia.py:4415] - lgb - R2: -0.0604, Prediction: $139.52
2025-08-05 13:11:43,430 - testindia - INFO - [testindia.py:4415] - cb - R2: -0.0506, Prediction: $141.85
2025-08-05 13:11:43,474 - testindia - INFO - [testindia.py:4415] - et - R2: -0.0788, Prediction: $140.80
2025-08-05 13:11:43,477 - testindia - INFO - [testindia.py:4415] - svr - R2: -1.5386, Prediction: $141.15
2025-08-05 13:11:43,479 - testindia - INFO - [testindia.py:4415] - mlp - R2: -8.0119, Prediction: $133.92
2025-08-05 13:11:43,524 - testindia - INFO - [testindia.py:4415] - ensemble - R2: -0.3688, Prediction: $139.57
2025-08-05 13:11:43,570 - testindia - INFO - [testindia.py:4415] - stacking - R2: -0.0318, Prediction: $141.13
2025-08-05 13:11:43,570 - testindia - INFO - [testindia.py:4426] - Best ML model: stacking (R2: -0.0318)
2025-08-05 13:11:43,571 - testindia - INFO - [testindia.py:4438] - Best ML model for IOC.NS: stacking (R2: -0.0318)
2025-08-05 13:11:43,571 - testindia - INFO - [testindia.py:4448] - Performing adversarial training for IOC.NS...
2025-08-05 13:11:43,571 - testindia - INFO - [testindia.py:3420] - Cleaning input data...
2025-08-05 13:11:43,571 - testindia - INFO - [testindia.py:3426] - Converting data to tensors...
2025-08-05 13:11:43,577 - testindia - INFO - [testindia.py:3447] - Generating training sequences...
2025-08-05 13:11:43,577 - testindia - INFO - [testindia.py:3435] - Creating sequences with length 20...
2025-08-05 13:11:43,623 - testindia - INFO - [testindia.py:3449] - Generating test sequences...
2025-08-05 13:11:43,623 - testindia - INFO - [testindia.py:3435] - Creating sequences with length 20...
2025-08-05 13:11:43,629 - testindia - INFO - [testindia.py:3568] - Initializing LSTM and Transformer models...
2025-08-05 13:11:43,692 - testindia - INFO - [testindia.py:3601] - Starting adversarial training for LSTM and Transformer...
2025-08-05 13:11:44,226 - testindia - INFO - [testindia.py:4377] - Stacking ensemble created successfully
2025-08-05 13:11:44,226 - testindia - INFO - [testindia.py:4383] - Evaluating 8 trained models...
2025-08-05 13:11:44,229 - testindia - INFO - [testindia.py:4415] - xgb - R2: -0.4569, Prediction: $144.13
2025-08-05 13:11:44,234 - testindia - INFO - [testindia.py:4415] - lgb - R2: -0.3426, Prediction: $143.68
2025-08-05 13:11:44,238 - testindia - INFO - [testindia.py:4415] - cb - R2: -0.1717, Prediction: $138.77
2025-08-05 13:11:44,293 - testindia - INFO - [testindia.py:4415] - et - R2: -0.6035, Prediction: $142.82
2025-08-05 13:11:44,295 - testindia - INFO - [testindia.py:4415] - svr - R2: -1.2370, Prediction: $142.58
2025-08-05 13:11:44,298 - testindia - INFO - [testindia.py:4415] - mlp - R2: -8.1289, Prediction: $145.59
2025-08-05 13:11:44,350 - testindia - INFO - [testindia.py:4415] - ensemble - R2: -0.6170, Prediction: $142.93
2025-08-05 13:11:44,405 - testindia - INFO - [testindia.py:4415] - stacking - R2: -0.0141, Prediction: $141.19
2025-08-05 13:11:44,405 - testindia - INFO - [testindia.py:4426] - Best ML model: stacking (R2: -0.0141)
2025-08-05 13:11:44,405 - testindia - INFO - [testindia.py:4438] - Best ML model for IOC.NS: stacking (R2: -0.0141)
2025-08-05 13:11:44,405 - testindia - INFO - [testindia.py:4448] - Performing adversarial training for IOC.NS...
2025-08-05 13:11:44,406 - testindia - INFO - [testindia.py:3420] - Cleaning input data...
2025-08-05 13:11:44,406 - testindia - INFO - [testindia.py:3426] - Converting data to tensors...
2025-08-05 13:11:44,407 - testindia - INFO - [testindia.py:3447] - Generating training sequences...
2025-08-05 13:11:44,408 - testindia - INFO - [testindia.py:3435] - Creating sequences with length 20...
2025-08-05 13:11:44,431 - testindia - INFO - [testindia.py:3449] - Generating test sequences...
2025-08-05 13:11:44,431 - testindia - INFO - [testindia.py:3435] - Creating sequences with length 20...
2025-08-05 13:11:44,437 - testindia - INFO - [testindia.py:3568] - Initializing LSTM and Transformer models...
2025-08-05 13:11:44,499 - testindia - INFO - [testindia.py:3601] - Starting adversarial training for LSTM and Transformer...
2025-08-05 13:11:51,982 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:12:45,619 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:13:45,311 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:14:45,341 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:15:27,149 - testindia - INFO - [testindia.py:3696] - Epoch [10/150], LSTM Loss: 0.0171, Transformer Loss: 0.0047, LR: 0.001000
2025-08-05 13:15:27,205 - testindia - INFO - [testindia.py:3696] - Epoch [10/150], LSTM Loss: 0.0162, Transformer Loss: 0.0031, LR: 0.001000
2025-08-05 13:15:45,634 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:16:45,336 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:17:45,624 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:18:45,313 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:19:14,902 - testindia - INFO - [testindia.py:3696] - Epoch [20/150], LSTM Loss: 0.0090, Transformer Loss: 0.0031, LR: 0.000500
2025-08-05 13:19:14,934 - testindia - INFO - [testindia.py:3696] - Epoch [20/150], LSTM Loss: 0.0111, Transformer Loss: 0.0050, LR: 0.000500
2025-08-05 13:19:45,324 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:20:45,319 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:21:45,635 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:22:45,648 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:23:24,356 - testindia - INFO - [testindia.py:3696] - Epoch [30/150], LSTM Loss: 0.0085, Transformer Loss: 0.0044, LR: 0.001000
2025-08-05 13:23:24,999 - testindia - INFO - [testindia.py:3696] - Epoch [30/150], LSTM Loss: 0.0087, Transformer Loss: 0.0029, LR: 0.001000
2025-08-05 13:23:45,616 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:24:45,314 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:25:45,313 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:26:45,308 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:27:08,885 - testindia - INFO - [testindia.py:3696] - Epoch [40/150], LSTM Loss: 0.0073, Transformer Loss: 0.0041, LR: 0.000854
2025-08-05 13:27:09,001 - testindia - INFO - [testindia.py:3696] - Epoch [40/150], LSTM Loss: 0.0060, Transformer Loss: 0.0028, LR: 0.000854
2025-08-05 13:27:48,080 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:28:45,308 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:29:45,633 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:30:45,322 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:30:59,437 - testindia - INFO - [testindia.py:3696] - Epoch [50/150], LSTM Loss: 0.0061, Transformer Loss: 0.0045, LR: 0.000500
2025-08-05 13:30:59,567 - testindia - INFO - [testindia.py:3696] - Epoch [50/150], LSTM Loss: 0.0051, Transformer Loss: 0.0029, LR: 0.000500
2025-08-05 13:31:45,376 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:32:45,316 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:33:45,640 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:34:45,358 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:34:47,077 - testindia - INFO - [testindia.py:3696] - Epoch [60/150], LSTM Loss: 0.0051, Transformer Loss: 0.0026, LR: 0.000146
2025-08-05 13:34:47,325 - testindia - INFO - [testindia.py:3696] - Epoch [60/150], LSTM Loss: 0.0060, Transformer Loss: 0.0043, LR: 0.000146
2025-08-05 13:35:45,331 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:36:45,324 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:37:45,338 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:38:44,187 - testindia - INFO - [testindia.py:3696] - Epoch [70/150], LSTM Loss: 0.0046, Transformer Loss: 0.0029, LR: 0.001000
2025-08-05 13:38:44,429 - testindia - INFO - [testindia.py:3696] - Epoch [70/150], LSTM Loss: 0.0055, Transformer Loss: 0.0038, LR: 0.001000
2025-08-05 13:38:45,626 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:39:45,331 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:40:45,331 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:41:45,637 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:42:34,474 - testindia - INFO - [testindia.py:3696] - Epoch [80/150], LSTM Loss: 0.0052, Transformer Loss: 0.0045, LR: 0.000962
2025-08-05 13:42:34,668 - testindia - INFO - [testindia.py:3696] - Epoch [80/150], LSTM Loss: 0.0049, Transformer Loss: 0.0029, LR: 0.000962
2025-08-05 13:42:45,311 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:43:41,882 - testindia - INFO - [testindia.py:3705] - Early stopping at epoch 83 due to no improvement for 20 epochs
2025-08-05 13:43:41,883 - testindia - INFO - [testindia.py:3713] - Evaluating models...
2025-08-05 13:43:42,387 - testindia - INFO - [testindia.py:3730] - Evaluating adversarial robustness...
2025-08-05 13:43:45,034 - testindia - INFO - [testindia.py:4480] - Performing RL training with adversarial events for IOC.NS...
2025-08-05 13:43:45,048 - testindia - INFO - [testindia.py:3336] - Training adversarial RL agent...
2025-08-05 13:43:45,314 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:43:59,957 - testindia - INFO - [testindia.py:3369] - Adversarial Episode 10/300, Total Reward: -1640515.52, Events: 119
2025-08-05 13:44:15,382 - testindia - INFO - [testindia.py:3369] - Adversarial Episode 20/300, Total Reward: -1011621.06, Events: 142
2025-08-05 13:44:31,246 - testindia - INFO - [testindia.py:3369] - Adversarial Episode 30/300, Total Reward: -5864614.86, Events: 131
2025-08-05 13:44:45,321 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:44:47,439 - testindia - INFO - [testindia.py:3369] - Adversarial Episode 40/300, Total Reward: 1462863.06, Events: 119
2025-08-05 13:45:04,523 - testindia - INFO - [testindia.py:3369] - Adversarial Episode 50/300, Total Reward: 814274.54, Events: 127
2025-08-05 13:45:20,827 - testindia - INFO - [testindia.py:3369] - Adversarial Episode 60/300, Total Reward: -4752.00, Events: 103
2025-08-05 13:45:36,716 - testindia - INFO - [testindia.py:3369] - Adversarial Episode 70/300, Total Reward: 0.00, Events: 136
2025-08-05 13:45:37,763 - testindia - INFO - [testindia.py:3696] - Epoch [90/150], LSTM Loss: 0.0052, Transformer Loss: 0.0040, LR: 0.000854
2025-08-05 13:45:45,315 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:45:53,365 - testindia - INFO - [testindia.py:3369] - Adversarial Episode 80/300, Total Reward: -606.00, Events: 125
2025-08-05 13:46:09,552 - testindia - INFO - [testindia.py:3369] - Adversarial Episode 90/300, Total Reward: 537.00, Events: 126
2025-08-05 13:46:25,633 - testindia - INFO - [testindia.py:3369] - Adversarial Episode 100/300, Total Reward: -1221.00, Events: 124
2025-08-05 13:46:42,009 - testindia - INFO - [testindia.py:3369] - Adversarial Episode 110/300, Total Reward: 316.00, Events: 111
2025-08-05 13:46:45,310 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:47:01,002 - testindia - INFO - [testindia.py:3369] - Adversarial Episode 120/300, Total Reward: 4180.00, Events: 106
2025-08-05 13:47:18,845 - testindia - INFO - [testindia.py:3369] - Adversarial Episode 130/300, Total Reward: 43252.01, Events: 122
2025-08-05 13:47:37,013 - testindia - INFO - [testindia.py:3369] - Adversarial Episode 140/300, Total Reward: -155760.42, Events: 126
2025-08-05 13:47:45,620 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:47:57,527 - testindia - INFO - [testindia.py:3369] - Adversarial Episode 150/300, Total Reward: -267942.02, Events: 137
2025-08-05 13:48:15,620 - testindia - INFO - [testindia.py:3369] - Adversarial Episode 160/300, Total Reward: 504.00, Events: 103
2025-08-05 13:48:26,210 - testindia - INFO - [testindia.py:3696] - Epoch [100/150], LSTM Loss: 0.0049, Transformer Loss: 0.0044, LR: 0.000691
2025-08-05 13:48:32,250 - testindia - INFO - [testindia.py:3369] - Adversarial Episode 170/300, Total Reward: 85892.18, Events: 116
2025-08-05 13:48:45,320 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:48:48,894 - testindia - INFO - [testindia.py:3369] - Adversarial Episode 180/300, Total Reward: 568534.14, Events: 128
2025-08-05 13:49:06,352 - testindia - INFO - [testindia.py:3369] - Adversarial Episode 190/300, Total Reward: -36204.13, Events: 119
2025-08-05 13:49:26,512 - testindia - INFO - [testindia.py:3369] - Adversarial Episode 200/300, Total Reward: 325729.12, Events: 127
2025-08-05 13:49:45,255 - testindia - INFO - [testindia.py:3369] - Adversarial Episode 210/300, Total Reward: -487979.47, Events: 110
2025-08-05 13:49:45,319 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:50:02,921 - testindia - INFO - [testindia.py:3369] - Adversarial Episode 220/300, Total Reward: 207487.59, Events: 115
2025-08-05 13:50:21,184 - testindia - INFO - [testindia.py:3369] - Adversarial Episode 230/300, Total Reward: -5283.83, Events: 139
2025-08-05 13:50:40,821 - testindia - INFO - [testindia.py:3369] - Adversarial Episode 240/300, Total Reward: 2637.00, Events: 125
2025-08-05 13:50:45,325 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:50:57,881 - testindia - INFO - [testindia.py:3369] - Adversarial Episode 250/300, Total Reward: 8136.50, Events: 122
2025-08-05 13:51:14,184 - testindia - INFO - [testindia.py:3369] - Adversarial Episode 260/300, Total Reward: -306482.96, Events: 128
2025-08-05 13:51:14,346 - testindia - INFO - [testindia.py:3696] - Epoch [110/150], LSTM Loss: 0.0049, Transformer Loss: 0.0048, LR: 0.000500
2025-08-05 13:51:30,552 - testindia - INFO - [testindia.py:3369] - Adversarial Episode 270/300, Total Reward: -235250.57, Events: 124
2025-08-05 13:51:45,629 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:51:46,794 - testindia - INFO - [testindia.py:3369] - Adversarial Episode 280/300, Total Reward: -1116.80, Events: 126
2025-08-05 13:52:03,562 - testindia - INFO - [testindia.py:3369] - Adversarial Episode 290/300, Total Reward: 3569.80, Events: 126
2025-08-05 13:52:20,058 - testindia - INFO - [testindia.py:3369] - Adversarial Episode 300/300, Total Reward: -4444.00, Events: 119
2025-08-05 13:52:20,371 - testindia - INFO - [testindia.py:4595] - Saved full analysis to stock_analysis\IOC_NS_analysis_20250805_135220.json
2025-08-05 13:52:20,373 - testindia - INFO - [testindia.py:4630] - Saved summary to stock_analysis\IOC_NS_summary_20250805_135220.csv
2025-08-05 13:52:20,375 - testindia - INFO - [testindia.py:4688] - Appended ML, RL, and Stock Analysis Report to stock_analysis\ml_logs.txt
2025-08-05 13:52:20,375 - testindia - INFO - [testindia.py:5410] - Saved analysis files: {'success': True, 'json_file': 'stock_analysis\\IOC_NS_analysis_20250805_135220.json', 'csv_file': 'stock_analysis\\IOC_NS_summary_20250805_135220.csv', 'log_file': 'stock_analysis\\ml_logs.txt'}
2025-08-05 13:52:20,909 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for HDFCBANK.NS
2025-08-05 13:52:20,910 - testindia - INFO - [testindia.py:2048] - Fetched price for HDFCBANK.NS: Rs.1977.50
2025-08-05 13:52:21,457 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for SUZLON.NS
2025-08-05 13:52:21,459 - testindia - INFO - [testindia.py:2048] - Fetched price for SUZLON.NS: Rs.65.24
2025-08-05 13:52:22,614 - testindia - INFO - [testindia.py:1352] - Using Yahoo Finance data for IOC.NS (2y)
2025-08-05 13:52:22,615 - testindia - INFO - [testindia.py:4971] - Market regime detected for IOC.NS: RANGE_BOUND
2025-08-05 13:52:22,615 - testindia - INFO - [testindia.py:4988] - RANGE_BOUND market: Using conservative thresholds (0.50)
2025-08-05 13:52:23,159 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for HDFCBANK.NS
2025-08-05 13:52:23,160 - testindia - INFO - [testindia.py:2048] - Fetched price for HDFCBANK.NS: Rs.1977.30
2025-08-05 13:52:23,692 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for SUZLON.NS
2025-08-05 13:52:23,693 - testindia - INFO - [testindia.py:2048] - Fetched price for SUZLON.NS: Rs.65.23
2025-08-05 13:52:24,245 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for HDFCBANK.NS
2025-08-05 13:52:24,246 - testindia - INFO - [testindia.py:2048] - Fetched price for HDFCBANK.NS: Rs.1977.40
2025-08-05 13:52:24,796 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for SUZLON.NS
2025-08-05 13:52:24,797 - testindia - INFO - [testindia.py:2048] - Fetched price for SUZLON.NS: Rs.65.24
2025-08-05 13:52:25,344 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for HDFCBANK.NS
2025-08-05 13:52:25,345 - testindia - INFO - [testindia.py:2048] - Fetched price for HDFCBANK.NS: Rs.1977.30
2025-08-05 13:52:25,889 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for SUZLON.NS
2025-08-05 13:52:25,890 - testindia - INFO - [testindia.py:2048] - Fetched price for SUZLON.NS: Rs.65.24
2025-08-05 13:52:25,894 - testindia - INFO - [testindia.py:5320] - HOLD IOC.NS: RANGE_BOUND market conditions, Price Rs.140.90 within Support Rs.130.37 and Resistance Rs.153.17, Buy Score=0.40, Sell Score=0.48
2025-08-05 13:52:25,895 - testindia - INFO - [testindia.py:5415] - Trade executed: {'action': 'hold', 'ticker': 'IOC.NS', 'qty': 0, 'price': 140.9, 'stop_loss': 126.45495684032439, 'take_profit': 157.76467755477907, 'success': True, 'confidence_score': 0.48333333333333334, 'signals': np.int64(3), 'reason': 'neutral_conditions'}
2025-08-05 13:52:26,400 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for HDFCBANK.NS
2025-08-05 13:52:26,401 - testindia - INFO - [testindia.py:2048] - Fetched price for HDFCBANK.NS: Rs.1977.10
2025-08-05 13:52:26,920 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for SUZLON.NS
2025-08-05 13:52:26,921 - testindia - INFO - [testindia.py:2048] - Fetched price for SUZLON.NS: Rs.65.24
2025-08-05 13:52:26,922 - testindia - INFO - [testindia.py:2218] - Saved report to reports\report_20250805.json
2025-08-05 13:52:26,922 - testindia - INFO - [testindia.py:5425] - Daily Report: {'date': '2025-08-05', 'roi_today': np.float64(0.02629999999999022), 'cumulative_roi': np.float64(0.02629999999999022), 'sharpe': 0, 'drawdown': 0, 'trades_executed': 2}
2025-08-05 13:52:26,923 - testindia - INFO - [testindia.py:5427] - Logging portfolio metrics at end of trading cycle...
2025-08-05 13:52:27,448 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for HDFCBANK.NS
2025-08-05 13:52:27,449 - testindia - INFO - [testindia.py:2048] - Fetched price for HDFCBANK.NS: Rs.1977.50
2025-08-05 13:52:27,990 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for SUZLON.NS
2025-08-05 13:52:27,992 - testindia - INFO - [testindia.py:2048] - Fetched price for SUZLON.NS: Rs.65.24
2025-08-05 13:52:27,992 - testindia - INFO - [testindia.py:2233] - Portfolio Metrics:
2025-08-05 13:52:27,993 - testindia - INFO - [testindia.py:2234] - Cash: Rs.6003.09
2025-08-05 13:52:27,993 - testindia - INFO - [testindia.py:2235] - Holdings: {'HDFCBANK.NS': {'qty': 1, 'avg_price': 2015.7}, 'SUZLON.NS': {'qty': 31, 'avg_price': 63.91}}
2025-08-05 13:52:27,993 - testindia - INFO - [testindia.py:2236] - Total Value: Rs.10003.03
2025-08-05 13:52:27,993 - testindia - INFO - [testindia.py:2237] - Current Portfolio Value (Dhan): Rs.10000.00
2025-08-05 13:52:27,993 - testindia - INFO - [testindia.py:2238] - Current PnL (Dhan): Rs.0.00
2025-08-05 13:52:27,993 - testindia - INFO - [testindia.py:2239] - Realized PnL: Rs.0.00
2025-08-05 13:52:27,994 - testindia - INFO - [testindia.py:2240] - Unrealized PnL: Rs.3.03
2025-08-05 13:52:27,994 - testindia - INFO - [testindia.py:2241] - Total Exposure: Rs.3999.94
2025-08-05 13:52:28,479 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for HDFCBANK.NS
2025-08-05 13:52:28,480 - testindia - INFO - [testindia.py:2048] - Fetched price for HDFCBANK.NS: Rs.1977.20
2025-08-05 13:52:28,968 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for SUZLON.NS
2025-08-05 13:52:28,969 - testindia - INFO - [testindia.py:2048] - Fetched price for SUZLON.NS: Rs.65.25
2025-08-05 13:52:28,970 - testindia - INFO - [testindia.py:1980] - Paper trading P&L summary generated
2025-08-05 13:52:45,316 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:52:58,971 - testindia - INFO - [testindia.py:5396] - Logging portfolio metrics at start of trading cycle...
2025-08-05 13:52:59,525 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for HDFCBANK.NS
2025-08-05 13:52:59,526 - testindia - INFO - [testindia.py:2048] - Fetched price for HDFCBANK.NS: Rs.1977.10
2025-08-05 13:53:00,039 - testindia - INFO - [testindia.py:1336] - Using Fyers current data for SUZLON.NS
2025-08-05 13:53:00,040 - testindia - INFO - [testindia.py:2048] - Fetched price for SUZLON.NS: Rs.65.23
2025-08-05 13:53:00,040 - testindia - INFO - [testindia.py:2233] - Portfolio Metrics:
2025-08-05 13:53:00,040 - testindia - INFO - [testindia.py:2234] - Cash: Rs.6003.09
2025-08-05 13:53:00,040 - testindia - INFO - [testindia.py:2235] - Holdings: {'HDFCBANK.NS': {'qty': 1, 'avg_price': 2015.7}, 'SUZLON.NS': {'qty': 31, 'avg_price': 63.91}}
2025-08-05 13:53:00,041 - testindia - INFO - [testindia.py:2236] - Total Value: Rs.10002.32
2025-08-05 13:53:00,041 - testindia - INFO - [testindia.py:2237] - Current Portfolio Value (Dhan): Rs.10000.00
2025-08-05 13:53:00,041 - testindia - INFO - [testindia.py:2238] - Current PnL (Dhan): Rs.0.00
2025-08-05 13:53:00,041 - testindia - INFO - [testindia.py:2239] - Realized PnL: Rs.0.00
2025-08-05 13:53:00,041 - testindia - INFO - [testindia.py:2240] - Unrealized PnL: Rs.2.32
2025-08-05 13:53:00,041 - testindia - INFO - [testindia.py:2241] - Total Exposure: Rs.3999.23
2025-08-05 13:53:00,042 - testindia - INFO - [testindia.py:5405] - Processing IOC.NS...
2025-08-05 13:53:00,042 - testindia - INFO - [testindia.py:3798] - Fetching and analyzing data for IOC.NS...
2025-08-05 13:53:00,751 - testindia - INFO - [testindia.py:1352] - Using Yahoo Finance data for IOC.NS (2y)
2025-08-05 13:53:03,239 - testindia - INFO - [testindia.py:1352] - Using Yahoo Finance data for ^NSEI (2y)
2025-08-05 13:53:03,243 - testindia - INFO - [testindia.py:3879] - Fetching sentiment for IOC.NS...
2025-08-05 13:53:03,243 - testindia - INFO - [testindia.py:2727] - Starting multi-level NewsAPI search for IOC.NS
2025-08-05 13:53:03,243 - testindia - INFO - [testindia.py:2642] - Trying search level 1: Full company names
2025-08-05 13:53:04,843 - testindia - INFO - [testindia.py:2705] - Found 6 articles for query: "Indian Oil Corporation Limited" OR "Indian Oil Co...
2025-08-05 13:53:04,847 - testindia - INFO - [testindia.py:2650] - Success at level 1: Found meaningful results
2025-08-05 13:53:04,847 - testindia - INFO - [testindia.py:2792] - Starting multi-level GNews search for IOC.NS
2025-08-05 13:53:04,847 - testindia - INFO - [testindia.py:2642] - Trying search level 1: Full company names
2025-08-05 13:53:05,978 - testindia - INFO - [testindia.py:2768] - Found 1 articles for query: "Indian Oil Corporation Limited" OR "Indian Oil Co...
2025-08-05 13:53:05,982 - testindia - INFO - [testindia.py:2653] - Level 1 returned insufficient results, trying next level
2025-08-05 13:53:05,982 - testindia - INFO - [testindia.py:2642] - Trying search level 2: Company names with financial context
2025-08-05 13:53:07,051 - testindia - INFO - [testindia.py:2653] - Level 2 returned insufficient results, trying next level
2025-08-05 13:53:07,051 - testindia - INFO - [testindia.py:2642] - Trying search level 3: Ticker with market context
2025-08-05 13:53:08,168 - testindia - INFO - [testindia.py:2653] - Level 3 returned insufficient results, trying next level
2025-08-05 13:53:08,168 - testindia - WARNING - [testindia.py:2660] - All search levels failed for IOC.NS
2025-08-05 13:53:08,168 - testindia - INFO - [testindia.py:2797] - Multi-level search failed, trying basic search for IOC.NS
2025-08-05 13:53:09,281 - testindia - INFO - [testindia.py:2768] - Found 1 articles for query: "Indian Oil Corporation Limited" OR "Indian Oil Co...
2025-08-05 13:53:09,284 - testindia - INFO - [testindia.py:2833] - Google News search query for IOC.NS: "Indian Oil Corporation Limited" OR "Indian Oil Corporation" OR "Indian Oil"
2025-08-05 13:53:09,673 - __main__ - INFO - [web_backend.py:1222] - Stopping Trading Bot...
2025-08-05 13:53:09,673 - __main__ - INFO - [web_backend.py:1224] - Waiting for trading thread to finish...
2025-08-05 13:53:19,688 - __main__ - WARNING - [web_backend.py:1228] - Trading thread did not stop within timeout, forcing stop...
2025-08-05 13:53:19,689 - __main__ - INFO - [web_backend.py:1231] - Web Trading Bot stopped successfully
2025-08-05 13:53:19,695 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:53:52,027 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:53:58,430 - testindia - INFO - [testindia.py:3696] - Epoch [120/150], LSTM Loss: 0.0047, Transformer Loss: 0.0043, LR: 0.000309
2025-08-05 13:54:22,032 - data_service_client - INFO - [data_service_client.py:84] - Data service health check: healthy (healthy=True)
2025-08-05 13:54:25,819 - testindia - INFO - [testindia.py:2842] - Found 100 Google News articles for IOC.NS
2025-08-05 13:54:25,821 - testindia - INFO - [testindia.py:3891] - Fetching institutional investments data for IOC.NS...
2025-08-05 13:54:26,011 - testindia - INFO - [testindia.py:4001] - Fetching extended data for IOC.NS for ML analysis...
2025-08-05 13:54:26,585 - testindia - INFO - [testindia.py:1342] - Using Fyers historical data for IOC.NS (3y)
2025-08-05 13:54:26,585 - testindia - INFO - [testindia.py:4011] - Generating adversarial financial data for IOC.NS...
2025-08-05 13:54:28,130 - testindia - INFO - [testindia.py:4016] - Engineering features for ML pattern recognition...
2025-08-05 13:54:28,285 - testindia - INFO - [testindia.py:4124] - Preparing data for ML prediction...
2025-08-05 13:54:28,288 - testindia - INFO - [testindia.py:4150] - Checking feature matrix for invalid values...
2025-08-05 13:54:28,298 - testindia - INFO - [testindia.py:4176] - Training TOP 5 INDUSTRY-LEVEL ML models for IOC.NS...
2025-08-05 13:54:28,298 - testindia - INFO - [testindia.py:4184] - XGBoost imported successfully
2025-08-05 13:54:28,299 - testindia - INFO - [testindia.py:4191] - LightGBM imported successfully
2025-08-05 13:54:28,299 - testindia - INFO - [testindia.py:4198] - CatBoost imported successfully
2025-08-05 13:54:28,299 - testindia - INFO - [testindia.py:4209] - Scikit-learn imported successfully
2025-08-05 13:54:28,308 - testindia - INFO - [testindia.py:4231] - Training XGBoost model...
2025-08-05 13:54:29,073 - testindia - INFO - [testindia.py:4244] - XGBoost model trained successfully
2025-08-05 13:54:29,074 - testindia - INFO - [testindia.py:4251] - Training LightGBM model...
2025-08-05 13:54:29,255 - testindia - INFO - [testindia.py:4265] - LightGBM model trained successfully
2025-08-05 13:54:29,255 - testindia - INFO - [testindia.py:4272] - Training CatBoost model...
2025-08-05 13:54:29,945 - testindia - INFO - [testindia.py:4283] - CatBoost model trained successfully
2025-08-05 13:54:29,946 - testindia - INFO - [testindia.py:4290] - Training Extra Trees model...
2025-08-05 13:54:30,191 - testindia - INFO - [testindia.py:4300] - Extra Trees model trained successfully
2025-08-05 13:54:30,192 - testindia - INFO - [testindia.py:4307] - Training SVR model...
2025-08-05 13:54:30,228 - testindia - INFO - [testindia.py:4317] - SVR model trained successfully
2025-08-05 13:54:30,228 - testindia - INFO - [testindia.py:4324] - Training MLP Neural Network...
2025-08-05 13:54:32,106 - testindia - INFO - [testindia.py:4337] - MLP Neural Network trained successfully
2025-08-05 13:54:32,107 - testindia - INFO - [testindia.py:4344] - Creating advanced ensemble models...
2025-08-05 13:54:35,569 - testindia - INFO - [testindia.py:4354] - Ensemble model created successfully
2025-08-05 13:54:35,569 - testindia - INFO - [testindia.py:4361] - Creating stacking ensemble...
2025-08-05 13:54:40,589 - __main__ - INFO - [web_backend.py:2940] - Starting graceful shutdown...
2025-08-05 13:54:40,589 - __main__ - INFO - [web_backend.py:1233] - Trading bot is already stopped
2025-08-05 13:54:40,590 - __main__ - INFO - [web_backend.py:2946] - Trading bot stopped
2025-08-05 13:54:40,590 - __main__ - INFO - [web_backend.py:2972] - Graceful shutdown completed
2025-08-05 13:54:40,591 - __main__ - INFO - [web_backend.py:2990] - Web server stopped by user
