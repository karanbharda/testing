2025-07-28 11:12:40,593 - INFO - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-28 11:12:40,609 - INFO - Loaded 2 trades from trade log
2025-07-28 11:12:40,657 - INFO - Dynamic ticker mapper initialized
2025-07-28 11:12:40,673 - INFO - Llama LLM initialized successfully with Ollama
2025-07-28 11:12:40,673 - INFO - Initializing Stock Trading Bot for Indian market...
2025-07-28 11:12:40,673 - INFO - Trading bot initialized successfully
2025-07-28 11:12:40,673 - INFO - Starting FastAPI web server on http://127.0.0.1:5000
2025-07-28 11:12:40,674 - INFO - Web interface will be available at the above URL
2025-07-28 11:12:40,674 - INFO - API documentation available at http://{host}:{port}/docs
2025-07-28 11:12:40,798 - INFO - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-28 11:12:40,799 - INFO - Loaded 2 trades from trade log
2025-07-28 11:12:40,811 - INFO - Dynamic ticker mapper initialized
2025-07-28 11:12:40,812 - INFO - Llama LLM initialized successfully with Ollama
2025-07-28 11:12:40,812 - INFO - Initializing Stock Trading Bot for Indian market...
2025-07-28 11:12:40,812 - INFO - Trading bot initialized successfully
2025-07-28 11:12:40,812 - INFO - Trading bot initialized on startup
2025-07-28 11:12:55,645 - INFO - Fyers API initialized successfully
2025-07-28 11:12:55,645 - INFO - Dynamic Market Expert initialized successfully
2025-07-28 11:12:55,646 - INFO - Dynamic Market Expert initialized for web chat
2025-07-28 11:17:22,003 - INFO - Starting Indian Stock Trading Bot...
2025-07-28 11:17:22,004 - INFO - Trading Mode: PAPER
2025-07-28 11:17:22,004 - INFO - Starting Balance: Rs.10,000.00
2025-07-28 11:17:22,004 - INFO - Watchlist: TATASTEEL.NS, BAJFINANCE.NS, BEL.NS, COALINDIA.NS, HDFCBANK.NS, ICICIBANK.NS, ITC.NS
2025-07-28 11:17:22,004 - INFO - ============================================================
2025-07-28 11:17:22,005 - INFO - Starting Stock Trading Bot for Indian market...
2025-07-28 11:17:22,005 - INFO - Web Trading Bot started successfully
2025-07-28 11:17:22,005 - INFO - Logging portfolio metrics at start of trading cycle...
2025-07-28 11:17:22,180 - INFO - Fetched price for HDFCBANK.NS: Rs.2015.30
2025-07-28 11:17:22,218 - INFO - Fetched price for SUZLON.NS: Rs.62.61
2025-07-28 11:17:22,219 - INFO - Portfolio Metrics:
2025-07-28 11:17:22,219 - INFO - Cash: Rs.6003.09
2025-07-28 11:17:22,219 - INFO - Holdings: {'HDFCBANK.NS': {'qty': 1, 'avg_price': 2015.7}, 'SUZLON.NS': {'qty': 31, 'avg_price': 63.91}}
2025-07-28 11:17:22,219 - INFO - Total Value: Rs.9959.30
2025-07-28 11:17:22,219 - INFO - Current Portfolio Value (Dhan): Rs.10000.00
2025-07-28 11:17:22,220 - INFO - Current PnL (Dhan): Rs.0.00
2025-07-28 11:17:22,220 - INFO - Realized PnL: Rs.0.00
2025-07-28 11:17:22,220 - INFO - Unrealized PnL: Rs.-40.70
2025-07-28 11:17:22,220 - INFO - Total Exposure: Rs.3956.21
2025-07-28 11:17:22,220 - INFO - Processing TATASTEEL.NS...
2025-07-28 11:17:22,220 - INFO - Fetching and analyzing data for TATASTEEL.NS...
2025-07-28 11:17:24,323 - INFO - Fetching sentiment for TATASTEEL.NS...
2025-07-28 11:17:24,324 - INFO - Starting multi-level NewsAPI search for TATASTEEL.NS
2025-07-28 11:17:24,324 - INFO - Updating ticker mapping from NSE/BSE APIs...
2025-07-28 11:17:26,734 - INFO - Fetching data from: https://www.nseindia.com/api/equity-stockIndices?index=NIFTY%20500
2025-07-28 11:17:26,899 - WARNING - Error fetching from https://www.nseindia.com/api/equity-stockIndices?index=NIFTY%20500: Expecting value: line 1 column 1 (char 0)
2025-07-28 11:17:26,900 - INFO - Fetching data from: https://www.nseindia.com/api/equity-stockIndices?index=NIFTY%20SMALLCAP%20100
2025-07-28 11:17:27,044 - WARNING - Failed to fetch from https://www.nseindia.com/api/equity-stockIndices?index=NIFTY%20SMALLCAP%20100: Status 401
2025-07-28 11:17:29,045 - INFO - Fetching data from: https://www.nseindia.com/api/equity-stockIndices?index=NIFTY%20MIDCAP%20100
2025-07-28 11:17:29,185 - WARNING - Failed to fetch from https://www.nseindia.com/api/equity-stockIndices?index=NIFTY%20MIDCAP%20100: Status 401
2025-07-28 11:17:31,185 - INFO - Fetching data from: https://www.nseindia.com/api/equity-stockIndices?index=NIFTY%20MICROCAP%20250
2025-07-28 11:17:31,307 - WARNING - Failed to fetch from https://www.nseindia.com/api/equity-stockIndices?index=NIFTY%20MICROCAP%20250: Status 401
2025-07-28 11:17:33,308 - INFO - Total stocks fetched from NSE: 0
2025-07-28 11:17:33,309 - INFO - Fetched 0 stocks from NSE API
2025-07-28 11:17:34,334 - WARNING - BSE API method failed: Expecting value: line 3 column 1 (char 4)
2025-07-28 11:17:34,338 - INFO - Added 0 stocks from BSE API
2025-07-28 11:17:34,338 - WARNING - Using fallback hardcoded mapping for essential stocks
2025-07-28 11:17:34,338 - INFO - Final mapping contains 24 stocks
2025-07-28 11:17:34,340 - INFO - Saved ticker mapping cache to data/indian_ticker_mapping.pkl
2025-07-28 11:17:34,340 - INFO - Trying search level 1: Full company names
2025-07-28 11:17:37,347 - INFO - Level 1 returned insufficient results, trying next level
2025-07-28 11:17:37,347 - INFO - Trying search level 2: Company names with financial context
2025-07-28 11:17:39,594 - INFO - Level 2 returned insufficient results, trying next level
2025-07-28 11:17:39,594 - INFO - Trying search level 3: Ticker with market context
2025-07-28 11:17:41,845 - INFO - Level 3 returned insufficient results, trying next level
2025-07-28 11:17:41,846 - WARNING - All search levels failed for TATASTEEL.NS
2025-07-28 11:17:41,846 - INFO - Multi-level search failed, trying basic search for TATASTEEL.NS
2025-07-28 11:17:44,750 - INFO - Starting multi-level GNews search for TATASTEEL.NS
2025-07-28 11:17:44,751 - INFO - Trying search level 1: Full company names
2025-07-28 11:17:45,822 - INFO - Level 1 returned insufficient results, trying next level
2025-07-28 11:17:45,822 - INFO - Trying search level 2: Company names with financial context
2025-07-28 11:17:46,879 - INFO - Level 2 returned insufficient results, trying next level
2025-07-28 11:17:46,880 - INFO - Trying search level 3: Ticker with market context
2025-07-28 11:17:47,965 - INFO - Level 3 returned insufficient results, trying next level
2025-07-28 11:17:47,965 - WARNING - All search levels failed for TATASTEEL.NS
2025-07-28 11:17:47,966 - INFO - Multi-level search failed, trying basic search for TATASTEEL.NS
2025-07-28 11:17:49,033 - INFO - Google News search query for TATASTEEL.NS: "TATASTEEL"
2025-07-28 11:18:56,758 - INFO - Found 100 Google News articles for TATASTEEL.NS
2025-07-28 11:18:56,759 - INFO - Fetching institutional investments data for TATASTEEL.NS...
2025-07-28 11:18:57,836 - INFO - Fetching extended data for TATASTEEL.NS for ML analysis...
2025-07-28 11:18:58,052 - INFO - Generating adversarial financial data for TATASTEEL.NS...
2025-07-28 11:18:59,518 - INFO - Engineering features for ML pattern recognition...
2025-07-28 11:18:59,680 - INFO - Preparing data for ML prediction...
2025-07-28 11:18:59,683 - INFO - Checking feature matrix for invalid values...
2025-07-28 11:18:59,689 - INFO - Training ML models for TATASTEEL.NS...
2025-07-28 11:19:17,908 - INFO - Performing adversarial training for TATASTEEL.NS...
2025-07-28 11:19:17,909 - INFO - Cleaning input data...
2025-07-28 11:19:17,909 - INFO - Converting data to tensors...
2025-07-28 11:19:17,920 - INFO - Generating training sequences...
2025-07-28 11:19:17,920 - INFO - Creating sequences with length 20...
2025-07-28 11:19:17,958 - INFO - Generating test sequences...
2025-07-28 11:19:17,959 - INFO - Creating sequences with length 20...
2025-07-28 11:19:17,965 - INFO - Initializing LSTM and Transformer models...
2025-07-28 11:19:20,419 - INFO - Starting adversarial training for LSTM and Transformer...
2025-07-28 11:19:40,783 - INFO - Epoch [10/50], LSTM Loss: 0.0175, Transformer Loss: 0.0306
2025-07-28 11:20:01,373 - INFO - Epoch [20/50], LSTM Loss: 0.0111, Transformer Loss: 0.0215
2025-07-28 11:20:21,856 - INFO - Epoch [30/50], LSTM Loss: 0.0081, Transformer Loss: 0.0160
2025-07-28 11:20:42,440 - INFO - Epoch [40/50], LSTM Loss: 0.0060, Transformer Loss: 0.0125
2025-07-28 11:21:02,978 - INFO - Epoch [50/50], LSTM Loss: 0.0049, Transformer Loss: 0.0093
2025-07-28 11:21:02,979 - INFO - Evaluating models...
2025-07-28 11:21:03,026 - INFO - Evaluating adversarial robustness...
2025-07-28 11:21:03,222 - INFO - Performing RL training with adversarial events for TATASTEEL.NS...
2025-07-28 11:21:03,229 - INFO - Training adversarial RL agent...
2025-07-28 11:21:04,210 - INFO - Adversarial Episode 10/100, Total Reward: 1679185.45, Events: 142
2025-07-28 11:21:05,056 - INFO - Adversarial Episode 20/100, Total Reward: 1100173.66, Events: 163
2025-07-28 11:21:06,012 - INFO - Adversarial Episode 30/100, Total Reward: 420326.56, Events: 149
2025-07-28 11:21:07,138 - INFO - Adversarial Episode 40/100, Total Reward: 1330808.03, Events: 151
2025-07-28 11:21:08,057 - INFO - Adversarial Episode 50/100, Total Reward: 1048120.06, Events: 158
2025-07-28 11:21:08,923 - INFO - Adversarial Episode 60/100, Total Reward: -189804.07, Events: 136
2025-07-28 11:21:09,746 - INFO - Adversarial Episode 70/100, Total Reward: 1709283.26, Events: 139
2025-07-28 11:21:10,644 - INFO - Adversarial Episode 80/100, Total Reward: 999225.72, Events: 160
2025-07-28 11:21:11,561 - INFO - Adversarial Episode 90/100, Total Reward: 1400471.86, Events: 154
2025-07-28 11:21:12,521 - INFO - Adversarial Episode 100/100, Total Reward: 1000057.06, Events: 148
2025-07-28 11:21:12,631 - INFO - Saved full analysis to stock_analysis\TATASTEEL_NS_analysis_20250728_112112.json
2025-07-28 11:21:12,633 - INFO - Saved summary to stock_analysis\TATASTEEL_NS_summary_20250728_112112.csv
2025-07-28 11:21:12,634 - INFO - Appended ML, RL, and Stock Analysis Report to stock_analysis\ml_logs.txt
2025-07-28 11:21:12,634 - INFO - Saved analysis files: {'success': True, 'json_file': 'stock_analysis\\TATASTEEL_NS_analysis_20250728_112112.json', 'csv_file': 'stock_analysis\\TATASTEEL_NS_summary_20250728_112112.csv', 'log_file': 'stock_analysis\\ml_logs.txt'}
2025-07-28 11:21:12,895 - INFO - Fetched price for HDFCBANK.NS: Rs.2014.50
2025-07-28 11:21:13,054 - INFO - Fetched price for SUZLON.NS: Rs.62.55
2025-07-28 11:21:13,473 - INFO - Fetched price for HDFCBANK.NS: Rs.2014.50
2025-07-28 11:21:13,507 - INFO - Fetched price for SUZLON.NS: Rs.62.55
2025-07-28 11:21:13,545 - INFO - Fetched price for HDFCBANK.NS: Rs.2014.50
2025-07-28 11:21:13,582 - INFO - Fetched price for SUZLON.NS: Rs.62.55
2025-07-28 11:21:13,625 - INFO - Fetched price for HDFCBANK.NS: Rs.2014.50
2025-07-28 11:21:13,663 - INFO - Fetched price for SUZLON.NS: Rs.62.55
2025-07-28 11:21:13,666 - INFO - HOLD TATASTEEL.NS: Neutral market conditions, Price Rs.161.30 within Support Rs.137.09 and Resistance Rs.169.37, Buy Score=0.00, Sell Score=0.44
2025-07-28 11:21:13,667 - INFO - Trade executed: {'action': 'hold', 'ticker': 'TATASTEEL.NS', 'qty': 0, 'price': 161.3, 'stop_loss': 132.98129800857544, 'take_profit': 174.44595330047608, 'success': True, 'confidence_score': 0.44000000000000006, 'signals': np.int64(2), 'reason': 'neutral_conditions'}
2025-07-28 11:21:13,667 - INFO - Processing BAJFINANCE.NS...
2025-07-28 11:21:13,668 - INFO - Fetching and analyzing data for BAJFINANCE.NS...
2025-07-28 11:21:14,537 - INFO - Fetching sentiment for BAJFINANCE.NS...
2025-07-28 11:21:14,538 - INFO - Starting multi-level NewsAPI search for BAJFINANCE.NS
2025-07-28 11:21:14,538 - INFO - Trying search level 1: Full company names
2025-07-28 11:21:17,628 - INFO - Found 314 articles for query: "Bajaj Finance" OR "Bajaj Finserv"...
2025-07-28 11:21:17,633 - INFO - Success at level 1: Found meaningful results
2025-07-28 11:21:17,633 - INFO - Starting multi-level GNews search for BAJFINANCE.NS
2025-07-28 11:21:17,633 - INFO - Trying search level 1: Full company names
2025-07-28 11:21:18,749 - INFO - Found 10 articles for query: "Bajaj Finance" OR "Bajaj Finserv"...
2025-07-28 11:21:18,753 - INFO - Success at level 1: Found meaningful results
2025-07-28 11:21:18,753 - INFO - Google News search query for BAJFINANCE.NS: "Bajaj Finance" OR "Bajaj Finserv"
2025-07-28 11:22:30,225 - INFO - Found 100 Google News articles for BAJFINANCE.NS
2025-07-28 11:22:30,226 - INFO - Fetching institutional investments data for BAJFINANCE.NS...
2025-07-28 11:22:31,054 - INFO - Fetching extended data for BAJFINANCE.NS for ML analysis...
2025-07-28 11:22:31,309 - INFO - Generating adversarial financial data for BAJFINANCE.NS...
2025-07-28 11:22:32,830 - INFO - Engineering features for ML pattern recognition...
2025-07-28 11:22:32,993 - INFO - Preparing data for ML prediction...
2025-07-28 11:22:32,995 - INFO - Checking feature matrix for invalid values...
2025-07-28 11:22:33,001 - INFO - Training ML models for BAJFINANCE.NS...
2025-07-28 11:22:53,752 - INFO - Performing adversarial training for BAJFINANCE.NS...
2025-07-28 11:22:53,752 - INFO - Cleaning input data...
2025-07-28 11:22:53,753 - INFO - Converting data to tensors...
2025-07-28 11:22:53,753 - INFO - Generating training sequences...
2025-07-28 11:22:53,753 - INFO - Creating sequences with length 20...
2025-07-28 11:22:53,779 - INFO - Generating test sequences...
2025-07-28 11:22:53,779 - INFO - Creating sequences with length 20...
2025-07-28 11:22:53,785 - INFO - Initializing LSTM and Transformer models...
2025-07-28 11:22:53,791 - INFO - Starting adversarial training for LSTM and Transformer...
2025-07-28 11:23:14,620 - INFO - Epoch [10/50], LSTM Loss: 0.0142, Transformer Loss: 0.0238
2025-07-28 11:23:35,841 - INFO - Epoch [20/50], LSTM Loss: 0.0113, Transformer Loss: 0.0204
2025-07-28 11:23:56,659 - INFO - Epoch [30/50], LSTM Loss: 0.0084, Transformer Loss: 0.0156
2025-07-28 11:24:17,397 - INFO - Epoch [40/50], LSTM Loss: 0.0059, Transformer Loss: 0.0169
2025-07-28 11:24:38,115 - INFO - Epoch [50/50], LSTM Loss: 0.0042, Transformer Loss: 0.0136
2025-07-28 11:24:38,116 - INFO - Evaluating models...
2025-07-28 11:24:38,154 - INFO - Evaluating adversarial robustness...
2025-07-28 11:24:38,346 - INFO - Performing RL training with adversarial events for BAJFINANCE.NS...
2025-07-28 11:24:38,352 - INFO - Training adversarial RL agent...
2025-07-28 11:24:39,018 - INFO - Adversarial Episode 10/100, Total Reward: 10626641.65, Events: 139
2025-07-28 11:24:39,691 - INFO - Adversarial Episode 20/100, Total Reward: 1040204.03, Events: 144
2025-07-28 11:24:40,334 - INFO - Adversarial Episode 30/100, Total Reward: -9831016.13, Events: 139
2025-07-28 11:24:41,064 - INFO - Adversarial Episode 40/100, Total Reward: -2343405.74, Events: 139
2025-07-28 11:24:41,738 - INFO - Adversarial Episode 50/100, Total Reward: -924964.01, Events: 138
2025-07-28 11:24:42,343 - INFO - Adversarial Episode 60/100, Total Reward: 4948627.84, Events: 150
2025-07-28 11:24:43,103 - INFO - Adversarial Episode 70/100, Total Reward: 12292020.77, Events: 132
2025-07-28 11:24:43,711 - INFO - Adversarial Episode 80/100, Total Reward: -9438821.88, Events: 148
2025-07-28 11:24:44,307 - INFO - Adversarial Episode 90/100, Total Reward: 4898822.78, Events: 128
2025-07-28 11:24:45,068 - INFO - Adversarial Episode 100/100, Total Reward: 14324043.25, Events: 153
2025-07-28 11:24:45,172 - INFO - Saved full analysis to stock_analysis\BAJFINANCE_NS_analysis_20250728_112445.json
2025-07-28 11:24:45,173 - INFO - Saved summary to stock_analysis\BAJFINANCE_NS_summary_20250728_112445.csv
2025-07-28 11:24:45,174 - INFO - Appended ML, RL, and Stock Analysis Report to stock_analysis\ml_logs.txt
2025-07-28 11:24:45,174 - INFO - Saved analysis files: {'success': True, 'json_file': 'stock_analysis\\BAJFINANCE_NS_analysis_20250728_112445.json', 'csv_file': 'stock_analysis\\BAJFINANCE_NS_summary_20250728_112445.csv', 'log_file': 'stock_analysis\\ml_logs.txt'}
2025-07-28 11:24:45,614 - INFO - Fetched price for HDFCBANK.NS: Rs.2014.90
2025-07-28 11:24:45,733 - INFO - Fetched price for SUZLON.NS: Rs.62.65
2025-07-28 11:24:45,990 - INFO - Fetched price for HDFCBANK.NS: Rs.2014.90
2025-07-28 11:24:46,045 - INFO - Fetched price for SUZLON.NS: Rs.62.65
2025-07-28 11:24:46,104 - INFO - Fetched price for HDFCBANK.NS: Rs.2014.90
2025-07-28 11:24:46,158 - INFO - Fetched price for SUZLON.NS: Rs.62.65
2025-07-28 11:24:46,222 - INFO - Fetched price for HDFCBANK.NS: Rs.2014.90
2025-07-28 11:24:46,286 - INFO - Fetched price for SUZLON.NS: Rs.62.65
2025-07-28 11:24:46,288 - INFO - HOLD BAJFINANCE.NS: Neutral market conditions, Price Rs.908.35 within Support Rs.774.24 and Resistance Rs.973.06, Buy Score=0.06, Sell Score=0.32
2025-07-28 11:24:46,289 - INFO - Trade executed: {'action': 'hold', 'ticker': 'BAJFINANCE.NS', 'qty': 0, 'price': 908.35, 'stop_loss': 751.0111969453429, 'take_profit': 1002.2526359948731, 'success': True, 'confidence_score': 0.32000000000000006, 'signals': 1, 'reason': 'neutral_conditions'}
2025-07-28 11:24:46,289 - INFO - Processing BEL.NS...
2025-07-28 11:24:46,290 - INFO - Fetching and analyzing data for BEL.NS...
2025-07-28 11:24:48,362 - INFO - Fetching sentiment for BEL.NS...
2025-07-28 11:24:48,363 - INFO - Starting multi-level NewsAPI search for BEL.NS
2025-07-28 11:24:48,363 - INFO - Trying search level 1: Full company names
2025-07-28 11:24:51,486 - INFO - Found 416 articles for query: "BEL"...
2025-07-28 11:24:51,489 - INFO - Success at level 1: Found meaningful results
2025-07-28 11:24:51,490 - INFO - Starting multi-level GNews search for BEL.NS
2025-07-28 11:24:51,490 - INFO - Trying search level 1: Full company names
2025-07-28 11:24:52,520 - INFO - Found 10 articles for query: "BEL"...
2025-07-28 11:24:52,524 - INFO - Success at level 1: Found meaningful results
2025-07-28 11:24:52,524 - INFO - Google News search query for BEL.NS: "BEL"
2025-07-28 11:25:56,558 - INFO - Found 100 Google News articles for BEL.NS
2025-07-28 11:25:56,559 - INFO - Fetching institutional investments data for BEL.NS...
2025-07-28 11:25:57,366 - INFO - Fetching extended data for BEL.NS for ML analysis...
2025-07-28 11:25:57,584 - INFO - Generating adversarial financial data for BEL.NS...
2025-07-28 11:25:59,240 - INFO - Engineering features for ML pattern recognition...
2025-07-28 11:25:59,388 - INFO - Preparing data for ML prediction...
2025-07-28 11:25:59,390 - INFO - Checking feature matrix for invalid values...
2025-07-28 11:25:59,394 - INFO - Training ML models for BEL.NS...
2025-07-28 11:26:16,337 - INFO - Performing adversarial training for BEL.NS...
2025-07-28 11:26:16,337 - INFO - Cleaning input data...
2025-07-28 11:26:16,337 - INFO - Converting data to tensors...
2025-07-28 11:26:16,338 - INFO - Generating training sequences...
2025-07-28 11:26:16,338 - INFO - Creating sequences with length 20...
2025-07-28 11:26:16,363 - INFO - Generating test sequences...
2025-07-28 11:26:16,363 - INFO - Creating sequences with length 20...
2025-07-28 11:26:16,369 - INFO - Initializing LSTM and Transformer models...
2025-07-28 11:26:16,374 - INFO - Starting adversarial training for LSTM and Transformer...
2025-07-28 11:26:37,363 - INFO - Epoch [10/50], LSTM Loss: 0.0087, Transformer Loss: 0.0251
2025-07-28 11:27:00,244 - INFO - Epoch [20/50], LSTM Loss: 0.0066, Transformer Loss: 0.0120
2025-07-28 11:27:21,370 - INFO - Epoch [30/50], LSTM Loss: 0.0054, Transformer Loss: 0.0109
2025-07-28 11:27:43,317 - INFO - Epoch [40/50], LSTM Loss: 0.0051, Transformer Loss: 0.0062
2025-07-28 11:28:04,433 - INFO - Epoch [50/50], LSTM Loss: 0.0044, Transformer Loss: 0.0049
2025-07-28 11:28:04,434 - INFO - Evaluating models...
2025-07-28 11:28:04,505 - INFO - Evaluating adversarial robustness...
2025-07-28 11:28:04,700 - INFO - Performing RL training with adversarial events for BEL.NS...
2025-07-28 11:28:04,707 - INFO - Training adversarial RL agent...
2025-07-28 11:28:05,481 - INFO - Adversarial Episode 10/100, Total Reward: 4849246.09, Events: 147
2025-07-28 11:28:06,148 - INFO - Adversarial Episode 20/100, Total Reward: 416254.04, Events: 135
2025-07-28 11:28:06,912 - INFO - Adversarial Episode 30/100, Total Reward: 5957330.58, Events: 145
2025-07-28 11:28:07,668 - INFO - Adversarial Episode 40/100, Total Reward: 4461926.59, Events: 161
2025-07-28 11:28:08,298 - INFO - Adversarial Episode 50/100, Total Reward: 2560749.25, Events: 168
2025-07-28 11:28:09,072 - INFO - Adversarial Episode 60/100, Total Reward: 1956662.11, Events: 142
2025-07-28 11:28:09,740 - INFO - Adversarial Episode 70/100, Total Reward: 7673317.29, Events: 135
2025-07-28 11:28:10,486 - INFO - Adversarial Episode 80/100, Total Reward: 1641937.38, Events: 130
2025-07-28 11:28:11,217 - INFO - Adversarial Episode 90/100, Total Reward: 3782666.03, Events: 144
2025-07-28 11:28:11,944 - INFO - Adversarial Episode 100/100, Total Reward: 5687263.72, Events: 152
2025-07-28 11:28:12,016 - INFO - Saved full analysis to stock_analysis\BEL_NS_analysis_20250728_112812.json
2025-07-28 11:28:12,017 - INFO - Saved summary to stock_analysis\BEL_NS_summary_20250728_112812.csv
2025-07-28 11:28:12,018 - INFO - Appended ML, RL, and Stock Analysis Report to stock_analysis\ml_logs.txt
2025-07-28 11:28:12,018 - INFO - Saved analysis files: {'success': True, 'json_file': 'stock_analysis\\BEL_NS_analysis_20250728_112812.json', 'csv_file': 'stock_analysis\\BEL_NS_summary_20250728_112812.csv', 'log_file': 'stock_analysis\\ml_logs.txt'}
2025-07-28 11:28:12,265 - INFO - Fetched price for HDFCBANK.NS: Rs.2014.00
2025-07-28 11:28:12,368 - INFO - Fetched price for SUZLON.NS: Rs.62.69
2025-07-28 11:28:12,628 - INFO - Fetched price for HDFCBANK.NS: Rs.2014.00
2025-07-28 11:28:12,686 - INFO - Fetched price for SUZLON.NS: Rs.62.69
2025-07-28 11:28:12,737 - INFO - Fetched price for HDFCBANK.NS: Rs.2014.00
2025-07-28 11:28:12,784 - INFO - Fetched price for SUZLON.NS: Rs.62.69
2025-07-28 11:28:12,841 - INFO - Fetched price for HDFCBANK.NS: Rs.2014.00
2025-07-28 11:28:12,897 - INFO - Fetched price for SUZLON.NS: Rs.62.69
2025-07-28 11:28:12,899 - INFO - HOLD BEL.NS: Neutral market conditions, Price Rs.390.85 within Support Rs.300.26 and Resistance Rs.421.35, Buy Score=0.03, Sell Score=0.32
2025-07-28 11:28:12,900 - INFO - Trade executed: {'action': 'hold', 'ticker': 'BEL.NS', 'qty': 0, 'price': 390.85, 'stop_loss': 291.25696785430904, 'take_profit': 433.9918906320191, 'success': True, 'confidence_score': 0.32000000000000006, 'signals': 1, 'reason': 'neutral_conditions'}
2025-07-28 11:28:12,901 - INFO - Processing COALINDIA.NS...
2025-07-28 11:28:12,901 - INFO - Fetching and analyzing data for COALINDIA.NS...
2025-07-28 11:28:13,851 - INFO - Fetching sentiment for COALINDIA.NS...
2025-07-28 11:28:13,852 - INFO - Starting multi-level NewsAPI search for COALINDIA.NS
2025-07-28 11:28:13,852 - INFO - Trying search level 1: Full company names
2025-07-28 11:28:15,793 - INFO - Level 1 returned insufficient results, trying next level
2025-07-28 11:28:15,793 - INFO - Trying search level 2: Company names with financial context
2025-07-28 11:28:18,546 - INFO - Level 2 returned insufficient results, trying next level
2025-07-28 11:28:18,547 - INFO - Trying search level 3: Ticker with market context
2025-07-28 11:28:20,802 - INFO - Level 3 returned insufficient results, trying next level
2025-07-28 11:28:20,802 - WARNING - All search levels failed for COALINDIA.NS
2025-07-28 11:28:20,802 - INFO - Multi-level search failed, trying basic search for COALINDIA.NS
2025-07-28 11:28:22,930 - INFO - Starting multi-level GNews search for COALINDIA.NS
2025-07-28 11:28:22,930 - INFO - Trying search level 1: Full company names
2025-07-28 11:28:23,915 - INFO - Found 3 articles for query: "COALINDIA"...
2025-07-28 11:28:23,918 - INFO - Success at level 1: Found meaningful results
2025-07-28 11:28:23,918 - INFO - Google News search query for COALINDIA.NS: "COALINDIA"
2025-07-28 11:29:01,595 - INFO - Found 64 Google News articles for COALINDIA.NS
2025-07-28 11:29:01,596 - INFO - Fetching institutional investments data for COALINDIA.NS...
2025-07-28 11:29:02,386 - INFO - Fetching extended data for COALINDIA.NS for ML analysis...
2025-07-28 11:29:02,582 - INFO - Generating adversarial financial data for COALINDIA.NS...
2025-07-28 11:29:03,864 - INFO - Engineering features for ML pattern recognition...
2025-07-28 11:29:03,989 - INFO - Preparing data for ML prediction...
2025-07-28 11:29:03,990 - INFO - Checking feature matrix for invalid values...
2025-07-28 11:29:03,995 - INFO - Training ML models for COALINDIA.NS...
2025-07-28 11:29:20,430 - INFO - Performing adversarial training for COALINDIA.NS...
2025-07-28 11:29:20,430 - INFO - Cleaning input data...
2025-07-28 11:29:20,431 - INFO - Converting data to tensors...
2025-07-28 11:29:20,431 - INFO - Generating training sequences...
2025-07-28 11:29:20,431 - INFO - Creating sequences with length 20...
2025-07-28 11:29:20,456 - INFO - Generating test sequences...
2025-07-28 11:29:20,457 - INFO - Creating sequences with length 20...
2025-07-28 11:29:20,463 - INFO - Initializing LSTM and Transformer models...
2025-07-28 11:29:20,468 - INFO - Starting adversarial training for LSTM and Transformer...
2025-07-28 11:29:41,494 - INFO - Epoch [10/50], LSTM Loss: 0.0140, Transformer Loss: 0.0272
2025-07-28 11:30:04,041 - INFO - Epoch [20/50], LSTM Loss: 0.0100, Transformer Loss: 0.0197
2025-07-28 11:30:26,853 - INFO - Epoch [30/50], LSTM Loss: 0.0098, Transformer Loss: 0.0165
2025-07-28 11:30:49,673 - INFO - Epoch [40/50], LSTM Loss: 0.0064, Transformer Loss: 0.0121
2025-07-28 11:31:11,206 - INFO - Epoch [50/50], LSTM Loss: 0.0051, Transformer Loss: 0.0094
2025-07-28 11:31:11,206 - INFO - Evaluating models...
2025-07-28 11:31:11,251 - INFO - Evaluating adversarial robustness...
2025-07-28 11:31:11,485 - INFO - Performing RL training with adversarial events for COALINDIA.NS...
2025-07-28 11:31:11,492 - INFO - Training adversarial RL agent...
2025-07-28 11:31:12,338 - INFO - Adversarial Episode 10/100, Total Reward: 1240277.43, Events: 153
2025-07-28 11:31:13,057 - INFO - Adversarial Episode 20/100, Total Reward: 8646903.19, Events: 156
2025-07-28 11:31:13,770 - INFO - Adversarial Episode 30/100, Total Reward: 7899910.31, Events: 151
2025-07-28 11:31:14,662 - INFO - Adversarial Episode 40/100, Total Reward: 3207431.53, Events: 140
2025-07-28 11:31:15,354 - INFO - Adversarial Episode 50/100, Total Reward: 6091366.38, Events: 164
2025-07-28 11:31:16,208 - INFO - Adversarial Episode 60/100, Total Reward: 8103298.47, Events: 158
2025-07-28 11:31:16,889 - INFO - Adversarial Episode 70/100, Total Reward: 6264897.34, Events: 148
2025-07-28 11:31:17,705 - INFO - Adversarial Episode 80/100, Total Reward: 3874139.89, Events: 126
2025-07-28 11:31:18,527 - INFO - Adversarial Episode 90/100, Total Reward: 9019351.60, Events: 154
2025-07-28 11:31:19,262 - INFO - Adversarial Episode 100/100, Total Reward: 3718317.37, Events: 146
2025-07-28 11:31:19,345 - INFO - Saved full analysis to stock_analysis\COALINDIA_NS_analysis_20250728_113119.json
2025-07-28 11:31:19,346 - INFO - Saved summary to stock_analysis\COALINDIA_NS_summary_20250728_113119.csv
2025-07-28 11:31:19,347 - INFO - Appended ML, RL, and Stock Analysis Report to stock_analysis\ml_logs.txt
2025-07-28 11:31:19,347 - INFO - Saved analysis files: {'success': True, 'json_file': 'stock_analysis\\COALINDIA_NS_analysis_20250728_113119.json', 'csv_file': 'stock_analysis\\COALINDIA_NS_summary_20250728_113119.csv', 'log_file': 'stock_analysis\\ml_logs.txt'}
2025-07-28 11:31:20,543 - INFO - Fetched price for HDFCBANK.NS: Rs.2013.60
2025-07-28 11:31:20,841 - INFO - Fetched price for SUZLON.NS: Rs.62.68
2025-07-28 11:31:21,702 - INFO - Fetched price for HDFCBANK.NS: Rs.2013.60
2025-07-28 11:31:21,972 - INFO - Fetched price for SUZLON.NS: Rs.62.68
2025-07-28 11:31:22,245 - INFO - Fetched price for HDFCBANK.NS: Rs.2013.60
2025-07-28 11:31:22,514 - INFO - Fetched price for SUZLON.NS: Rs.62.68
2025-07-28 11:31:22,785 - INFO - Fetched price for HDFCBANK.NS: Rs.2013.60
2025-07-28 11:31:23,057 - INFO - Fetched price for SUZLON.NS: Rs.62.68
2025-07-28 11:31:23,059 - INFO - HOLD COALINDIA.NS: Neutral market conditions, Price Rs.383.50 within Support Rs.372.41 and Resistance Rs.411.61, Buy Score=0.12, Sell Score=0.33
2025-07-28 11:31:23,060 - INFO - Trade executed: {'action': 'hold', 'ticker': 'COALINDIA.NS', 'qty': 0, 'price': 383.5, 'stop_loss': 361.2381385247802, 'take_profit': 423.95989887634283, 'success': True, 'confidence_score': 0.3287019670964821, 'signals': np.int64(2), 'reason': 'neutral_conditions'}
2025-07-28 11:31:23,060 - INFO - Processing HDFCBANK.NS...
2025-07-28 11:31:23,060 - INFO - Fetching and analyzing data for HDFCBANK.NS...
2025-07-28 11:31:25,960 - INFO - Fetching sentiment for HDFCBANK.NS...
2025-07-28 11:31:25,961 - INFO - Starting multi-level NewsAPI search for HDFCBANK.NS
2025-07-28 11:31:25,961 - INFO - Trying search level 1: Full company names
2025-07-28 11:31:28,834 - INFO - Found 948 articles for query: "HDFC Bank" OR "Housing Development Finance Corpor...
2025-07-28 11:31:28,838 - INFO - Success at level 1: Found meaningful results
2025-07-28 11:31:28,838 - INFO - Starting multi-level GNews search for HDFCBANK.NS
2025-07-28 11:31:28,838 - INFO - Trying search level 1: Full company names
2025-07-28 11:31:29,882 - INFO - Found 10 articles for query: "HDFC Bank" OR "Housing Development Finance Corpor...
2025-07-28 11:31:29,887 - INFO - Success at level 1: Found meaningful results
2025-07-28 11:31:29,888 - INFO - Google News search query for HDFCBANK.NS: "HDFC Bank" OR "Housing Development Finance Corporation"
2025-07-28 11:32:35,710 - INFO - Found 100 Google News articles for HDFCBANK.NS
2025-07-28 11:32:35,711 - INFO - Fetching institutional investments data for HDFCBANK.NS...
2025-07-28 11:32:37,389 - INFO - Fetching extended data for HDFCBANK.NS for ML analysis...
2025-07-28 11:32:38,020 - INFO - Generating adversarial financial data for HDFCBANK.NS...
2025-07-28 11:32:39,526 - INFO - Engineering features for ML pattern recognition...
2025-07-28 11:32:39,684 - INFO - Preparing data for ML prediction...
2025-07-28 11:32:39,686 - INFO - Checking feature matrix for invalid values...
2025-07-28 11:32:39,691 - INFO - Training ML models for HDFCBANK.NS...
2025-07-28 11:32:58,004 - INFO - Performing adversarial training for HDFCBANK.NS...
2025-07-28 11:32:58,004 - INFO - Cleaning input data...
2025-07-28 11:32:58,005 - INFO - Converting data to tensors...
2025-07-28 11:32:58,005 - INFO - Generating training sequences...
2025-07-28 11:32:58,005 - INFO - Creating sequences with length 20...
2025-07-28 11:32:58,031 - INFO - Generating test sequences...
2025-07-28 11:32:58,031 - INFO - Creating sequences with length 20...
2025-07-28 11:32:58,037 - INFO - Initializing LSTM and Transformer models...
2025-07-28 11:32:58,042 - INFO - Starting adversarial training for LSTM and Transformer...
2025-07-28 11:33:18,834 - INFO - Epoch [10/50], LSTM Loss: 0.0191, Transformer Loss: 0.0294
2025-07-28 11:33:32,896 - INFO - Stopping Trading Bot...
2025-07-28 11:33:32,896 - INFO - Waiting for trading thread to finish...
2025-07-28 11:33:39,499 - INFO - Epoch [20/50], LSTM Loss: 0.0162, Transformer Loss: 0.0241
2025-07-28 11:33:42,901 - WARNING - Trading thread did not stop within timeout, forcing stop...
2025-07-28 11:33:42,901 - INFO - Web Trading Bot stopped successfully
2025-07-28 11:33:54,567 - INFO - Trading bot is already stopped
2025-07-28 11:33:54,567 - INFO - Trading bot stopped on shutdown
2025-07-28 11:33:54,569 - INFO - Web server stopped by user
2025-07-28 11:35:42,605 - INFO - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-28 11:35:42,605 - INFO - Loaded 2 trades from trade log
2025-07-28 11:35:42,622 - INFO - Loaded 78 stocks from cache
2025-07-28 11:35:42,622 - INFO - Dynamic ticker mapper initialized
2025-07-28 11:35:42,624 - INFO - Llama LLM initialized successfully with Ollama
2025-07-28 11:35:42,624 - INFO - Initializing Stock Trading Bot for Indian market...
2025-07-28 11:35:42,624 - INFO - Trading bot initialized successfully
2025-07-28 11:35:42,624 - INFO - Starting FastAPI web server on http://127.0.0.1:5000
2025-07-28 11:35:42,624 - INFO - Web interface will be available at the above URL
2025-07-28 11:35:42,625 - INFO - API documentation available at http://{host}:{port}/docs
2025-07-28 11:35:42,660 - INFO - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-28 11:35:42,661 - INFO - Loaded 2 trades from trade log
2025-07-28 11:35:42,675 - INFO - Loaded 78 stocks from cache
2025-07-28 11:35:42,675 - INFO - Dynamic ticker mapper initialized
2025-07-28 11:35:42,676 - INFO - Llama LLM initialized successfully with Ollama
2025-07-28 11:35:42,676 - INFO - Initializing Stock Trading Bot for Indian market...
2025-07-28 11:35:42,676 - INFO - Trading bot initialized successfully
2025-07-28 11:35:42,677 - INFO - Trading bot initialized on startup
2025-07-28 11:56:20,243 - INFO - Fyers API initialized successfully
2025-07-28 11:56:20,244 - INFO - Dynamic Market Expert initialized successfully
2025-07-28 11:56:20,244 - INFO - Dynamic Market Expert initialized for web chat
2025-07-28 11:56:51,660 - INFO - Trading bot is already stopped
2025-07-28 11:56:51,660 - INFO - Trading bot stopped on shutdown
2025-07-28 11:56:51,661 - INFO - Web server stopped by user
2025-07-28 11:57:12,765 - INFO - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-28 11:57:12,766 - INFO - Loaded 2 trades from trade log
2025-07-28 11:57:12,777 - INFO - Loaded 78 stocks from cache
2025-07-28 11:57:12,778 - INFO - Dynamic ticker mapper initialized
2025-07-28 11:57:12,780 - INFO - Llama LLM initialized successfully with Ollama
2025-07-28 11:57:12,780 - INFO - Initializing Stock Trading Bot for Indian market...
2025-07-28 11:57:12,780 - INFO - Trading bot initialized successfully
2025-07-28 11:57:12,780 - INFO - Starting FastAPI web server on http://127.0.0.1:5000
2025-07-28 11:57:12,780 - INFO - Web interface will be available at the above URL
2025-07-28 11:57:12,781 - INFO - API documentation available at http://{host}:{port}/docs
2025-07-28 11:57:12,814 - INFO - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-28 11:57:12,814 - INFO - Loaded 2 trades from trade log
2025-07-28 11:57:12,828 - INFO - Loaded 78 stocks from cache
2025-07-28 11:57:12,828 - INFO - Dynamic ticker mapper initialized
2025-07-28 11:57:12,829 - INFO - Llama LLM initialized successfully with Ollama
2025-07-28 11:57:12,829 - INFO - Initializing Stock Trading Bot for Indian market...
2025-07-28 11:57:12,829 - INFO - Trading bot initialized successfully
2025-07-28 11:57:12,829 - INFO - Trading bot initialized on startup
2025-07-28 11:57:19,285 - INFO - Fyers API initialized successfully
2025-07-28 11:57:19,285 - INFO - Dynamic Market Expert initialized successfully
2025-07-28 11:57:19,285 - INFO - Dynamic Market Expert initialized for web chat
2025-07-28 12:00:33,114 - INFO - Starting Indian Stock Trading Bot...
2025-07-28 12:00:33,114 - INFO - Trading Mode: PAPER
2025-07-28 12:00:33,114 - INFO - Starting Balance: Rs.10,000.00
2025-07-28 12:00:33,114 - INFO - Watchlist: 
2025-07-28 12:00:33,115 - INFO - ============================================================
2025-07-28 12:00:33,115 - INFO - Starting Stock Trading Bot for Indian market...
2025-07-28 12:00:33,115 - INFO - Web Trading Bot started successfully
2025-07-28 12:00:33,116 - INFO - Logging portfolio metrics at start of trading cycle...
2025-07-28 12:00:33,339 - INFO - Fetched price for HDFCBANK.NS: Rs.2013.60
2025-07-28 12:00:33,463 - INFO - Fetched price for SUZLON.NS: Rs.62.20
2025-07-28 12:00:33,463 - INFO - Portfolio Metrics:
2025-07-28 12:00:33,463 - INFO - Cash: Rs.6003.09
2025-07-28 12:00:33,463 - INFO - Holdings: {'HDFCBANK.NS': {'qty': 1, 'avg_price': 2015.7}, 'SUZLON.NS': {'qty': 31, 'avg_price': 63.91}}
2025-07-28 12:00:33,463 - INFO - Total Value: Rs.9944.89
2025-07-28 12:00:33,464 - INFO - Current Portfolio Value (Dhan): Rs.10000.00
2025-07-28 12:00:33,464 - INFO - Current PnL (Dhan): Rs.0.00
2025-07-28 12:00:33,464 - INFO - Realized PnL: Rs.0.00
2025-07-28 12:00:33,464 - INFO - Unrealized PnL: Rs.-55.11
2025-07-28 12:00:33,464 - INFO - Total Exposure: Rs.3941.80
2025-07-28 12:00:33,495 - INFO - Fetched price for HDFCBANK.NS: Rs.2013.60
2025-07-28 12:00:33,523 - INFO - Fetched price for SUZLON.NS: Rs.62.20
2025-07-28 12:00:33,525 - INFO - Saved report to reports\report_20250728.json
2025-07-28 12:00:33,525 - INFO - Daily Report: {'date': '2025-07-28', 'roi_today': np.float64(-0.5511000076293904), 'cumulative_roi': np.float64(-0.5511000076293904), 'sharpe': 0, 'drawdown': np.float64(0.551100007629393), 'trades_executed': 2}
2025-07-28 12:00:33,526 - INFO - Logging portfolio metrics at end of trading cycle...
2025-07-28 12:00:33,549 - INFO - Fetched price for HDFCBANK.NS: Rs.2013.60
2025-07-28 12:00:33,579 - INFO - Fetched price for SUZLON.NS: Rs.62.20
2025-07-28 12:00:33,580 - INFO - Portfolio Metrics:
2025-07-28 12:00:33,580 - INFO - Cash: Rs.6003.09
2025-07-28 12:00:33,580 - INFO - Holdings: {'HDFCBANK.NS': {'qty': 1, 'avg_price': 2015.7}, 'SUZLON.NS': {'qty': 31, 'avg_price': 63.91}}
2025-07-28 12:00:33,580 - INFO - Total Value: Rs.9944.89
2025-07-28 12:00:33,580 - INFO - Current Portfolio Value (Dhan): Rs.10000.00
2025-07-28 12:00:33,580 - INFO - Current PnL (Dhan): Rs.0.00
2025-07-28 12:00:33,581 - INFO - Realized PnL: Rs.0.00
2025-07-28 12:00:33,581 - INFO - Unrealized PnL: Rs.-55.11
2025-07-28 12:00:33,581 - INFO - Total Exposure: Rs.3941.80
2025-07-28 12:00:33,614 - INFO - Fetched price for HDFCBANK.NS: Rs.2013.60
2025-07-28 12:00:33,648 - INFO - Fetched price for SUZLON.NS: Rs.62.20
2025-07-28 12:00:33,649 - INFO - Paper trading P&L summary generated
2025-07-28 12:01:03,650 - INFO - Logging portfolio metrics at start of trading cycle...
2025-07-28 12:01:03,798 - INFO - Fetched price for HDFCBANK.NS: Rs.2013.90
2025-07-28 12:01:03,922 - INFO - Fetched price for SUZLON.NS: Rs.62.18
2025-07-28 12:01:03,923 - INFO - Portfolio Metrics:
2025-07-28 12:01:03,923 - INFO - Cash: Rs.6003.09
2025-07-28 12:01:03,923 - INFO - Holdings: {'HDFCBANK.NS': {'qty': 1, 'avg_price': 2015.7}, 'SUZLON.NS': {'qty': 31, 'avg_price': 63.91}}
2025-07-28 12:01:03,923 - INFO - Total Value: Rs.9944.57
2025-07-28 12:01:03,923 - INFO - Current Portfolio Value (Dhan): Rs.10000.00
2025-07-28 12:01:03,923 - INFO - Current PnL (Dhan): Rs.0.00
2025-07-28 12:01:03,924 - INFO - Realized PnL: Rs.0.00
2025-07-28 12:01:03,924 - INFO - Unrealized PnL: Rs.-55.43
2025-07-28 12:01:03,924 - INFO - Total Exposure: Rs.3941.48
2025-07-28 12:01:03,970 - INFO - Fetched price for HDFCBANK.NS: Rs.2013.90
2025-07-28 12:01:04,006 - INFO - Fetched price for SUZLON.NS: Rs.62.18
2025-07-28 12:01:04,008 - INFO - Saved report to reports\report_20250728.json
2025-07-28 12:01:04,008 - INFO - Daily Report: {'date': '2025-07-28', 'roi_today': np.float64(-0.5542996612548867), 'cumulative_roi': np.float64(-0.5542996612548867), 'sharpe': 0, 'drawdown': np.float64(0.5542996612548814), 'trades_executed': 2}
2025-07-28 12:01:04,008 - INFO - Logging portfolio metrics at end of trading cycle...
2025-07-28 12:01:04,056 - INFO - Fetched price for HDFCBANK.NS: Rs.2013.90
2025-07-28 12:01:04,096 - INFO - Fetched price for SUZLON.NS: Rs.62.18
2025-07-28 12:01:04,096 - INFO - Portfolio Metrics:
2025-07-28 12:01:04,096 - INFO - Cash: Rs.6003.09
2025-07-28 12:01:04,096 - INFO - Holdings: {'HDFCBANK.NS': {'qty': 1, 'avg_price': 2015.7}, 'SUZLON.NS': {'qty': 31, 'avg_price': 63.91}}
2025-07-28 12:01:04,096 - INFO - Total Value: Rs.9944.57
2025-07-28 12:01:04,097 - INFO - Current Portfolio Value (Dhan): Rs.10000.00
2025-07-28 12:01:04,097 - INFO - Current PnL (Dhan): Rs.0.00
2025-07-28 12:01:04,097 - INFO - Realized PnL: Rs.0.00
2025-07-28 12:01:04,097 - INFO - Unrealized PnL: Rs.-55.43
2025-07-28 12:01:04,097 - INFO - Total Exposure: Rs.3941.48
2025-07-28 12:01:04,129 - INFO - Fetched price for HDFCBANK.NS: Rs.2013.90
2025-07-28 12:01:04,163 - INFO - Fetched price for SUZLON.NS: Rs.62.18
2025-07-28 12:01:04,164 - INFO - Paper trading P&L summary generated
2025-07-28 12:01:17,981 - INFO - Stopping Trading Bot...
2025-07-28 12:01:17,981 - INFO - Waiting for trading thread to finish...
2025-07-28 12:01:27,991 - WARNING - Trading thread did not stop within timeout, forcing stop...
2025-07-28 12:01:27,992 - INFO - Web Trading Bot stopped successfully
2025-07-28 12:01:27,992 - INFO - Trading bot stopped on shutdown
2025-07-28 12:01:27,993 - INFO - Web server stopped by user
2025-07-28 13:27:23,117 - INFO - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-28 13:27:23,118 - INFO - Loaded 2 trades from trade log
2025-07-28 13:27:23,132 - INFO - Loaded 78 stocks from cache
2025-07-28 13:27:23,132 - INFO - Dynamic ticker mapper initialized
2025-07-28 13:27:23,134 - INFO - Llama LLM initialized successfully with Ollama
2025-07-28 13:27:23,134 - INFO - Initializing Stock Trading Bot for Indian market...
2025-07-28 13:27:23,134 - INFO - Trading bot initialized successfully
2025-07-28 13:27:23,135 - INFO - Starting FastAPI web server on http://127.0.0.1:5000
2025-07-28 13:27:23,135 - INFO - Web interface will be available at the above URL
2025-07-28 13:27:23,135 - INFO - API documentation available at http://{host}:{port}/docs
2025-07-28 13:27:23,170 - INFO - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-28 13:27:23,171 - INFO - Loaded 2 trades from trade log
2025-07-28 13:27:23,184 - INFO - Loaded 78 stocks from cache
2025-07-28 13:27:23,184 - INFO - Dynamic ticker mapper initialized
2025-07-28 13:27:23,185 - INFO - Llama LLM initialized successfully with Ollama
2025-07-28 13:27:23,185 - INFO - Initializing Stock Trading Bot for Indian market...
2025-07-28 13:27:23,186 - INFO - Trading bot initialized successfully
2025-07-28 13:27:23,186 - INFO - Trading bot initialized on startup
2025-07-28 13:27:23,186 - INFO - Trading bot is already stopped
2025-07-28 13:27:23,187 - INFO - Trading bot stopped on shutdown
2025-07-28 13:28:37,288 - INFO - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-28 13:28:37,288 - INFO - Loaded 2 trades from trade log
2025-07-28 13:28:37,304 - INFO - Loaded 78 stocks from cache
2025-07-28 13:28:37,304 - INFO - Dynamic ticker mapper initialized
2025-07-28 13:28:37,307 - INFO - Llama LLM initialized successfully with Ollama
2025-07-28 13:28:37,307 - INFO - Initializing Stock Trading Bot for Indian market...
2025-07-28 13:28:37,307 - INFO - Trading bot initialized successfully
2025-07-28 13:28:37,307 - INFO - Starting FastAPI web server on http://127.0.0.1:5001
2025-07-28 13:28:37,307 - INFO - Web interface will be available at the above URL
2025-07-28 13:28:37,308 - INFO - API documentation available at http://{host}:{port}/docs
2025-07-28 13:28:37,344 - INFO - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-28 13:28:37,345 - INFO - Loaded 2 trades from trade log
2025-07-28 13:28:37,359 - INFO - Loaded 78 stocks from cache
2025-07-28 13:28:37,359 - INFO - Dynamic ticker mapper initialized
2025-07-28 13:28:37,360 - INFO - Llama LLM initialized successfully with Ollama
2025-07-28 13:28:37,360 - INFO - Initializing Stock Trading Bot for Indian market...
2025-07-28 13:28:37,360 - INFO - Trading bot initialized successfully
2025-07-28 13:28:37,360 - INFO - Trading bot initialized on startup
2025-07-28 13:29:37,955 - INFO - Added ticker RELIANCE.NS to watchlist via bulk upload
2025-07-28 13:29:37,956 - INFO - Added ticker TCS.NS to watchlist via bulk upload
2025-07-28 13:29:37,956 - INFO - Added ticker INFY.NS to watchlist via bulk upload
2025-07-28 13:29:37,956 - INFO - Updated data feed with 3 new tickers
2025-07-28 13:35:13,823 - INFO - Added ticker HDFCBANK.NS to watchlist via bulk upload
2025-07-28 13:35:13,823 - INFO - Added ticker ICICIBANK.NS to watchlist via bulk upload
2025-07-28 13:35:13,823 - INFO - Added ticker KOTAKBANK.NS to watchlist via bulk upload
2025-07-28 13:35:13,824 - INFO - Added ticker BHARTIARTL.NS to watchlist via bulk upload
2025-07-28 13:35:13,824 - INFO - Added ticker ITC.NS to watchlist via bulk upload
2025-07-28 13:35:13,824 - INFO - Added ticker SBIN.NS to watchlist via bulk upload
2025-07-28 13:35:13,824 - INFO - Added ticker HINDUNILVR.NS to watchlist via bulk upload
2025-07-28 13:35:13,824 - INFO - Added ticker BAJFINANCE.NS to watchlist via bulk upload
2025-07-28 13:35:13,824 - INFO - Added ticker ASIANPAINT.NS to watchlist via bulk upload
2025-07-28 13:35:13,824 - INFO - Added ticker MARUTI.NS to watchlist via bulk upload
2025-07-28 13:35:13,825 - INFO - Added ticker AXISBANK.NS to watchlist via bulk upload
2025-07-28 13:35:13,825 - INFO - Added ticker LT.NS to watchlist via bulk upload
2025-07-28 13:35:13,825 - INFO - Added ticker HCLTECH.NS to watchlist via bulk upload
2025-07-28 13:35:13,825 - INFO - Added ticker WIPRO.NS to watchlist via bulk upload
2025-07-28 13:35:13,825 - INFO - Added ticker ULTRACEMCO.NS to watchlist via bulk upload
2025-07-28 13:35:13,825 - INFO - Added ticker TITAN.NS to watchlist via bulk upload
2025-07-28 13:35:13,825 - INFO - Added ticker NESTLEIND.NS to watchlist via bulk upload
2025-07-28 13:35:13,826 - INFO - Added ticker ADANIPORTS.NS to watchlist via bulk upload
2025-07-28 13:35:13,826 - INFO - Added ticker TATASTEEL.NS to watchlist via bulk upload
2025-07-28 13:35:13,826 - INFO - Added ticker HINDALCO.NS to watchlist via bulk upload
2025-07-28 13:35:13,826 - INFO - Added ticker JSWSTEEL.NS to watchlist via bulk upload
2025-07-28 13:35:13,826 - INFO - Added ticker BAJAJ-AUTO.NS to watchlist via bulk upload
2025-07-28 13:35:13,826 - INFO - Added ticker M&M.NS to watchlist via bulk upload
2025-07-28 13:35:13,826 - INFO - Added ticker TATAMOTORS.NS to watchlist via bulk upload
2025-07-28 13:35:13,827 - INFO - Added ticker EICHERMOT.NS to watchlist via bulk upload
2025-07-28 13:35:13,827 - INFO - Added ticker HEROMOTOCO.NS to watchlist via bulk upload
2025-07-28 13:35:13,827 - INFO - Added ticker SUNPHARMA.NS to watchlist via bulk upload
2025-07-28 13:35:13,827 - INFO - Added ticker DRREDDY.NS to watchlist via bulk upload
2025-07-28 13:35:13,827 - INFO - Added ticker CIPLA.NS to watchlist via bulk upload
2025-07-28 13:35:13,827 - INFO - Added ticker DIVISLAB.NS to watchlist via bulk upload
2025-07-28 13:35:13,827 - INFO - Added ticker BIOCON.NS to watchlist via bulk upload
2025-07-28 13:35:13,827 - INFO - Added ticker LUPIN.NS to watchlist via bulk upload
2025-07-28 13:35:13,828 - INFO - Added ticker ONGC.NS to watchlist via bulk upload
2025-07-28 13:35:13,828 - INFO - Added ticker BPCL.NS to watchlist via bulk upload
2025-07-28 13:35:13,828 - INFO - Added ticker IOC.NS to watchlist via bulk upload
2025-07-28 13:35:13,828 - INFO - Added ticker COALINDIA.NS to watchlist via bulk upload
2025-07-28 13:35:13,828 - INFO - Added ticker NTPC.NS to watchlist via bulk upload
2025-07-28 13:35:13,828 - INFO - Added ticker POWERGRID.NS to watchlist via bulk upload
2025-07-28 13:35:13,828 - INFO - Added ticker APOLLOHOSP.NS to watchlist via bulk upload
2025-07-28 13:35:13,829 - INFO - Added ticker PIDILITIND.NS to watchlist via bulk upload
2025-07-28 13:35:13,829 - INFO - Added ticker BERGEPAINT.NS to watchlist via bulk upload
2025-07-28 13:35:13,829 - INFO - Added ticker HAVELLS.NS to watchlist via bulk upload
2025-07-28 13:35:13,829 - INFO - Added ticker BRITANNIA.NS to watchlist via bulk upload
2025-07-28 13:35:13,829 - INFO - Added ticker DABUR.NS to watchlist via bulk upload
2025-07-28 13:35:13,829 - INFO - Added ticker MARICO.NS to watchlist via bulk upload
2025-07-28 13:35:13,829 - INFO - Added ticker GODREJCP.NS to watchlist via bulk upload
2025-07-28 13:35:13,829 - INFO - Added ticker GRASIM.NS to watchlist via bulk upload
2025-07-28 13:35:13,830 - INFO - Updated data feed with 47 new tickers
2025-07-28 13:35:23,419 - INFO - Starting Indian Stock Trading Bot...
2025-07-28 13:35:23,419 - INFO - Trading Mode: PAPER
2025-07-28 13:35:23,419 - INFO - Starting Balance: Rs.10,000.00
2025-07-28 13:35:23,419 - INFO - Watchlist: RELIANCE.NS, TCS.NS, INFY.NS, HDFCBANK.NS, ICICIBANK.NS, KOTAKBANK.NS, BHARTIARTL.NS, ITC.NS, SBIN.NS, HINDUNILVR.NS, BAJFINANCE.NS, ASIANPAINT.NS, MARUTI.NS, AXISBANK.NS, LT.NS, HCLTECH.NS, WIPRO.NS, ULTRACEMCO.NS, TITAN.NS, NESTLEIND.NS, ADANIPORTS.NS, TATASTEEL.NS, HINDALCO.NS, JSWSTEEL.NS, BAJAJ-AUTO.NS, M&M.NS, TATAMOTORS.NS, EICHERMOT.NS, HEROMOTOCO.NS, SUNPHARMA.NS, DRREDDY.NS, CIPLA.NS, DIVISLAB.NS, BIOCON.NS, LUPIN.NS, ONGC.NS, BPCL.NS, IOC.NS, COALINDIA.NS, NTPC.NS, POWERGRID.NS, APOLLOHOSP.NS, PIDILITIND.NS, BERGEPAINT.NS, HAVELLS.NS, BRITANNIA.NS, DABUR.NS, MARICO.NS, GODREJCP.NS, GRASIM.NS
2025-07-28 13:35:23,420 - INFO - ============================================================
2025-07-28 13:35:23,420 - INFO - Starting Stock Trading Bot for Indian market...
2025-07-28 13:35:23,420 - INFO - Web Trading Bot started successfully
2025-07-28 13:35:23,421 - INFO - Logging portfolio metrics at start of trading cycle...
2025-07-28 13:35:23,579 - INFO - Fetched price for HDFCBANK.NS: Rs.2005.60
2025-07-28 13:35:23,676 - INFO - Fetched price for SUZLON.NS: Rs.60.95
2025-07-28 13:35:23,677 - INFO - Portfolio Metrics:
2025-07-28 13:35:23,678 - INFO - Cash: Rs.6003.09
2025-07-28 13:35:23,678 - INFO - Holdings: {'HDFCBANK.NS': {'qty': 1, 'avg_price': 2015.7}, 'SUZLON.NS': {'qty': 31, 'avg_price': 63.91}}
2025-07-28 13:35:23,678 - INFO - Total Value: Rs.9898.14
2025-07-28 13:35:23,679 - INFO - Current Portfolio Value (Dhan): Rs.10000.00
2025-07-28 13:35:23,679 - INFO - Current PnL (Dhan): Rs.0.00
2025-07-28 13:35:23,679 - INFO - Realized PnL: Rs.0.00
2025-07-28 13:35:23,680 - INFO - Unrealized PnL: Rs.-101.86
2025-07-28 13:35:23,680 - INFO - Total Exposure: Rs.3895.05
2025-07-28 13:35:23,680 - INFO - Processing RELIANCE.NS...
2025-07-28 13:35:23,680 - INFO - Fetching and analyzing data for RELIANCE.NS...
2025-07-28 13:35:25,337 - INFO - Fetching sentiment for RELIANCE.NS...
2025-07-28 13:35:25,337 - INFO - Starting multi-level NewsAPI search for RELIANCE.NS
2025-07-28 13:35:25,337 - INFO - Trying search level 1: Full company names
2025-07-28 13:35:26,861 - INFO - Found 5921 articles for query: "Reliance Industries" OR "RIL" OR "Reliance"...
2025-07-28 13:35:26,866 - INFO - Success at level 1: Found meaningful results
2025-07-28 13:35:26,867 - INFO - Starting multi-level GNews search for RELIANCE.NS
2025-07-28 13:35:26,867 - INFO - Trying search level 1: Full company names
2025-07-28 13:35:28,103 - INFO - Found 10 articles for query: "Reliance Industries" OR "RIL" OR "Reliance"...
2025-07-28 13:35:28,108 - INFO - Success at level 1: Found meaningful results
2025-07-28 13:35:28,108 - INFO - Google News search query for RELIANCE.NS: "Reliance Industries" OR "RIL" OR "Reliance"
2025-07-28 13:36:34,517 - INFO - Found 100 Google News articles for RELIANCE.NS
2025-07-28 13:36:34,518 - INFO - Fetching institutional investments data for RELIANCE.NS...
2025-07-28 13:36:35,324 - INFO - Fetching extended data for RELIANCE.NS for ML analysis...
2025-07-28 13:36:35,567 - INFO - Generating adversarial financial data for RELIANCE.NS...
2025-07-28 13:36:37,073 - INFO - Engineering features for ML pattern recognition...
2025-07-28 13:36:37,231 - INFO - Preparing data for ML prediction...
2025-07-28 13:36:37,233 - INFO - Checking feature matrix for invalid values...
2025-07-28 13:36:37,240 - INFO - Training ML models for RELIANCE.NS...
2025-07-28 13:36:56,041 - INFO - Performing adversarial training for RELIANCE.NS...
2025-07-28 13:36:56,041 - INFO - Cleaning input data...
2025-07-28 13:36:56,042 - INFO - Converting data to tensors...
2025-07-28 13:36:56,043 - INFO - Generating training sequences...
2025-07-28 13:36:56,044 - INFO - Creating sequences with length 20...
2025-07-28 13:36:56,069 - INFO - Generating test sequences...
2025-07-28 13:36:56,069 - INFO - Creating sequences with length 20...
2025-07-28 13:36:56,075 - INFO - Initializing LSTM and Transformer models...
2025-07-28 13:36:57,935 - INFO - Starting adversarial training for LSTM and Transformer...
2025-07-28 13:37:08,313 - INFO - Stopping Trading Bot...
2025-07-28 13:37:08,314 - INFO - Waiting for trading thread to finish...
2025-07-28 13:37:18,320 - WARNING - Trading thread did not stop within timeout, forcing stop...
2025-07-28 13:37:18,321 - INFO - Web Trading Bot stopped successfully
2025-07-28 13:37:18,321 - INFO - Trading bot stopped on shutdown
2025-07-28 13:37:18,322 - INFO - Web server stopped by user
2025-07-28 13:41:10,296 - INFO - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-28 13:41:10,297 - INFO - Loaded 2 trades from trade log
2025-07-28 13:41:10,313 - INFO - Loaded 78 stocks from cache
2025-07-28 13:41:10,313 - INFO - Dynamic ticker mapper initialized
2025-07-28 13:41:10,315 - INFO - Llama LLM initialized successfully with Ollama
2025-07-28 13:41:10,315 - INFO - Initializing Stock Trading Bot for Indian market...
2025-07-28 13:41:10,315 - INFO - Trading bot initialized successfully
2025-07-28 13:41:10,316 - INFO - Starting FastAPI web server on http://127.0.0.1:5000
2025-07-28 13:41:10,316 - INFO - Web interface will be available at the above URL
2025-07-28 13:41:10,316 - INFO - API documentation available at http://{host}:{port}/docs
2025-07-28 13:41:10,350 - INFO - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-28 13:41:10,351 - INFO - Loaded 2 trades from trade log
2025-07-28 13:41:10,365 - INFO - Loaded 78 stocks from cache
2025-07-28 13:41:10,365 - INFO - Dynamic ticker mapper initialized
2025-07-28 13:41:10,366 - INFO - Llama LLM initialized successfully with Ollama
2025-07-28 13:41:10,366 - INFO - Initializing Stock Trading Bot for Indian market...
2025-07-28 13:41:10,366 - INFO - Trading bot initialized successfully
2025-07-28 13:41:10,367 - INFO - Trading bot initialized on startup
2025-07-28 13:42:46,696 - INFO - Added ticker RELIANCE.NS to watchlist via bulk upload
2025-07-28 13:42:46,696 - INFO - Added ticker TCS.NS to watchlist via bulk upload
2025-07-28 13:42:46,697 - INFO - Added ticker HDFCBANK.NS to watchlist via bulk upload
2025-07-28 13:42:46,697 - INFO - Added ticker INFY.NS to watchlist via bulk upload
2025-07-28 13:42:46,697 - INFO - Added ticker ICICIBANK.NS to watchlist via bulk upload
2025-07-28 13:42:46,697 - INFO - Added ticker KOTAKBANK.NS to watchlist via bulk upload
2025-07-28 13:42:46,697 - INFO - Added ticker BHARTIARTL.NS to watchlist via bulk upload
2025-07-28 13:42:46,697 - INFO - Added ticker ITC.NS to watchlist via bulk upload
2025-07-28 13:42:46,697 - INFO - Added ticker SBIN.NS to watchlist via bulk upload
2025-07-28 13:42:46,697 - INFO - Added ticker HINDUNILVR.NS to watchlist via bulk upload
2025-07-28 13:42:46,698 - INFO - Added ticker BAJFINANCE.NS to watchlist via bulk upload
2025-07-28 13:42:46,698 - INFO - Added ticker ASIANPAINT.NS to watchlist via bulk upload
2025-07-28 13:42:46,698 - INFO - Added ticker MARUTI.NS to watchlist via bulk upload
2025-07-28 13:42:46,698 - INFO - Added ticker AXISBANK.NS to watchlist via bulk upload
2025-07-28 13:42:46,698 - INFO - Added ticker LT.NS to watchlist via bulk upload
2025-07-28 13:42:46,698 - INFO - Added ticker HCLTECH.NS to watchlist via bulk upload
2025-07-28 13:42:46,698 - INFO - Added ticker WIPRO.NS to watchlist via bulk upload
2025-07-28 13:42:46,698 - INFO - Added ticker ULTRACEMCO.NS to watchlist via bulk upload
2025-07-28 13:42:46,699 - INFO - Added ticker TITAN.NS to watchlist via bulk upload
2025-07-28 13:42:46,699 - INFO - Added ticker NESTLEIND.NS to watchlist via bulk upload
2025-07-28 13:42:46,699 - INFO - Added ticker ADANIPORTS.NS to watchlist via bulk upload
2025-07-28 13:42:46,699 - INFO - Added ticker TATASTEEL.NS to watchlist via bulk upload
2025-07-28 13:42:46,699 - INFO - Added ticker HINDALCO.NS to watchlist via bulk upload
2025-07-28 13:42:46,699 - INFO - Added ticker JSWSTEEL.NS to watchlist via bulk upload
2025-07-28 13:42:46,699 - INFO - Added ticker BAJAJ-AUTO.NS to watchlist via bulk upload
2025-07-28 13:42:46,699 - INFO - Added ticker M&M.NS to watchlist via bulk upload
2025-07-28 13:42:46,700 - INFO - Added ticker TATAMOTORS.NS to watchlist via bulk upload
2025-07-28 13:42:46,700 - INFO - Added ticker EICHERMOT.NS to watchlist via bulk upload
2025-07-28 13:42:46,700 - INFO - Added ticker HEROMOTOCO.NS to watchlist via bulk upload
2025-07-28 13:42:46,700 - INFO - Added ticker SUNPHARMA.NS to watchlist via bulk upload
2025-07-28 13:42:46,700 - INFO - Added ticker DRREDDY.NS to watchlist via bulk upload
2025-07-28 13:42:46,700 - INFO - Added ticker CIPLA.NS to watchlist via bulk upload
2025-07-28 13:42:46,700 - INFO - Added ticker DIVISLAB.NS to watchlist via bulk upload
2025-07-28 13:42:46,700 - INFO - Added ticker BIOCON.NS to watchlist via bulk upload
2025-07-28 13:42:46,701 - INFO - Added ticker LUPIN.NS to watchlist via bulk upload
2025-07-28 13:42:46,701 - INFO - Added ticker ONGC.NS to watchlist via bulk upload
2025-07-28 13:42:46,701 - INFO - Added ticker BPCL.NS to watchlist via bulk upload
2025-07-28 13:42:46,701 - INFO - Added ticker IOC.NS to watchlist via bulk upload
2025-07-28 13:42:46,701 - INFO - Added ticker COALINDIA.NS to watchlist via bulk upload
2025-07-28 13:42:46,701 - INFO - Added ticker NTPC.NS to watchlist via bulk upload
2025-07-28 13:42:46,701 - INFO - Added ticker POWERGRID.NS to watchlist via bulk upload
2025-07-28 13:42:46,702 - INFO - Added ticker APOLLOHOSP.NS to watchlist via bulk upload
2025-07-28 13:42:46,702 - INFO - Added ticker PIDILITIND.NS to watchlist via bulk upload
2025-07-28 13:42:46,702 - INFO - Added ticker BERGEPAINT.NS to watchlist via bulk upload
2025-07-28 13:42:46,702 - INFO - Added ticker HAVELLS.NS to watchlist via bulk upload
2025-07-28 13:42:46,702 - INFO - Added ticker BRITANNIA.NS to watchlist via bulk upload
2025-07-28 13:42:46,702 - INFO - Added ticker DABUR.NS to watchlist via bulk upload
2025-07-28 13:42:46,702 - INFO - Added ticker MARICO.NS to watchlist via bulk upload
2025-07-28 13:42:46,702 - INFO - Added ticker GODREJCP.NS to watchlist via bulk upload
2025-07-28 13:42:46,703 - INFO - Added ticker GRASIM.NS to watchlist via bulk upload
2025-07-28 13:42:46,703 - INFO - Updated data feed with 50 new tickers
2025-07-28 13:42:53,198 - INFO - Starting Indian Stock Trading Bot...
2025-07-28 13:42:53,198 - INFO - Trading Mode: PAPER
2025-07-28 13:42:53,199 - INFO - Starting Balance: Rs.10,000.00
2025-07-28 13:42:53,199 - INFO - Watchlist: RELIANCE.NS, TCS.NS, HDFCBANK.NS, INFY.NS, ICICIBANK.NS, KOTAKBANK.NS, BHARTIARTL.NS, ITC.NS, SBIN.NS, HINDUNILVR.NS, BAJFINANCE.NS, ASIANPAINT.NS, MARUTI.NS, AXISBANK.NS, LT.NS, HCLTECH.NS, WIPRO.NS, ULTRACEMCO.NS, TITAN.NS, NESTLEIND.NS, ADANIPORTS.NS, TATASTEEL.NS, HINDALCO.NS, JSWSTEEL.NS, BAJAJ-AUTO.NS, M&M.NS, TATAMOTORS.NS, EICHERMOT.NS, HEROMOTOCO.NS, SUNPHARMA.NS, DRREDDY.NS, CIPLA.NS, DIVISLAB.NS, BIOCON.NS, LUPIN.NS, ONGC.NS, BPCL.NS, IOC.NS, COALINDIA.NS, NTPC.NS, POWERGRID.NS, APOLLOHOSP.NS, PIDILITIND.NS, BERGEPAINT.NS, HAVELLS.NS, BRITANNIA.NS, DABUR.NS, MARICO.NS, GODREJCP.NS, GRASIM.NS
2025-07-28 13:42:53,199 - INFO - ============================================================
2025-07-28 13:42:53,200 - INFO - Starting Stock Trading Bot for Indian market...
2025-07-28 13:42:53,200 - INFO - Web Trading Bot started successfully
2025-07-28 13:42:53,201 - INFO - Logging portfolio metrics at start of trading cycle...
2025-07-28 13:42:53,354 - INFO - Fetched price for HDFCBANK.NS: Rs.2007.00
2025-07-28 13:42:53,397 - INFO - Fetched price for SUZLON.NS: Rs.61.20
2025-07-28 13:42:53,397 - INFO - Portfolio Metrics:
2025-07-28 13:42:53,398 - INFO - Cash: Rs.6003.09
2025-07-28 13:42:53,398 - INFO - Holdings: {'HDFCBANK.NS': {'qty': 1, 'avg_price': 2015.7}, 'SUZLON.NS': {'qty': 31, 'avg_price': 63.91}}
2025-07-28 13:42:53,398 - INFO - Total Value: Rs.9907.29
2025-07-28 13:42:53,398 - INFO - Current Portfolio Value (Dhan): Rs.10000.00
2025-07-28 13:42:53,398 - INFO - Current PnL (Dhan): Rs.0.00
2025-07-28 13:42:53,398 - INFO - Realized PnL: Rs.0.00
2025-07-28 13:42:53,399 - INFO - Unrealized PnL: Rs.-92.71
2025-07-28 13:42:53,399 - INFO - Total Exposure: Rs.3904.20
2025-07-28 13:42:53,399 - INFO - Processing RELIANCE.NS...
2025-07-28 13:42:53,399 - INFO - Fetching and analyzing data for RELIANCE.NS...
2025-07-28 13:42:54,470 - INFO - Stopping Trading Bot...
2025-07-28 13:42:54,470 - INFO - Waiting for trading thread to finish...
2025-07-28 13:42:55,176 - INFO - Fetching sentiment for RELIANCE.NS...
2025-07-28 13:42:55,176 - INFO - Starting multi-level NewsAPI search for RELIANCE.NS
2025-07-28 13:42:55,176 - INFO - Trying search level 1: Full company names
2025-07-28 13:42:58,317 - INFO - Found 5921 articles for query: "Reliance Industries" OR "RIL" OR "Reliance"...
2025-07-28 13:42:58,321 - INFO - Success at level 1: Found meaningful results
2025-07-28 13:42:58,322 - INFO - Starting multi-level GNews search for RELIANCE.NS
2025-07-28 13:42:58,322 - INFO - Trying search level 1: Full company names
2025-07-28 13:42:59,544 - INFO - Found 10 articles for query: "Reliance Industries" OR "RIL" OR "Reliance"...
2025-07-28 13:42:59,549 - INFO - Success at level 1: Found meaningful results
2025-07-28 13:42:59,549 - INFO - Google News search query for RELIANCE.NS: "Reliance Industries" OR "RIL" OR "Reliance"
2025-07-28 13:43:04,475 - WARNING - Trading thread did not stop within timeout, forcing stop...
2025-07-28 13:43:04,476 - INFO - Web Trading Bot stopped successfully
2025-07-28 13:43:06,609 - INFO - Trading bot is already stopped
2025-07-28 13:44:10,038 - INFO - Found 100 Google News articles for RELIANCE.NS
2025-07-28 13:44:10,039 - INFO - Fetching institutional investments data for RELIANCE.NS...
2025-07-28 13:44:10,805 - INFO - Fetching extended data for RELIANCE.NS for ML analysis...
2025-07-28 13:44:11,010 - INFO - Generating adversarial financial data for RELIANCE.NS...
2025-07-28 13:44:12,548 - INFO - Engineering features for ML pattern recognition...
2025-07-28 13:44:12,709 - INFO - Preparing data for ML prediction...
2025-07-28 13:44:12,711 - INFO - Checking feature matrix for invalid values...
2025-07-28 13:44:12,717 - INFO - Training ML models for RELIANCE.NS...
2025-07-28 13:44:31,811 - INFO - Performing adversarial training for RELIANCE.NS...
2025-07-28 13:44:31,811 - INFO - Cleaning input data...
2025-07-28 13:44:31,812 - INFO - Converting data to tensors...
2025-07-28 13:44:31,814 - INFO - Generating training sequences...
2025-07-28 13:44:31,814 - INFO - Creating sequences with length 20...
2025-07-28 13:44:31,838 - INFO - Generating test sequences...
2025-07-28 13:44:31,838 - INFO - Creating sequences with length 20...
2025-07-28 13:44:31,845 - INFO - Initializing LSTM and Transformer models...
2025-07-28 13:44:33,680 - INFO - Starting adversarial training for LSTM and Transformer...
2025-07-28 13:44:55,585 - INFO - Epoch [10/50], LSTM Loss: 0.0177, Transformer Loss: 0.0302
2025-07-28 13:45:17,625 - INFO - Epoch [20/50], LSTM Loss: 0.0144, Transformer Loss: 0.0234
2025-07-28 13:45:39,443 - INFO - Epoch [30/50], LSTM Loss: 0.0087, Transformer Loss: 0.0206
2025-07-28 13:46:00,753 - INFO - Epoch [40/50], LSTM Loss: 0.0063, Transformer Loss: 0.0153
2025-07-28 13:46:22,641 - INFO - Epoch [50/50], LSTM Loss: 0.0051, Transformer Loss: 0.0153
2025-07-28 13:46:22,642 - INFO - Evaluating models...
2025-07-28 13:46:22,684 - INFO - Evaluating adversarial robustness...
2025-07-28 13:46:22,890 - INFO - Performing RL training with adversarial events for RELIANCE.NS...
2025-07-28 13:46:22,896 - INFO - Training adversarial RL agent...
2025-07-28 13:46:23,717 - INFO - Adversarial Episode 10/100, Total Reward: 1496832.34, Events: 142
2025-07-28 13:46:24,484 - INFO - Adversarial Episode 20/100, Total Reward: 10760854.19, Events: 151
2025-07-28 13:46:25,325 - INFO - Adversarial Episode 30/100, Total Reward: -5000043.95, Events: 175
2025-07-28 13:46:26,032 - INFO - Adversarial Episode 40/100, Total Reward: -3404731.99, Events: 136
2025-07-28 13:46:26,762 - INFO - Adversarial Episode 50/100, Total Reward: -2522207.83, Events: 144
2025-07-28 13:46:27,506 - INFO - Adversarial Episode 60/100, Total Reward: -1593070.24, Events: 154
2025-07-28 13:46:28,453 - INFO - Adversarial Episode 70/100, Total Reward: 3077722.90, Events: 142
2025-07-28 13:46:29,173 - INFO - Adversarial Episode 80/100, Total Reward: -2587199.51, Events: 124
2025-07-28 13:46:29,917 - INFO - Adversarial Episode 90/100, Total Reward: 3843000.48, Events: 142
2025-07-28 13:46:30,652 - INFO - Adversarial Episode 100/100, Total Reward: -3252598.94, Events: 165
2025-07-28 13:46:30,765 - INFO - Saved full analysis to stock_analysis\RELIANCE_NS_analysis_20250728_134630.json
2025-07-28 13:46:30,766 - INFO - Saved summary to stock_analysis\RELIANCE_NS_summary_20250728_134630.csv
2025-07-28 13:46:30,766 - INFO - Appended ML, RL, and Stock Analysis Report to stock_analysis\ml_logs.txt
2025-07-28 13:46:30,767 - INFO - Saved analysis files: {'success': True, 'json_file': 'stock_analysis\\RELIANCE_NS_analysis_20250728_134630.json', 'csv_file': 'stock_analysis\\RELIANCE_NS_summary_20250728_134630.csv', 'log_file': 'stock_analysis\\ml_logs.txt'}
2025-07-28 13:46:31,022 - INFO - Fetched price for HDFCBANK.NS: Rs.2006.60
2025-07-28 13:46:31,130 - INFO - Fetched price for SUZLON.NS: Rs.61.22
2025-07-28 13:46:31,363 - INFO - Fetched price for HDFCBANK.NS: Rs.2006.60
2025-07-28 13:46:31,408 - INFO - Fetched price for SUZLON.NS: Rs.61.22
2025-07-28 13:46:31,458 - INFO - Fetched price for HDFCBANK.NS: Rs.2006.60
2025-07-28 13:46:31,503 - INFO - Fetched price for SUZLON.NS: Rs.61.22
2025-07-28 13:46:31,549 - INFO - Fetched price for HDFCBANK.NS: Rs.2006.60
2025-07-28 13:46:31,593 - INFO - Fetched price for SUZLON.NS: Rs.61.22
2025-07-28 13:46:31,596 - INFO - HOLD RELIANCE.NS: Neutral market conditions, Price Rs.1392.70 within Support Rs.1258.72 and Resistance Rs.1528.40, Buy Score=0.10, Sell Score=0.32
2025-07-28 13:46:31,597 - INFO - Trade executed: {'action': 'hold', 'ticker': 'RELIANCE.NS', 'qty': 0, 'price': 1392.7, 'stop_loss': 1220.958589512329, 'take_profit': 1574.2487103369142, 'success': True, 'confidence_score': 0.32000000000000006, 'signals': 1, 'reason': 'neutral_conditions'}
2025-07-28 13:46:31,597 - INFO - Bot stop signal received, stopping ticker processing...
2025-07-28 13:46:31,597 - INFO - Bot stop signal received, skipping report generation...
2025-07-28 13:46:31,597 - INFO - Stock Trading Bot stopped successfully
2025-07-28 13:50:48,894 - INFO - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-28 13:50:48,895 - INFO - Loaded 2 trades from trade log
2025-07-28 13:50:48,910 - INFO - Loaded 78 stocks from cache
2025-07-28 13:50:48,910 - INFO - Dynamic ticker mapper initialized
2025-07-28 13:50:48,912 - INFO - Llama LLM initialized successfully with Ollama
2025-07-28 13:50:48,913 - INFO - Initializing Stock Trading Bot for Indian market...
2025-07-28 13:50:48,913 - INFO - Trading bot initialized successfully
2025-07-28 13:50:48,913 - INFO - Starting FastAPI web server on http://127.0.0.1:5000
2025-07-28 13:50:48,913 - INFO - Web interface will be available at the above URL
2025-07-28 13:50:48,913 - INFO - API documentation available at http://{host}:{port}/docs
2025-07-28 13:50:48,948 - INFO - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-28 13:50:48,949 - INFO - Loaded 2 trades from trade log
2025-07-28 13:50:48,957 - INFO - Loaded 78 stocks from cache
2025-07-28 13:50:48,957 - INFO - Dynamic ticker mapper initialized
2025-07-28 13:50:48,958 - INFO - Llama LLM initialized successfully with Ollama
2025-07-28 13:50:48,958 - INFO - Initializing Stock Trading Bot for Indian market...
2025-07-28 13:50:48,958 - INFO - Trading bot initialized successfully
2025-07-28 13:50:48,958 - INFO - Trading bot initialized on startup
2025-07-28 14:03:37,401 - INFO - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-28 14:03:37,402 - INFO - Loaded 2 trades from trade log
2025-07-28 14:03:37,418 - INFO - Loaded 78 stocks from cache
2025-07-28 14:03:37,418 - INFO - Dynamic ticker mapper initialized
2025-07-28 14:03:37,420 - INFO - Llama LLM initialized successfully with Ollama
2025-07-28 14:03:37,421 - INFO - Initializing Stock Trading Bot for Indian market...
2025-07-28 14:03:37,421 - INFO - Trading bot initialized successfully
2025-07-28 14:03:37,421 - INFO - Starting FastAPI web server on http://127.0.0.1:5000
2025-07-28 14:03:37,421 - INFO - Web interface will be available at the above URL
2025-07-28 14:03:37,421 - INFO - API documentation available at http://{host}:{port}/docs
2025-07-28 14:03:37,453 - INFO - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-28 14:03:37,454 - INFO - Loaded 2 trades from trade log
2025-07-28 14:03:37,463 - INFO - Loaded 78 stocks from cache
2025-07-28 14:03:37,463 - INFO - Dynamic ticker mapper initialized
2025-07-28 14:03:37,464 - INFO - Llama LLM initialized successfully with Ollama
2025-07-28 14:03:37,464 - INFO - Initializing Stock Trading Bot for Indian market...
2025-07-28 14:03:37,464 - INFO - Trading bot initialized successfully
2025-07-28 14:03:37,464 - INFO - Trading bot initialized on startup
2025-07-28 14:12:56,490 - INFO - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-28 14:12:56,490 - INFO - Loaded 2 trades from trade log
2025-07-28 14:12:56,503 - INFO - Loaded 78 stocks from cache
2025-07-28 14:12:56,503 - INFO - Dynamic ticker mapper initialized
2025-07-28 14:12:56,505 - INFO - Llama LLM initialized successfully with Ollama
2025-07-28 14:12:56,506 - INFO - Initializing Stock Trading Bot for Indian market...
2025-07-28 14:12:56,506 - INFO - Trading bot initialized successfully
2025-07-28 14:12:56,506 - INFO - Starting FastAPI web server on http://127.0.0.1:5000
2025-07-28 14:12:56,506 - INFO - Web interface will be available at the above URL
2025-07-28 14:12:56,506 - INFO - API documentation available at http://{host}:{port}/docs
2025-07-28 14:12:56,540 - INFO - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-28 14:12:56,540 - INFO - Loaded 2 trades from trade log
2025-07-28 14:12:56,554 - INFO - Loaded 78 stocks from cache
2025-07-28 14:12:56,554 - INFO - Dynamic ticker mapper initialized
2025-07-28 14:12:56,555 - INFO - Llama LLM initialized successfully with Ollama
2025-07-28 14:12:56,555 - INFO - Initializing Stock Trading Bot for Indian market...
2025-07-28 14:12:56,556 - INFO - Trading bot initialized successfully
2025-07-28 14:12:56,556 - INFO - Trading bot initialized on startup
2025-07-28 14:49:43,874 - INFO - Starting Indian Stock Trading Bot...
2025-07-28 14:49:43,875 - INFO - Trading Mode: PAPER
2025-07-28 14:49:43,875 - INFO - Starting Balance: Rs.10,000.00
2025-07-28 14:49:43,875 - INFO - Watchlist: 
2025-07-28 14:49:43,875 - INFO - ============================================================
2025-07-28 14:49:43,876 - INFO - Starting Stock Trading Bot for Indian market...
2025-07-28 14:49:43,876 - INFO - Web Trading Bot started successfully
2025-07-28 14:49:43,876 - INFO - Logging portfolio metrics at start of trading cycle...
2025-07-28 14:49:44,381 - INFO - Trading bot is already running
2025-07-28 14:49:44,885 - INFO - Trading bot is already running
2025-07-28 14:49:45,020 - INFO - Fetched price for HDFCBANK.NS: Rs.2008.20
2025-07-28 14:49:45,306 - INFO - Fetched price for SUZLON.NS: Rs.60.84
2025-07-28 14:49:45,306 - INFO - Portfolio Metrics:
2025-07-28 14:49:45,306 - INFO - Cash: Rs.6003.09
2025-07-28 14:49:45,306 - INFO - Holdings: {'HDFCBANK.NS': {'qty': 1, 'avg_price': 2015.7}, 'SUZLON.NS': {'qty': 31, 'avg_price': 63.91}}
2025-07-28 14:49:45,307 - INFO - Total Value: Rs.9897.33
2025-07-28 14:49:45,307 - INFO - Current Portfolio Value (Dhan): Rs.10000.00
2025-07-28 14:49:45,307 - INFO - Current PnL (Dhan): Rs.0.00
2025-07-28 14:49:45,307 - INFO - Realized PnL: Rs.0.00
2025-07-28 14:49:45,307 - INFO - Unrealized PnL: Rs.-102.67
2025-07-28 14:49:45,307 - INFO - Total Exposure: Rs.3894.24
2025-07-28 14:49:45,390 - INFO - Trading bot is already running
2025-07-28 14:49:45,569 - INFO - Fetched price for HDFCBANK.NS: Rs.2008.20
2025-07-28 14:49:45,830 - INFO - Fetched price for SUZLON.NS: Rs.60.84
2025-07-28 14:49:45,831 - INFO - Saved report to reports\report_20250728.json
2025-07-28 14:49:45,831 - INFO - Daily Report: {'date': '2025-07-28', 'roi_today': np.float64(-1.0267004409790004), 'cumulative_roi': np.float64(-1.0267004409790004), 'sharpe': 0, 'drawdown': np.float64(1.0267004409790024), 'trades_executed': 2}
2025-07-28 14:49:45,831 - INFO - Logging portfolio metrics at end of trading cycle...
2025-07-28 14:49:46,092 - INFO - Fetched price for HDFCBANK.NS: Rs.2008.20
2025-07-28 14:49:46,354 - INFO - Fetched price for SUZLON.NS: Rs.60.84
2025-07-28 14:49:46,354 - INFO - Portfolio Metrics:
2025-07-28 14:49:46,354 - INFO - Cash: Rs.6003.09
2025-07-28 14:49:46,354 - INFO - Holdings: {'HDFCBANK.NS': {'qty': 1, 'avg_price': 2015.7}, 'SUZLON.NS': {'qty': 31, 'avg_price': 63.91}}
2025-07-28 14:49:46,355 - INFO - Total Value: Rs.9897.33
2025-07-28 14:49:46,355 - INFO - Current Portfolio Value (Dhan): Rs.10000.00
2025-07-28 14:49:46,355 - INFO - Current PnL (Dhan): Rs.0.00
2025-07-28 14:49:46,355 - INFO - Realized PnL: Rs.0.00
2025-07-28 14:49:46,355 - INFO - Unrealized PnL: Rs.-102.67
2025-07-28 14:49:46,355 - INFO - Total Exposure: Rs.3894.24
2025-07-28 14:49:46,615 - INFO - Fetched price for HDFCBANK.NS: Rs.2008.20
2025-07-28 14:49:46,878 - INFO - Fetched price for SUZLON.NS: Rs.60.84
2025-07-28 14:49:46,879 - INFO - Paper trading P&L summary generated
2025-07-28 14:50:16,880 - INFO - Logging portfolio metrics at start of trading cycle...
2025-07-28 14:50:17,200 - INFO - Fetched price for HDFCBANK.NS: Rs.2009.10
2025-07-28 14:50:17,482 - INFO - Fetched price for SUZLON.NS: Rs.60.87
2025-07-28 14:50:17,483 - INFO - Portfolio Metrics:
2025-07-28 14:50:17,483 - INFO - Cash: Rs.6003.09
2025-07-28 14:50:17,483 - INFO - Holdings: {'HDFCBANK.NS': {'qty': 1, 'avg_price': 2015.7}, 'SUZLON.NS': {'qty': 31, 'avg_price': 63.91}}
2025-07-28 14:50:17,483 - INFO - Total Value: Rs.9899.16
2025-07-28 14:50:17,483 - INFO - Current Portfolio Value (Dhan): Rs.10000.00
2025-07-28 14:50:17,483 - INFO - Current PnL (Dhan): Rs.0.00
2025-07-28 14:50:17,483 - INFO - Realized PnL: Rs.0.00
2025-07-28 14:50:17,484 - INFO - Unrealized PnL: Rs.-100.84
2025-07-28 14:50:17,484 - INFO - Total Exposure: Rs.3896.07
2025-07-28 14:50:17,744 - INFO - Fetched price for HDFCBANK.NS: Rs.2009.10
2025-07-28 14:50:18,005 - INFO - Fetched price for SUZLON.NS: Rs.60.87
2025-07-28 14:50:18,006 - INFO - Saved report to reports\report_20250728.json
2025-07-28 14:50:18,006 - INFO - Daily Report: {'date': '2025-07-28', 'roi_today': np.float64(-1.0084005752563407), 'cumulative_roi': np.float64(-1.0084005752563407), 'sharpe': 0, 'drawdown': np.float64(1.008400575256346), 'trades_executed': 2}
2025-07-28 14:50:18,007 - INFO - Logging portfolio metrics at end of trading cycle...
2025-07-28 14:50:18,267 - INFO - Fetched price for HDFCBANK.NS: Rs.2009.10
2025-07-28 14:50:18,528 - INFO - Fetched price for SUZLON.NS: Rs.60.87
2025-07-28 14:50:18,528 - INFO - Portfolio Metrics:
2025-07-28 14:50:18,528 - INFO - Cash: Rs.6003.09
2025-07-28 14:50:18,528 - INFO - Holdings: {'HDFCBANK.NS': {'qty': 1, 'avg_price': 2015.7}, 'SUZLON.NS': {'qty': 31, 'avg_price': 63.91}}
2025-07-28 14:50:18,529 - INFO - Total Value: Rs.9899.16
2025-07-28 14:50:18,529 - INFO - Current Portfolio Value (Dhan): Rs.10000.00
2025-07-28 14:50:18,529 - INFO - Current PnL (Dhan): Rs.0.00
2025-07-28 14:50:18,529 - INFO - Realized PnL: Rs.0.00
2025-07-28 14:50:18,529 - INFO - Unrealized PnL: Rs.-100.84
2025-07-28 14:50:18,529 - INFO - Total Exposure: Rs.3896.07
2025-07-28 14:50:18,792 - INFO - Fetched price for HDFCBANK.NS: Rs.2009.10
2025-07-28 14:50:19,052 - INFO - Fetched price for SUZLON.NS: Rs.60.87
2025-07-28 14:50:19,053 - INFO - Paper trading P&L summary generated
2025-07-28 14:50:49,054 - INFO - Logging portfolio metrics at start of trading cycle...
2025-07-28 14:50:49,356 - INFO - Fetched price for HDFCBANK.NS: Rs.2008.70
2025-07-28 14:51:02,521 - INFO - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-28 14:51:02,522 - INFO - Loaded 2 trades from trade log
2025-07-28 14:51:02,571 - INFO - Loaded 78 stocks from cache
2025-07-28 14:51:02,571 - INFO - Dynamic ticker mapper initialized
2025-07-28 14:51:02,576 - INFO - Llama LLM initialized successfully with Ollama
2025-07-28 14:51:02,576 - INFO - Initializing Stock Trading Bot for Indian market...
2025-07-28 14:51:02,576 - INFO - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-28 14:51:02,576 - INFO - Trading bot initialized successfully
2025-07-28 14:51:02,576 - INFO - Starting FastAPI web server on http://127.0.0.1:5000
2025-07-28 14:51:02,577 - INFO - Web interface will be available at the above URL
2025-07-28 14:51:02,577 - INFO - API documentation available at http://{host}:{port}/docs
2025-07-28 14:51:02,740 - INFO - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-28 14:51:02,741 - INFO - Loaded 2 trades from trade log
2025-07-28 14:51:02,756 - INFO - Loaded 78 stocks from cache
2025-07-28 14:51:02,756 - INFO - Dynamic ticker mapper initialized
2025-07-28 14:51:02,757 - INFO - Llama LLM initialized successfully with Ollama
2025-07-28 14:51:02,757 - INFO - Initializing Stock Trading Bot for Indian market...
2025-07-28 14:51:02,757 - INFO - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-28 14:51:02,758 - INFO - Trading bot initialized successfully
2025-07-28 14:51:02,758 - INFO - Trading bot initialized on startup
2025-07-28 14:51:14,344 - WARNING - Error fetching current prices: Too Many Requests. Rate limited. Try after a while.
2025-07-28 14:52:12,039 - WARNING - Error fetching current prices: Too Many Requests. Rate limited. Try after a while.
2025-07-28 14:53:14,630 - WARNING - Error fetching current prices: Too Many Requests. Rate limited. Try after a while.
2025-07-28 14:53:45,754 - INFO - Applied LOW risk settings: Stop Loss=3.0%, Max Allocation=15.0%
2025-07-28 14:53:45,755 - INFO - Settings updated: Risk Level=LOW, Stop Loss=3.0%, Max Allocation=15.0%
2025-07-28 14:53:46,260 - INFO - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-28 14:53:46,260 - INFO - Settings updated: Risk Level=MEDIUM, Stop Loss=5.0%, Max Allocation=25.0%
2025-07-28 14:53:46,764 - INFO - Applied HIGH risk settings: Stop Loss=8.0%, Max Allocation=35.0%
2025-07-28 14:53:46,765 - INFO - Settings updated: Risk Level=HIGH, Stop Loss=8.0%, Max Allocation=35.0%
2025-07-28 14:53:47,269 - INFO - Applied CUSTOM risk settings: Stop Loss=12.0%, Max Allocation=40.0%
2025-07-28 14:53:47,269 - INFO - Settings updated: Risk Level=CUSTOM, Stop Loss=12.0%, Max Allocation=40.0%
2025-07-28 14:53:47,774 - INFO - Applied LOW risk settings: Stop Loss=3.0%, Max Allocation=15.0%
2025-07-28 14:53:47,774 - INFO - Settings updated: Risk Level=LOW, Stop Loss=3.0%, Max Allocation=15.0%
2025-07-28 14:53:48,276 - INFO - Applied LOW risk settings: Stop Loss=3.0%, Max Allocation=15.0%
2025-07-28 14:53:48,276 - INFO - Starting Indian Stock Trading Bot...
2025-07-28 14:53:48,277 - INFO - Trading Mode: PAPER
2025-07-28 14:53:48,277 - INFO - Starting Balance: Rs.10,000.00
2025-07-28 14:53:48,277 - INFO - Watchlist: 
2025-07-28 14:53:48,277 - INFO - ============================================================
2025-07-28 14:53:48,278 - INFO - Starting Stock Trading Bot for Indian market...
2025-07-28 14:53:48,278 - INFO - Web Trading Bot started successfully
2025-07-28 14:53:48,278 - INFO - Logging portfolio metrics at start of trading cycle...
2025-07-28 14:53:48,278 - INFO - Trading bot started with LOW risk level
2025-07-28 14:53:49,281 - INFO - Stopping Trading Bot...
2025-07-28 14:53:49,281 - INFO - Waiting for trading thread to finish...
2025-07-28 14:53:49,840 - ERROR - Error fetching price for HDFCBANK.NS: Too Many Requests. Rate limited. Try after a while.
2025-07-28 14:53:51,406 - ERROR - Error fetching price for SUZLON.NS: Too Many Requests. Rate limited. Try after a while.
2025-07-28 14:53:51,406 - INFO - Portfolio Metrics:
2025-07-28 14:53:51,406 - INFO - Cash: Rs.6003.09
2025-07-28 14:53:51,406 - INFO - Holdings: {'HDFCBANK.NS': {'qty': 1, 'avg_price': 2015.7}, 'SUZLON.NS': {'qty': 31, 'avg_price': 63.91}}
2025-07-28 14:53:51,406 - INFO - Total Value: Rs.6003.09
2025-07-28 14:53:51,407 - INFO - Current Portfolio Value (Dhan): Rs.10000.00
2025-07-28 14:53:51,407 - INFO - Current PnL (Dhan): Rs.0.00
2025-07-28 14:53:51,407 - INFO - Realized PnL: Rs.0.00
2025-07-28 14:53:51,407 - INFO - Unrealized PnL: Rs.-3996.91
2025-07-28 14:53:51,407 - INFO - Total Exposure: Rs.0.00
2025-07-28 14:53:51,407 - INFO - Bot stop signal received, skipping report generation...
2025-07-28 14:53:51,407 - INFO - Stock Trading Bot stopped successfully
2025-07-28 14:53:51,411 - INFO - Trading thread stopped successfully
2025-07-28 14:53:51,411 - INFO - Web Trading Bot stopped successfully
2025-07-28 14:53:51,414 - INFO - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-28 14:53:51,414 - INFO - Settings updated: Risk Level=MEDIUM, Stop Loss=5.0%, Max Allocation=25.0%
2025-07-28 14:53:51,916 - INFO - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-28 14:53:51,916 - INFO - Starting Indian Stock Trading Bot...
2025-07-28 14:53:51,917 - INFO - Trading Mode: PAPER
2025-07-28 14:53:51,917 - INFO - Starting Balance: Rs.10,000.00
2025-07-28 14:53:51,917 - INFO - Watchlist: 
2025-07-28 14:53:51,917 - INFO - ============================================================
2025-07-28 14:53:51,918 - INFO - Starting Stock Trading Bot for Indian market...
2025-07-28 14:53:51,918 - INFO - Web Trading Bot started successfully
2025-07-28 14:53:51,918 - INFO - Logging portfolio metrics at start of trading cycle...
2025-07-28 14:53:51,918 - INFO - Trading bot started with MEDIUM risk level
2025-07-28 14:53:52,922 - INFO - Stopping Trading Bot...
2025-07-28 14:53:52,922 - INFO - Waiting for trading thread to finish...
2025-07-28 14:53:53,581 - ERROR - Error fetching price for HDFCBANK.NS: Too Many Requests. Rate limited. Try after a while.
2025-07-28 14:53:55,139 - ERROR - Error fetching price for SUZLON.NS: Too Many Requests. Rate limited. Try after a while.
2025-07-28 14:53:55,140 - INFO - Portfolio Metrics:
2025-07-28 14:53:55,140 - INFO - Cash: Rs.6003.09
2025-07-28 14:53:55,140 - INFO - Holdings: {'HDFCBANK.NS': {'qty': 1, 'avg_price': 2015.7}, 'SUZLON.NS': {'qty': 31, 'avg_price': 63.91}}
2025-07-28 14:53:55,140 - INFO - Total Value: Rs.6003.09
2025-07-28 14:53:55,140 - INFO - Current Portfolio Value (Dhan): Rs.10000.00
2025-07-28 14:53:55,141 - INFO - Current PnL (Dhan): Rs.0.00
2025-07-28 14:53:55,141 - INFO - Realized PnL: Rs.0.00
2025-07-28 14:53:55,141 - INFO - Unrealized PnL: Rs.-3996.91
2025-07-28 14:53:55,141 - INFO - Total Exposure: Rs.0.00
2025-07-28 14:53:55,141 - INFO - Bot stop signal received, skipping report generation...
2025-07-28 14:53:55,141 - INFO - Stock Trading Bot stopped successfully
2025-07-28 14:53:55,142 - INFO - Trading thread stopped successfully
2025-07-28 14:53:55,142 - INFO - Web Trading Bot stopped successfully
2025-07-28 14:53:55,144 - INFO - Applied HIGH risk settings: Stop Loss=8.0%, Max Allocation=35.0%
2025-07-28 14:53:55,144 - INFO - Settings updated: Risk Level=HIGH, Stop Loss=8.0%, Max Allocation=35.0%
2025-07-28 14:53:55,647 - INFO - Applied HIGH risk settings: Stop Loss=8.0%, Max Allocation=35.0%
2025-07-28 14:53:55,647 - INFO - Starting Indian Stock Trading Bot...
2025-07-28 14:53:55,647 - INFO - Trading Mode: PAPER
2025-07-28 14:53:55,647 - INFO - Starting Balance: Rs.10,000.00
2025-07-28 14:53:55,648 - INFO - Watchlist: 
2025-07-28 14:53:55,648 - INFO - ============================================================
2025-07-28 14:53:55,649 - INFO - Starting Stock Trading Bot for Indian market...
2025-07-28 14:53:55,649 - INFO - Web Trading Bot started successfully
2025-07-28 14:53:55,649 - INFO - Logging portfolio metrics at start of trading cycle...
2025-07-28 14:53:55,649 - INFO - Trading bot started with HIGH risk level
2025-07-28 14:53:56,652 - INFO - Stopping Trading Bot...
2025-07-28 14:53:56,652 - INFO - Waiting for trading thread to finish...
2025-07-28 14:53:56,993 - ERROR - Error fetching price for HDFCBANK.NS: Too Many Requests. Rate limited. Try after a while.
2025-07-28 14:53:58,269 - ERROR - Error fetching price for SUZLON.NS: Too Many Requests. Rate limited. Try after a while.
2025-07-28 14:53:58,269 - INFO - Portfolio Metrics:
2025-07-28 14:53:58,269 - INFO - Cash: Rs.6003.09
2025-07-28 14:53:58,270 - INFO - Holdings: {'HDFCBANK.NS': {'qty': 1, 'avg_price': 2015.7}, 'SUZLON.NS': {'qty': 31, 'avg_price': 63.91}}
2025-07-28 14:53:58,270 - INFO - Total Value: Rs.6003.09
2025-07-28 14:53:58,270 - INFO - Current Portfolio Value (Dhan): Rs.10000.00
2025-07-28 14:53:58,270 - INFO - Current PnL (Dhan): Rs.0.00
2025-07-28 14:53:58,270 - INFO - Realized PnL: Rs.0.00
2025-07-28 14:53:58,270 - INFO - Unrealized PnL: Rs.-3996.91
2025-07-28 14:53:58,271 - INFO - Total Exposure: Rs.0.00
2025-07-28 14:53:58,271 - INFO - Bot stop signal received, skipping report generation...
2025-07-28 14:53:58,271 - INFO - Stock Trading Bot stopped successfully
2025-07-28 14:53:58,271 - INFO - Trading thread stopped successfully
2025-07-28 14:53:58,272 - INFO - Web Trading Bot stopped successfully
2025-07-28 14:53:58,274 - INFO - Applied CUSTOM risk settings: Stop Loss=7.000000000000001%, Max Allocation=30.0%
2025-07-28 14:53:58,274 - INFO - Settings updated: Risk Level=CUSTOM, Stop Loss=7.000000000000001%, Max Allocation=30.0%
2025-07-28 14:53:58,777 - INFO - Applied CUSTOM risk settings: Stop Loss=7.000000000000001%, Max Allocation=30.0%
2025-07-28 14:53:58,777 - INFO - Starting Indian Stock Trading Bot...
2025-07-28 14:53:58,778 - INFO - Trading Mode: PAPER
2025-07-28 14:53:58,778 - INFO - Starting Balance: Rs.10,000.00
2025-07-28 14:53:58,778 - INFO - Watchlist: 
2025-07-28 14:53:58,778 - INFO - ============================================================
2025-07-28 14:53:58,779 - INFO - Starting Stock Trading Bot for Indian market...
2025-07-28 14:53:58,779 - INFO - Web Trading Bot started successfully
2025-07-28 14:53:58,779 - INFO - Logging portfolio metrics at start of trading cycle...
2025-07-28 14:53:58,779 - INFO - Trading bot started with CUSTOM risk level
2025-07-28 14:53:59,783 - INFO - Stopping Trading Bot...
2025-07-28 14:53:59,783 - INFO - Waiting for trading thread to finish...
2025-07-28 14:54:00,120 - ERROR - Error fetching price for HDFCBANK.NS: Too Many Requests. Rate limited. Try after a while.
2025-07-28 14:54:01,211 - ERROR - Error fetching price for SUZLON.NS: Too Many Requests. Rate limited. Try after a while.
2025-07-28 14:54:01,212 - INFO - Portfolio Metrics:
2025-07-28 14:54:01,212 - INFO - Cash: Rs.6003.09
2025-07-28 14:54:01,212 - INFO - Holdings: {'HDFCBANK.NS': {'qty': 1, 'avg_price': 2015.7}, 'SUZLON.NS': {'qty': 31, 'avg_price': 63.91}}
2025-07-28 14:54:01,212 - INFO - Total Value: Rs.6003.09
2025-07-28 14:54:01,212 - INFO - Current Portfolio Value (Dhan): Rs.10000.00
2025-07-28 14:54:01,212 - INFO - Current PnL (Dhan): Rs.0.00
2025-07-28 14:54:01,212 - INFO - Realized PnL: Rs.0.00
2025-07-28 14:54:01,213 - INFO - Unrealized PnL: Rs.-3996.91
2025-07-28 14:54:01,213 - INFO - Total Exposure: Rs.0.00
2025-07-28 14:54:01,213 - INFO - Bot stop signal received, skipping report generation...
2025-07-28 14:54:01,213 - INFO - Stock Trading Bot stopped successfully
2025-07-28 14:54:01,214 - INFO - Trading thread stopped successfully
2025-07-28 14:54:01,214 - INFO - Web Trading Bot stopped successfully
2025-07-28 14:54:18,673 - WARNING - Error fetching current prices: Too Many Requests. Rate limited. Try after a while.
2025-07-28 14:55:07,598 - WARNING - Error fetching current prices: Too Many Requests. Rate limited. Try after a while.
2025-07-28 14:55:09,252 - WARNING - Error fetching current prices: Too Many Requests. Rate limited. Try after a while.
2025-07-28 14:55:39,723 - WARNING - Error fetching current prices: Too Many Requests. Rate limited. Try after a while.
2025-07-28 14:56:09,262 - WARNING - Error fetching current prices: Too Many Requests. Rate limited. Try after a while.
2025-07-28 14:56:30,825 - INFO - Trading bot is already stopped
2025-07-28 14:56:30,826 - INFO - Trading bot stopped on shutdown
2025-07-28 14:56:30,827 - INFO - Web server stopped by user
2025-07-28 15:29:21,408 - INFO - Dual Portfolio Manager initialized with data directory: data
2025-07-28 15:29:21,409 - INFO - Already in paper mode
2025-07-28 15:29:21,410 - INFO - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-28 15:29:21,410 - INFO - Loaded 2 trades from trade log
2025-07-28 15:29:21,447 - INFO - Loaded 78 stocks from cache
2025-07-28 15:29:21,447 - INFO - Dynamic ticker mapper initialized
2025-07-28 15:29:21,450 - INFO - Llama LLM initialized successfully with Ollama
2025-07-28 15:29:21,450 - INFO - Initializing Stock Trading Bot for Indian market...
2025-07-28 15:29:21,450 - INFO - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-28 15:29:21,450 - INFO - Trading bot initialized successfully
2025-07-28 15:29:21,450 - INFO - Starting FastAPI web server on http://127.0.0.1:5000
2025-07-28 15:29:21,450 - INFO - Web interface will be available at the above URL
2025-07-28 15:29:21,451 - INFO - API documentation available at http://{host}:{port}/docs
2025-07-28 15:29:21,547 - INFO - Dual Portfolio Manager initialized with data directory: data
2025-07-28 15:29:21,548 - INFO - Already in paper mode
2025-07-28 15:29:21,549 - INFO - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-28 15:29:21,549 - INFO - Loaded 2 trades from trade log
2025-07-28 15:29:21,562 - INFO - Loaded 78 stocks from cache
2025-07-28 15:29:21,562 - INFO - Dynamic ticker mapper initialized
2025-07-28 15:29:21,563 - INFO - Llama LLM initialized successfully with Ollama
2025-07-28 15:29:21,563 - INFO - Initializing Stock Trading Bot for Indian market...
2025-07-28 15:29:21,563 - INFO - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-28 15:29:21,563 - INFO - Trading bot initialized successfully
2025-07-28 15:29:21,564 - INFO - Trading bot initialized on startup
2025-07-28 15:30:04,648 - INFO - Applied LOW risk settings: Stop Loss=3.0%, Max Allocation=15.0%
2025-07-28 15:30:04,648 - INFO - Settings updated: Mode=paper, Risk Level=LOW, Stop Loss=3.0%, Max Allocation=15.0%
2025-07-28 15:30:05,153 - INFO - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-28 15:30:05,153 - INFO - Settings updated: Mode=paper, Risk Level=MEDIUM, Stop Loss=5.0%, Max Allocation=25.0%
2025-07-28 15:30:05,658 - INFO - Applied HIGH risk settings: Stop Loss=8.0%, Max Allocation=35.0%
2025-07-28 15:30:05,658 - INFO - Settings updated: Mode=paper, Risk Level=HIGH, Stop Loss=8.0%, Max Allocation=35.0%
2025-07-28 15:30:06,162 - INFO - Applied CUSTOM risk settings: Stop Loss=12.0%, Max Allocation=40.0%
2025-07-28 15:30:06,162 - INFO - Settings updated: Mode=paper, Risk Level=CUSTOM, Stop Loss=12.0%, Max Allocation=40.0%
2025-07-28 15:30:06,667 - INFO - Applied LOW risk settings: Stop Loss=3.0%, Max Allocation=15.0%
2025-07-28 15:30:06,668 - INFO - Settings updated: Mode=paper, Risk Level=LOW, Stop Loss=3.0%, Max Allocation=15.0%
2025-07-28 15:30:07,170 - INFO - Applied LOW risk settings: Stop Loss=3.0%, Max Allocation=15.0%
2025-07-28 15:30:07,170 - INFO - Starting Indian Stock Trading Bot...
2025-07-28 15:30:07,171 - INFO - Trading Mode: PAPER
2025-07-28 15:30:07,171 - INFO - Starting Balance: Rs.10,000.00
2025-07-28 15:30:07,171 - INFO - Watchlist: 
2025-07-28 15:30:07,171 - INFO - ============================================================
2025-07-28 15:30:07,172 - INFO - Starting Stock Trading Bot for Indian market...
2025-07-28 15:30:07,172 - INFO - Web Trading Bot started successfully
2025-07-28 15:30:07,172 - INFO - Logging portfolio metrics at start of trading cycle...
2025-07-28 15:30:07,172 - INFO - Trading bot started with LOW risk level
2025-07-28 15:30:07,829 - INFO - Fetched price for HDFCBANK.NS: Rs.2009.90
2025-07-28 15:30:07,932 - INFO - Fetched price for SUZLON.NS: Rs.60.94
2025-07-28 15:30:07,932 - INFO - Portfolio Metrics:
2025-07-28 15:30:07,933 - INFO - Cash: Rs.6003.09
2025-07-28 15:30:07,933 - INFO - Holdings: {'HDFCBANK.NS': {'qty': 1, 'avg_price': 2015.7}, 'SUZLON.NS': {'qty': 31, 'avg_price': 63.91}}
2025-07-28 15:30:07,933 - INFO - Total Value: Rs.9902.13
2025-07-28 15:30:07,933 - INFO - Current Portfolio Value (Dhan): Rs.10000.00
2025-07-28 15:30:07,933 - INFO - Current PnL (Dhan): Rs.0.00
2025-07-28 15:30:07,933 - INFO - Realized PnL: Rs.0.00
2025-07-28 15:30:07,933 - INFO - Unrealized PnL: Rs.-97.87
2025-07-28 15:30:07,934 - INFO - Total Exposure: Rs.3899.04
2025-07-28 15:30:07,972 - INFO - Fetched price for HDFCBANK.NS: Rs.2009.90
2025-07-28 15:30:08,010 - INFO - Fetched price for SUZLON.NS: Rs.60.94
2025-07-28 15:30:08,012 - INFO - Saved report to reports\report_20250728.json
2025-07-28 15:30:08,012 - INFO - Daily Report: {'date': '2025-07-28', 'roi_today': np.float64(-0.9787001815795837), 'cumulative_roi': np.float64(-0.9787001815795837), 'sharpe': 0, 'drawdown': np.float64(0.9787001815795884), 'trades_executed': 2}
2025-07-28 15:30:08,012 - INFO - Logging portfolio metrics at end of trading cycle...
2025-07-28 15:30:08,050 - INFO - Fetched price for HDFCBANK.NS: Rs.2009.90
2025-07-28 15:30:08,088 - INFO - Fetched price for SUZLON.NS: Rs.60.94
2025-07-28 15:30:08,089 - INFO - Portfolio Metrics:
2025-07-28 15:30:08,089 - INFO - Cash: Rs.6003.09
2025-07-28 15:30:08,089 - INFO - Holdings: {'HDFCBANK.NS': {'qty': 1, 'avg_price': 2015.7}, 'SUZLON.NS': {'qty': 31, 'avg_price': 63.91}}
2025-07-28 15:30:08,089 - INFO - Total Value: Rs.9902.13
2025-07-28 15:30:08,090 - INFO - Current Portfolio Value (Dhan): Rs.10000.00
2025-07-28 15:30:08,090 - INFO - Current PnL (Dhan): Rs.0.00
2025-07-28 15:30:08,090 - INFO - Realized PnL: Rs.0.00
2025-07-28 15:30:08,090 - INFO - Unrealized PnL: Rs.-97.87
2025-07-28 15:30:08,090 - INFO - Total Exposure: Rs.3899.04
2025-07-28 15:30:08,128 - INFO - Fetched price for HDFCBANK.NS: Rs.2009.90
2025-07-28 15:30:08,167 - INFO - Fetched price for SUZLON.NS: Rs.60.94
2025-07-28 15:30:08,169 - INFO - Paper trading P&L summary generated
2025-07-28 15:30:08,176 - INFO - Stopping Trading Bot...
2025-07-28 15:30:08,176 - INFO - Waiting for trading thread to finish...
2025-07-28 15:30:18,178 - WARNING - Trading thread did not stop within timeout, forcing stop...
2025-07-28 15:30:18,179 - INFO - Web Trading Bot stopped successfully
2025-07-28 15:30:18,181 - INFO - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-28 15:30:18,181 - INFO - Settings updated: Mode=paper, Risk Level=MEDIUM, Stop Loss=5.0%, Max Allocation=25.0%
2025-07-28 15:30:18,684 - INFO - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-28 15:30:18,684 - INFO - Starting Indian Stock Trading Bot...
2025-07-28 15:30:18,685 - INFO - Trading Mode: PAPER
2025-07-28 15:30:18,685 - INFO - Starting Balance: Rs.10,000.00
2025-07-28 15:30:18,685 - INFO - Watchlist: 
2025-07-28 15:30:18,685 - INFO - ============================================================
2025-07-28 15:30:18,686 - INFO - Starting Stock Trading Bot for Indian market...
2025-07-28 15:30:18,686 - INFO - Web Trading Bot started successfully
2025-07-28 15:30:18,686 - INFO - Logging portfolio metrics at start of trading cycle...
2025-07-28 15:30:18,686 - INFO - Trading bot started with MEDIUM risk level
2025-07-28 15:30:18,847 - INFO - Fetched price for HDFCBANK.NS: Rs.2009.90
2025-07-28 15:30:18,951 - INFO - Fetched price for SUZLON.NS: Rs.60.94
2025-07-28 15:30:18,951 - INFO - Portfolio Metrics:
2025-07-28 15:30:18,952 - INFO - Cash: Rs.6003.09
2025-07-28 15:30:18,952 - INFO - Holdings: {'HDFCBANK.NS': {'qty': 1, 'avg_price': 2015.7}, 'SUZLON.NS': {'qty': 31, 'avg_price': 63.91}}
2025-07-28 15:30:18,952 - INFO - Total Value: Rs.9902.13
2025-07-28 15:30:18,952 - INFO - Current Portfolio Value (Dhan): Rs.10000.00
2025-07-28 15:30:18,952 - INFO - Current PnL (Dhan): Rs.0.00
2025-07-28 15:30:18,952 - INFO - Realized PnL: Rs.0.00
2025-07-28 15:30:18,952 - INFO - Unrealized PnL: Rs.-97.87
2025-07-28 15:30:18,953 - INFO - Total Exposure: Rs.3899.04
2025-07-28 15:30:18,971 - INFO - Fetched price for HDFCBANK.NS: Rs.2009.90
2025-07-28 15:30:18,990 - INFO - Fetched price for SUZLON.NS: Rs.60.94
2025-07-28 15:30:18,991 - INFO - Saved report to reports\report_20250728.json
2025-07-28 15:30:18,991 - INFO - Daily Report: {'date': '2025-07-28', 'roi_today': np.float64(-0.9787001815795837), 'cumulative_roi': np.float64(-0.9787001815795837), 'sharpe': 0, 'drawdown': np.float64(0.9787001815795884), 'trades_executed': 2}
2025-07-28 15:30:18,991 - INFO - Logging portfolio metrics at end of trading cycle...
2025-07-28 15:30:19,012 - INFO - Fetched price for HDFCBANK.NS: Rs.2009.90
2025-07-28 15:30:19,031 - INFO - Fetched price for SUZLON.NS: Rs.60.94
2025-07-28 15:30:19,031 - INFO - Portfolio Metrics:
2025-07-28 15:30:19,031 - INFO - Cash: Rs.6003.09
2025-07-28 15:30:19,031 - INFO - Holdings: {'HDFCBANK.NS': {'qty': 1, 'avg_price': 2015.7}, 'SUZLON.NS': {'qty': 31, 'avg_price': 63.91}}
2025-07-28 15:30:19,032 - INFO - Total Value: Rs.9902.13
2025-07-28 15:30:19,032 - INFO - Current Portfolio Value (Dhan): Rs.10000.00
2025-07-28 15:30:19,032 - INFO - Current PnL (Dhan): Rs.0.00
2025-07-28 15:30:19,032 - INFO - Realized PnL: Rs.0.00
2025-07-28 15:30:19,032 - INFO - Unrealized PnL: Rs.-97.87
2025-07-28 15:30:19,032 - INFO - Total Exposure: Rs.3899.04
2025-07-28 15:30:19,053 - INFO - Fetched price for HDFCBANK.NS: Rs.2009.90
2025-07-28 15:30:19,072 - INFO - Fetched price for SUZLON.NS: Rs.60.94
2025-07-28 15:30:19,073 - INFO - Paper trading P&L summary generated
2025-07-28 15:30:19,690 - INFO - Stopping Trading Bot...
2025-07-28 15:30:19,690 - INFO - Waiting for trading thread to finish...
2025-07-28 15:30:29,696 - WARNING - Trading thread did not stop within timeout, forcing stop...
2025-07-28 15:30:29,696 - INFO - Web Trading Bot stopped successfully
2025-07-28 15:30:29,698 - INFO - Applied HIGH risk settings: Stop Loss=8.0%, Max Allocation=35.0%
2025-07-28 15:30:29,699 - INFO - Settings updated: Mode=paper, Risk Level=HIGH, Stop Loss=8.0%, Max Allocation=35.0%
2025-07-28 15:30:30,201 - INFO - Applied HIGH risk settings: Stop Loss=8.0%, Max Allocation=35.0%
2025-07-28 15:30:30,201 - INFO - Starting Indian Stock Trading Bot...
2025-07-28 15:30:30,201 - INFO - Trading Mode: PAPER
2025-07-28 15:30:30,202 - INFO - Starting Balance: Rs.10,000.00
2025-07-28 15:30:30,202 - INFO - Watchlist: 
2025-07-28 15:30:30,202 - INFO - ============================================================
2025-07-28 15:30:30,203 - INFO - Starting Stock Trading Bot for Indian market...
2025-07-28 15:30:30,203 - INFO - Web Trading Bot started successfully
2025-07-28 15:30:30,203 - INFO - Logging portfolio metrics at start of trading cycle...
2025-07-28 15:30:30,203 - INFO - Trading bot started with HIGH risk level
2025-07-28 15:30:31,206 - INFO - Stopping Trading Bot...
2025-07-28 15:30:31,206 - INFO - Waiting for trading thread to finish...
2025-07-28 15:30:31,470 - INFO - Fetched price for HDFCBANK.NS: Rs.2009.90
2025-07-28 15:30:31,574 - INFO - Fetched price for SUZLON.NS: Rs.60.94
2025-07-28 15:30:31,574 - INFO - Portfolio Metrics:
2025-07-28 15:30:31,574 - INFO - Cash: Rs.6003.09
2025-07-28 15:30:31,574 - INFO - Holdings: {'HDFCBANK.NS': {'qty': 1, 'avg_price': 2015.7}, 'SUZLON.NS': {'qty': 31, 'avg_price': 63.91}}
2025-07-28 15:30:31,575 - INFO - Total Value: Rs.9902.13
2025-07-28 15:30:31,575 - INFO - Current Portfolio Value (Dhan): Rs.10000.00
2025-07-28 15:30:31,575 - INFO - Current PnL (Dhan): Rs.0.00
2025-07-28 15:30:31,575 - INFO - Realized PnL: Rs.0.00
2025-07-28 15:30:31,575 - INFO - Unrealized PnL: Rs.-97.87
2025-07-28 15:30:31,575 - INFO - Total Exposure: Rs.3899.04
2025-07-28 15:30:31,575 - INFO - Bot stop signal received, skipping report generation...
2025-07-28 15:30:31,576 - INFO - Stock Trading Bot stopped successfully
2025-07-28 15:30:31,578 - INFO - Trading thread stopped successfully
2025-07-28 15:30:31,578 - INFO - Web Trading Bot stopped successfully
2025-07-28 15:30:31,580 - INFO - Applied CUSTOM risk settings: Stop Loss=7.000000000000001%, Max Allocation=30.0%
2025-07-28 15:30:31,580 - INFO - Settings updated: Mode=paper, Risk Level=CUSTOM, Stop Loss=7.000000000000001%, Max Allocation=30.0%
2025-07-28 15:30:32,083 - INFO - Applied CUSTOM risk settings: Stop Loss=7.000000000000001%, Max Allocation=30.0%
2025-07-28 15:30:32,083 - INFO - Starting Indian Stock Trading Bot...
2025-07-28 15:30:32,083 - INFO - Trading Mode: PAPER
2025-07-28 15:30:32,083 - INFO - Starting Balance: Rs.10,000.00
2025-07-28 15:30:32,083 - INFO - Watchlist: 
2025-07-28 15:30:32,084 - INFO - ============================================================
2025-07-28 15:30:32,084 - INFO - Starting Stock Trading Bot for Indian market...
2025-07-28 15:30:32,084 - INFO - Web Trading Bot started successfully
2025-07-28 15:30:32,084 - INFO - Logging portfolio metrics at start of trading cycle...
2025-07-28 15:30:32,085 - INFO - Trading bot started with CUSTOM risk level
2025-07-28 15:30:32,126 - INFO - Fetched price for HDFCBANK.NS: Rs.2009.90
2025-07-28 15:30:32,144 - INFO - Fetched price for SUZLON.NS: Rs.60.94
2025-07-28 15:30:32,144 - INFO - Portfolio Metrics:
2025-07-28 15:30:32,145 - INFO - Cash: Rs.6003.09
2025-07-28 15:30:32,145 - INFO - Holdings: {'HDFCBANK.NS': {'qty': 1, 'avg_price': 2015.7}, 'SUZLON.NS': {'qty': 31, 'avg_price': 63.91}}
2025-07-28 15:30:32,145 - INFO - Total Value: Rs.9902.13
2025-07-28 15:30:32,145 - INFO - Current Portfolio Value (Dhan): Rs.10000.00
2025-07-28 15:30:32,145 - INFO - Current PnL (Dhan): Rs.0.00
2025-07-28 15:30:32,145 - INFO - Realized PnL: Rs.0.00
2025-07-28 15:30:32,146 - INFO - Unrealized PnL: Rs.-97.87
2025-07-28 15:30:32,146 - INFO - Total Exposure: Rs.3899.04
2025-07-28 15:30:32,165 - INFO - Fetched price for HDFCBANK.NS: Rs.2009.90
2025-07-28 15:30:32,184 - INFO - Fetched price for SUZLON.NS: Rs.60.94
2025-07-28 15:30:32,185 - INFO - Saved report to reports\report_20250728.json
2025-07-28 15:30:32,186 - INFO - Daily Report: {'date': '2025-07-28', 'roi_today': np.float64(-0.9787001815795837), 'cumulative_roi': np.float64(-0.9787001815795837), 'sharpe': 0, 'drawdown': np.float64(0.9787001815795884), 'trades_executed': 2}
2025-07-28 15:30:32,186 - INFO - Logging portfolio metrics at end of trading cycle...
2025-07-28 15:30:32,215 - INFO - Fetched price for HDFCBANK.NS: Rs.2009.90
2025-07-28 15:30:32,234 - INFO - Fetched price for SUZLON.NS: Rs.60.94
2025-07-28 15:30:32,235 - INFO - Portfolio Metrics:
2025-07-28 15:30:32,235 - INFO - Cash: Rs.6003.09
2025-07-28 15:30:32,235 - INFO - Holdings: {'HDFCBANK.NS': {'qty': 1, 'avg_price': 2015.7}, 'SUZLON.NS': {'qty': 31, 'avg_price': 63.91}}
2025-07-28 15:30:32,235 - INFO - Total Value: Rs.9902.13
2025-07-28 15:30:32,235 - INFO - Current Portfolio Value (Dhan): Rs.10000.00
2025-07-28 15:30:32,235 - INFO - Current PnL (Dhan): Rs.0.00
2025-07-28 15:30:32,236 - INFO - Realized PnL: Rs.0.00
2025-07-28 15:30:32,236 - INFO - Unrealized PnL: Rs.-97.87
2025-07-28 15:30:32,236 - INFO - Total Exposure: Rs.3899.04
2025-07-28 15:30:32,260 - INFO - Fetched price for HDFCBANK.NS: Rs.2009.90
2025-07-28 15:30:32,310 - INFO - Fetched price for SUZLON.NS: Rs.60.94
2025-07-28 15:30:32,311 - INFO - Paper trading P&L summary generated
2025-07-28 15:30:33,088 - INFO - Stopping Trading Bot...
2025-07-28 15:30:33,088 - INFO - Waiting for trading thread to finish...
2025-07-28 15:30:38,169 - INFO - Stock Trading Bot stopped successfully
2025-07-28 15:30:43,090 - WARNING - Trading thread did not stop within timeout, forcing stop...
2025-07-28 15:30:43,091 - INFO - Web Trading Bot stopped successfully
2025-07-28 15:30:43,230 - INFO - Switched from paper mode to live mode
2025-07-28 15:30:43,230 - INFO - Dhan API client initialized
2025-07-28 15:30:43,557 - ERROR - Dhan API request failed: 500 Server Error:  for url: https://api.dhan.co/profile
2025-07-28 15:30:43,558 - ERROR - Failed to get profile: Dhan API error: 500 Server Error:  for url: https://api.dhan.co/profile
2025-07-28 15:30:43,558 - ERROR - Dhan API validation failed - invalid response
2025-07-28 15:30:43,558 - ERROR - Failed to validate Dhan API connection
2025-07-28 15:30:43,558 - ERROR - Failed to initialize live trading, reverting to paper mode
2025-07-28 15:30:43,564 - INFO - Switched from live mode to paper mode
2025-07-28 15:30:49,074 - INFO - Stock Trading Bot stopped successfully
2025-07-28 15:31:02,311 - INFO - Stock Trading Bot stopped successfully
2025-07-28 15:33:11,943 - INFO - Dual Portfolio Manager initialized with data directory: data
2025-07-28 15:33:11,943 - INFO - Already in paper mode
2025-07-28 15:33:11,945 - INFO - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-28 15:33:11,945 - INFO - Loaded 2 trades from trade log
2025-07-28 15:33:11,959 - INFO - Loaded 78 stocks from cache
2025-07-28 15:33:11,959 - INFO - Dynamic ticker mapper initialized
2025-07-28 15:33:11,961 - INFO - Llama LLM initialized successfully with Ollama
2025-07-28 15:33:11,961 - INFO - Initializing Stock Trading Bot for Indian market...
2025-07-28 15:33:11,962 - INFO - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-28 15:33:11,962 - INFO - Trading bot initialized successfully
2025-07-28 15:33:11,962 - INFO - Starting FastAPI web server on http://127.0.0.1:5000
2025-07-28 15:33:11,962 - INFO - Web interface will be available at the above URL
2025-07-28 15:33:11,962 - INFO - API documentation available at http://{host}:{port}/docs
2025-07-28 15:33:11,994 - INFO - Dual Portfolio Manager initialized with data directory: data
2025-07-28 15:33:11,994 - INFO - Already in paper mode
2025-07-28 15:33:11,995 - INFO - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-28 15:33:11,995 - INFO - Loaded 2 trades from trade log
2025-07-28 15:33:12,010 - INFO - Loaded 78 stocks from cache
2025-07-28 15:33:12,010 - INFO - Dynamic ticker mapper initialized
2025-07-28 15:33:12,011 - INFO - Llama LLM initialized successfully with Ollama
2025-07-28 15:33:12,011 - INFO - Initializing Stock Trading Bot for Indian market...
2025-07-28 15:33:12,011 - INFO - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-28 15:33:12,011 - INFO - Trading bot initialized successfully
2025-07-28 15:33:12,011 - INFO - Trading bot initialized on startup
2025-07-28 15:35:36,202 - INFO - Switched from paper mode to live mode
2025-07-28 15:35:36,202 - INFO - Dhan API client initialized
2025-07-28 15:35:36,669 - ERROR - Dhan API request failed: 500 Server Error:  for url: https://api.dhan.co/profile
2025-07-28 15:35:36,669 - ERROR - Failed to get profile: Dhan API error: 500 Server Error:  for url: https://api.dhan.co/profile
2025-07-28 15:35:36,669 - ERROR - Dhan API validation failed - invalid response
2025-07-28 15:35:36,669 - ERROR - Failed to validate Dhan API connection
2025-07-28 15:35:36,669 - ERROR - Failed to initialize live trading, reverting to paper mode
2025-07-28 15:35:36,676 - INFO - Switched from live mode to paper mode
2025-07-28 15:35:39,927 - INFO - Switched from paper mode to live mode
2025-07-28 15:35:39,927 - INFO - Dhan API client initialized
2025-07-28 15:35:40,357 - ERROR - Dhan API request failed: 500 Server Error:  for url: https://api.dhan.co/profile
2025-07-28 15:35:40,357 - ERROR - Failed to get profile: Dhan API error: 500 Server Error:  for url: https://api.dhan.co/profile
2025-07-28 15:35:40,358 - ERROR - Dhan API validation failed - invalid response
2025-07-28 15:35:40,358 - ERROR - Failed to validate Dhan API connection
2025-07-28 15:35:40,358 - ERROR - Failed to initialize live trading, reverting to paper mode
2025-07-28 15:35:40,364 - INFO - Switched from live mode to paper mode
2025-07-28 15:35:41,888 - INFO - Switched from paper mode to live mode
2025-07-28 15:35:41,888 - INFO - Dhan API client initialized
2025-07-28 15:35:42,551 - ERROR - Dhan API request failed: 500 Server Error:  for url: https://api.dhan.co/profile
2025-07-28 15:35:42,552 - ERROR - Failed to get profile: Dhan API error: 500 Server Error:  for url: https://api.dhan.co/profile
2025-07-28 15:35:42,552 - ERROR - Dhan API validation failed - invalid response
2025-07-28 15:35:42,552 - ERROR - Failed to validate Dhan API connection
2025-07-28 15:35:42,552 - ERROR - Failed to initialize live trading, reverting to paper mode
2025-07-28 15:35:42,559 - INFO - Switched from live mode to paper mode
2025-07-28 15:35:50,110 - INFO - Switched from paper mode to live mode
2025-07-28 15:35:50,110 - INFO - Dhan API client initialized
2025-07-28 15:35:50,565 - ERROR - Dhan API request failed: 500 Server Error:  for url: https://api.dhan.co/profile
2025-07-28 15:35:50,566 - ERROR - Failed to get profile: Dhan API error: 500 Server Error:  for url: https://api.dhan.co/profile
2025-07-28 15:35:50,566 - ERROR - Dhan API validation failed - invalid response
2025-07-28 15:35:50,566 - ERROR - Failed to validate Dhan API connection
2025-07-28 15:35:50,566 - ERROR - Failed to initialize live trading, reverting to paper mode
2025-07-28 15:35:50,573 - INFO - Switched from live mode to paper mode
2025-07-28 16:10:11,376 - INFO - Dual Portfolio Manager initialized with data directory: data
2025-07-28 16:10:11,376 - INFO - Already in paper mode
2025-07-28 16:10:11,377 - INFO - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-28 16:10:11,378 - INFO - Loaded 2 trades from trade log
2025-07-28 16:10:11,392 - INFO - Loaded 78 stocks from cache
2025-07-28 16:10:11,393 - INFO - Dynamic ticker mapper initialized
2025-07-28 16:10:11,395 - INFO - Llama LLM initialized successfully with Ollama
2025-07-28 16:10:11,395 - INFO - Initializing Stock Trading Bot for Indian market...
2025-07-28 16:10:11,395 - INFO - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-28 16:10:11,395 - INFO - Trading bot initialized successfully
2025-07-28 16:10:11,395 - INFO - Starting FastAPI web server on http://127.0.0.1:5000
2025-07-28 16:10:11,396 - INFO - Web interface will be available at the above URL
2025-07-28 16:10:11,396 - INFO - API documentation available at http://{host}:{port}/docs
2025-07-28 16:10:11,427 - INFO - Dual Portfolio Manager initialized with data directory: data
2025-07-28 16:10:11,428 - INFO - Already in paper mode
2025-07-28 16:10:11,429 - INFO - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-28 16:10:11,429 - INFO - Loaded 2 trades from trade log
2025-07-28 16:10:11,444 - INFO - Loaded 78 stocks from cache
2025-07-28 16:10:11,444 - INFO - Dynamic ticker mapper initialized
2025-07-28 16:10:11,445 - INFO - Llama LLM initialized successfully with Ollama
2025-07-28 16:10:11,445 - INFO - Initializing Stock Trading Bot for Indian market...
2025-07-28 16:10:11,445 - INFO - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-28 16:10:11,445 - INFO - Trading bot initialized successfully
2025-07-28 16:10:11,445 - INFO - Trading bot initialized on startup
2025-07-28 16:11:08,036 - INFO - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-28 16:11:08,036 - INFO - Settings updated: Mode=paper, Risk Level=MEDIUM, Stop Loss=5.0%, Max Allocation=25.0%
2025-07-28 16:11:17,939 - INFO - Loaded live mode data - Cash: Rs.0.00, Holdings: 0, Trades: 0
2025-07-28 16:11:17,939 - INFO - Switched from paper mode to live mode
2025-07-28 16:11:17,939 - INFO - Dhan API client initialized
2025-07-28 16:11:18,431 - INFO - Profile response: {'dhanClientId': '1107443739', 'tokenValidity': '22/08/2025 13:06', 'activeSegment': 'Currency', 'ddpi': 'Deactive', 'dataPlan': 'Deactive'}
2025-07-28 16:11:18,431 - INFO - Dhan API connection validated successfully
2025-07-28 16:11:18,432 - INFO - Dhan API client initialized
2025-07-28 16:11:18,432 - INFO - Live Trading Executor initialized
2025-07-28 16:11:18,432 - INFO - Syncing portfolio with Dhan account...
2025-07-28 16:11:18,821 - ERROR - Dhan API request failed: 404 Client Error:  for url: https://api.dhan.co/funds
2025-07-28 16:11:18,822 - ERROR - Failed to get funds: Dhan API error: 404 Client Error:  for url: https://api.dhan.co/funds
2025-07-28 16:11:18,834 - ERROR - Dhan API request failed: 400 Client Error:  for url: https://api.dhan.co/holdings
2025-07-28 16:11:18,835 - ERROR - Failed to get holdings: Dhan API error: 400 Client Error:  for url: https://api.dhan.co/holdings
2025-07-28 16:11:18,847 - INFO - Live trading initialized successfully
2025-07-28 16:11:18,847 - INFO - Successfully switched from paper to live mode
2025-07-28 16:11:18,847 - INFO - Successfully switched from paper to live mode
2025-07-28 16:11:18,847 - INFO - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-28 16:11:18,848 - INFO - Settings updated: Mode=live, Risk Level=MEDIUM, Stop Loss=5.0%, Max Allocation=25.0%
2025-07-28 16:11:19,181 - INFO - Profile response: {'dhanClientId': '1107443739', 'tokenValidity': '22/08/2025 13:06', 'activeSegment': 'Currency', 'ddpi': 'Deactive', 'dataPlan': 'Deactive'}
2025-07-28 16:11:19,182 - INFO - Dhan API connection validated successfully
2025-07-28 16:11:19,279 - ERROR - Dhan API request failed: 404 Client Error:  for url: https://api.dhan.co/marketstatus
2025-07-28 16:11:19,280 - ERROR - Failed to get market status: Dhan API error: 404 Client Error:  for url: https://api.dhan.co/marketstatus
2025-07-28 16:11:19,475 - ERROR - Dhan API request failed: 404 Client Error:  for url: https://api.dhan.co/funds
2025-07-28 16:11:19,475 - ERROR - Failed to get funds: Dhan API error: 404 Client Error:  for url: https://api.dhan.co/funds
2025-07-28 16:11:31,370 - INFO - Profile response: {'dhanClientId': '1107443739', 'tokenValidity': '22/08/2025 13:06', 'activeSegment': 'Currency', 'ddpi': 'Deactive', 'dataPlan': 'Deactive'}
2025-07-28 16:11:31,370 - INFO - Dhan API connection validated successfully
2025-07-28 16:11:31,463 - ERROR - Dhan API request failed: 404 Client Error:  for url: https://api.dhan.co/marketstatus
2025-07-28 16:11:31,464 - ERROR - Failed to get market status: Dhan API error: 404 Client Error:  for url: https://api.dhan.co/marketstatus
2025-07-28 16:11:31,663 - ERROR - Dhan API request failed: 404 Client Error:  for url: https://api.dhan.co/funds
2025-07-28 16:11:31,664 - ERROR - Failed to get funds: Dhan API error: 404 Client Error:  for url: https://api.dhan.co/funds
2025-07-28 16:11:49,962 - INFO - Loaded paper mode data - Cash: Rs.0.00, Holdings: 0, Trades: 0
2025-07-28 16:11:49,962 - INFO - Switched from live mode to paper mode
2025-07-28 16:11:49,966 - INFO - Successfully switched from live to paper mode
2025-07-28 16:11:49,967 - INFO - Successfully switched from live to paper mode
2025-07-28 16:11:49,967 - INFO - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-28 16:11:49,967 - INFO - Settings updated: Mode=paper, Risk Level=MEDIUM, Stop Loss=5.0%, Max Allocation=25.0%
2025-07-28 16:12:13,208 - INFO - Loaded live mode data - Cash: Rs.0.00, Holdings: 0, Trades: 0
2025-07-28 16:12:13,208 - INFO - Switched from paper mode to live mode
2025-07-28 16:12:13,209 - INFO - Dhan API client initialized
2025-07-28 16:12:13,677 - INFO - Profile response: {'dhanClientId': '1107443739', 'tokenValidity': '22/08/2025 13:06', 'activeSegment': 'Currency', 'ddpi': 'Deactive', 'dataPlan': 'Deactive'}
2025-07-28 16:12:13,678 - INFO - Dhan API connection validated successfully
2025-07-28 16:12:13,678 - INFO - Dhan API client initialized
2025-07-28 16:12:13,678 - INFO - Live Trading Executor initialized
2025-07-28 16:12:13,678 - INFO - Syncing portfolio with Dhan account...
2025-07-28 16:12:14,137 - ERROR - Dhan API request failed: 404 Client Error:  for url: https://api.dhan.co/funds
2025-07-28 16:12:14,137 - ERROR - Failed to get funds: Dhan API error: 404 Client Error:  for url: https://api.dhan.co/funds
2025-07-28 16:12:14,150 - ERROR - Dhan API request failed: 400 Client Error:  for url: https://api.dhan.co/holdings
2025-07-28 16:12:14,151 - ERROR - Failed to get holdings: Dhan API error: 400 Client Error:  for url: https://api.dhan.co/holdings
2025-07-28 16:12:14,154 - INFO - Live trading initialized successfully
2025-07-28 16:12:14,155 - INFO - Successfully switched from paper to live mode
2025-07-28 16:12:14,155 - INFO - Successfully switched from paper to live mode
2025-07-28 16:12:14,155 - INFO - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-28 16:12:14,155 - INFO - Settings updated: Mode=live, Risk Level=MEDIUM, Stop Loss=5.0%, Max Allocation=25.0%
2025-07-28 16:12:14,743 - INFO - Profile response: {'dhanClientId': '1107443739', 'tokenValidity': '22/08/2025 13:06', 'activeSegment': 'Currency', 'ddpi': 'Deactive', 'dataPlan': 'Deactive'}
2025-07-28 16:12:14,744 - INFO - Dhan API connection validated successfully
2025-07-28 16:12:14,833 - ERROR - Dhan API request failed: 404 Client Error:  for url: https://api.dhan.co/marketstatus
2025-07-28 16:12:14,833 - ERROR - Failed to get market status: Dhan API error: 404 Client Error:  for url: https://api.dhan.co/marketstatus
2025-07-28 16:12:15,034 - ERROR - Dhan API request failed: 404 Client Error:  for url: https://api.dhan.co/funds
2025-07-28 16:12:15,034 - ERROR - Failed to get funds: Dhan API error: 404 Client Error:  for url: https://api.dhan.co/funds
2025-07-28 16:12:31,640 - INFO - Profile response: {'dhanClientId': '1107443739', 'tokenValidity': '22/08/2025 13:06', 'activeSegment': 'Currency', 'ddpi': 'Deactive', 'dataPlan': 'Deactive'}
2025-07-28 16:12:31,641 - INFO - Dhan API connection validated successfully
2025-07-28 16:12:31,733 - ERROR - Dhan API request failed: 404 Client Error:  for url: https://api.dhan.co/marketstatus
2025-07-28 16:12:31,733 - ERROR - Failed to get market status: Dhan API error: 404 Client Error:  for url: https://api.dhan.co/marketstatus
2025-07-28 16:12:31,933 - ERROR - Dhan API request failed: 404 Client Error:  for url: https://api.dhan.co/funds
2025-07-28 16:12:31,933 - ERROR - Failed to get funds: Dhan API error: 404 Client Error:  for url: https://api.dhan.co/funds
2025-07-28 16:13:01,898 - INFO - Profile response: {'dhanClientId': '1107443739', 'tokenValidity': '22/08/2025 13:06', 'activeSegment': 'Currency', 'ddpi': 'Deactive', 'dataPlan': 'Deactive'}
2025-07-28 16:13:01,898 - INFO - Dhan API connection validated successfully
2025-07-28 16:13:01,991 - ERROR - Dhan API request failed: 404 Client Error:  for url: https://api.dhan.co/marketstatus
2025-07-28 16:13:01,991 - ERROR - Failed to get market status: Dhan API error: 404 Client Error:  for url: https://api.dhan.co/marketstatus
2025-07-28 16:13:02,191 - ERROR - Dhan API request failed: 404 Client Error:  for url: https://api.dhan.co/funds
2025-07-28 16:13:02,191 - ERROR - Failed to get funds: Dhan API error: 404 Client Error:  for url: https://api.dhan.co/funds
2025-07-28 16:13:31,645 - INFO - Profile response: {'dhanClientId': '1107443739', 'tokenValidity': '22/08/2025 13:06', 'activeSegment': 'Currency', 'ddpi': 'Deactive', 'dataPlan': 'Deactive'}
2025-07-28 16:13:31,645 - INFO - Dhan API connection validated successfully
2025-07-28 16:13:31,739 - ERROR - Dhan API request failed: 404 Client Error:  for url: https://api.dhan.co/marketstatus
2025-07-28 16:13:31,739 - ERROR - Failed to get market status: Dhan API error: 404 Client Error:  for url: https://api.dhan.co/marketstatus
2025-07-28 16:13:31,940 - ERROR - Dhan API request failed: 404 Client Error:  for url: https://api.dhan.co/funds
2025-07-28 16:13:31,940 - ERROR - Failed to get funds: Dhan API error: 404 Client Error:  for url: https://api.dhan.co/funds
2025-07-28 16:14:10,643 - INFO - Profile response: {'dhanClientId': '1107443739', 'tokenValidity': '22/08/2025 13:06', 'activeSegment': 'Currency', 'ddpi': 'Deactive', 'dataPlan': 'Deactive'}
2025-07-28 16:14:10,644 - INFO - Dhan API connection validated successfully
2025-07-28 16:14:10,736 - ERROR - Dhan API request failed: 404 Client Error:  for url: https://api.dhan.co/marketstatus
2025-07-28 16:14:10,736 - ERROR - Failed to get market status: Dhan API error: 404 Client Error:  for url: https://api.dhan.co/marketstatus
2025-07-28 16:14:10,936 - ERROR - Dhan API request failed: 404 Client Error:  for url: https://api.dhan.co/funds
2025-07-28 16:14:10,936 - ERROR - Failed to get funds: Dhan API error: 404 Client Error:  for url: https://api.dhan.co/funds
2025-07-28 16:14:49,898 - INFO - Trading bot is already stopped
2025-07-28 16:14:49,898 - INFO - Trading bot stopped on shutdown
2025-07-28 16:14:49,899 - INFO - Web server stopped by user
2025-07-28 16:14:59,515 - INFO - Dual Portfolio Manager initialized with data directory: data
2025-07-28 16:14:59,515 - INFO - Already in paper mode
2025-07-28 16:14:59,517 - INFO - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-28 16:14:59,518 - INFO - Loaded 2 trades from trade log
2025-07-28 16:14:59,533 - INFO - Loaded 78 stocks from cache
2025-07-28 16:14:59,534 - INFO - Dynamic ticker mapper initialized
2025-07-28 16:14:59,535 - INFO - Llama LLM initialized successfully with Ollama
2025-07-28 16:14:59,536 - INFO - Initializing Stock Trading Bot for Indian market...
2025-07-28 16:14:59,536 - INFO - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-28 16:14:59,536 - INFO - Trading bot initialized successfully
2025-07-28 16:14:59,536 - INFO - Starting FastAPI web server on http://127.0.0.1:5000
2025-07-28 16:14:59,536 - INFO - Web interface will be available at the above URL
2025-07-28 16:14:59,536 - INFO - API documentation available at http://{host}:{port}/docs
2025-07-28 16:14:59,567 - INFO - Dual Portfolio Manager initialized with data directory: data
2025-07-28 16:14:59,568 - INFO - Already in paper mode
2025-07-28 16:14:59,569 - INFO - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-28 16:14:59,569 - INFO - Loaded 2 trades from trade log
2025-07-28 16:14:59,580 - INFO - Loaded 78 stocks from cache
2025-07-28 16:14:59,580 - INFO - Dynamic ticker mapper initialized
2025-07-28 16:14:59,581 - INFO - Llama LLM initialized successfully with Ollama
2025-07-28 16:14:59,582 - INFO - Initializing Stock Trading Bot for Indian market...
2025-07-28 16:14:59,582 - INFO - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-28 16:14:59,582 - INFO - Trading bot initialized successfully
2025-07-28 16:14:59,582 - INFO - Trading bot initialized on startup
2025-07-28 16:15:43,184 - INFO - Loaded live mode data - Cash: Rs.0.00, Holdings: 0, Trades: 0
2025-07-28 16:15:43,185 - INFO - Switched from paper mode to live mode
2025-07-28 16:15:43,185 - INFO - Dhan API client initialized
2025-07-28 16:15:43,684 - INFO - Profile response: {'dhanClientId': '1107443739', 'tokenValidity': '22/08/2025 13:06', 'activeSegment': 'Currency', 'ddpi': 'Deactive', 'dataPlan': 'Deactive'}
2025-07-28 16:15:43,685 - INFO - Dhan API connection validated successfully
2025-07-28 16:15:43,685 - INFO - Dhan API client initialized
2025-07-28 16:15:43,685 - INFO - Live Trading Executor initialized
2025-07-28 16:15:43,685 - INFO - Syncing portfolio with Dhan account...
2025-07-28 16:15:44,136 - ERROR - Dhan API request failed: 404 Client Error:  for url: https://api.dhan.co/funds
2025-07-28 16:15:44,136 - ERROR - Failed to get funds: Dhan API error: 404 Client Error:  for url: https://api.dhan.co/funds
2025-07-28 16:15:44,147 - ERROR - Dhan API request failed: 400 Client Error:  for url: https://api.dhan.co/holdings
2025-07-28 16:15:44,148 - ERROR - Failed to get holdings: Dhan API error: 400 Client Error:  for url: https://api.dhan.co/holdings
2025-07-28 16:15:44,160 - INFO - Live trading initialized successfully
2025-07-28 16:15:44,160 - INFO - Successfully switched from paper to live mode
2025-07-28 16:15:44,160 - INFO - Successfully switched from paper to live mode
2025-07-28 16:15:44,160 - INFO - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-28 16:15:44,160 - INFO - Settings updated: Mode=live, Risk Level=MEDIUM, Stop Loss=5.0%, Max Allocation=25.0%
2025-07-28 16:15:44,762 - INFO - Profile response: {'dhanClientId': '1107443739', 'tokenValidity': '22/08/2025 13:06', 'activeSegment': 'Currency', 'ddpi': 'Deactive', 'dataPlan': 'Deactive'}
2025-07-28 16:15:44,763 - INFO - Dhan API connection validated successfully
2025-07-28 16:15:44,854 - ERROR - Dhan API request failed: 404 Client Error:  for url: https://api.dhan.co/marketstatus
2025-07-28 16:15:44,854 - ERROR - Failed to get market status: Dhan API error: 404 Client Error:  for url: https://api.dhan.co/marketstatus
2025-07-28 16:15:45,055 - ERROR - Dhan API request failed: 404 Client Error:  for url: https://api.dhan.co/funds
2025-07-28 16:15:45,055 - ERROR - Failed to get funds: Dhan API error: 404 Client Error:  for url: https://api.dhan.co/funds
2025-07-28 16:16:02,634 - INFO - Profile response: {'dhanClientId': '1107443739', 'tokenValidity': '22/08/2025 13:06', 'activeSegment': 'Currency', 'ddpi': 'Deactive', 'dataPlan': 'Deactive'}
2025-07-28 16:16:02,634 - INFO - Dhan API connection validated successfully
2025-07-28 16:16:02,726 - ERROR - Dhan API request failed: 404 Client Error:  for url: https://api.dhan.co/marketstatus
2025-07-28 16:16:02,726 - ERROR - Failed to get market status: Dhan API error: 404 Client Error:  for url: https://api.dhan.co/marketstatus
2025-07-28 16:16:02,928 - ERROR - Dhan API request failed: 404 Client Error:  for url: https://api.dhan.co/funds
2025-07-28 16:16:02,928 - ERROR - Failed to get funds: Dhan API error: 404 Client Error:  for url: https://api.dhan.co/funds
2025-07-28 16:16:32,655 - INFO - Profile response: {'dhanClientId': '1107443739', 'tokenValidity': '22/08/2025 13:06', 'activeSegment': 'Currency', 'ddpi': 'Deactive', 'dataPlan': 'Deactive'}
2025-07-28 16:16:32,655 - INFO - Dhan API connection validated successfully
2025-07-28 16:16:32,745 - ERROR - Dhan API request failed: 404 Client Error:  for url: https://api.dhan.co/marketstatus
2025-07-28 16:16:32,745 - ERROR - Failed to get market status: Dhan API error: 404 Client Error:  for url: https://api.dhan.co/marketstatus
2025-07-28 16:16:32,946 - ERROR - Dhan API request failed: 404 Client Error:  for url: https://api.dhan.co/funds
2025-07-28 16:16:32,946 - ERROR - Failed to get funds: Dhan API error: 404 Client Error:  for url: https://api.dhan.co/funds
2025-07-28 16:16:33,494 - INFO - Trading bot is already stopped
2025-07-28 16:16:33,494 - INFO - Trading bot stopped on shutdown
2025-07-28 16:16:33,495 - INFO - Web server stopped by user
2025-07-28 16:33:44,418 - INFO - Dual Portfolio Manager initialized with data directory: data
2025-07-28 16:33:44,419 - INFO - Already in paper mode
2025-07-28 16:33:44,420 - INFO - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-28 16:33:44,421 - INFO - Loaded 2 trades from trade log
2025-07-28 16:33:44,437 - INFO - Loaded 78 stocks from cache
2025-07-28 16:33:44,437 - INFO - Dynamic ticker mapper initialized
2025-07-28 16:33:44,439 - INFO - Llama LLM initialized successfully with Ollama
2025-07-28 16:33:44,439 - INFO - Initializing Stock Trading Bot for Indian market...
2025-07-28 16:33:44,440 - INFO - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-28 16:33:44,440 - INFO - Trading bot initialized successfully
2025-07-28 16:33:44,440 - INFO - Starting FastAPI web server on http://127.0.0.1:5000
2025-07-28 16:33:44,440 - INFO - Web interface will be available at the above URL
2025-07-28 16:33:44,440 - INFO - API documentation available at http://{host}:{port}/docs
2025-07-28 16:33:44,495 - INFO - Dual Portfolio Manager initialized with data directory: data
2025-07-28 16:33:44,495 - INFO - Already in paper mode
2025-07-28 16:33:44,496 - INFO - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-28 16:33:44,497 - INFO - Loaded 2 trades from trade log
2025-07-28 16:33:44,513 - INFO - Loaded 78 stocks from cache
2025-07-28 16:33:44,514 - INFO - Dynamic ticker mapper initialized
2025-07-28 16:33:44,515 - INFO - Llama LLM initialized successfully with Ollama
2025-07-28 16:33:44,515 - INFO - Initializing Stock Trading Bot for Indian market...
2025-07-28 16:33:44,515 - INFO - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-28 16:33:44,515 - INFO - Trading bot initialized successfully
2025-07-28 16:33:44,515 - INFO - Trading bot initialized on startup
2025-07-28 16:34:06,978 - WARNING - Error fetching current prices: Too Many Requests. Rate limited. Try after a while.
2025-07-28 16:34:08,254 - WARNING - Error fetching current prices: Too Many Requests. Rate limited. Try after a while.
2025-07-28 16:34:11,847 - WARNING - Error fetching current prices: Too Many Requests. Rate limited. Try after a while.
2025-07-28 16:34:33,483 - WARNING - Error fetching current prices: Too Many Requests. Rate limited. Try after a while.
2025-07-28 16:34:34,790 - WARNING - Error fetching current prices: Too Many Requests. Rate limited. Try after a while.
2025-07-28 16:34:44,924 - INFO - Loaded live mode data - Cash: Rs.0.00, Holdings: 0, Trades: 0
2025-07-28 16:34:44,925 - INFO - Switched from paper mode to live mode
2025-07-28 16:34:44,925 - INFO - Dhan API client initialized
2025-07-28 16:34:45,292 - INFO - Profile response: {'dhanClientId': '1107443739', 'tokenValidity': '22/08/2025 13:06', 'activeSegment': 'Equity, ', 'ddpi': 'Deactive', 'mtf': 'Deactive', 'dataPlan': 'Deactive', 'dataValidity': 'NA'}
2025-07-28 16:34:45,293 - INFO - Dhan API connection validated successfully
2025-07-28 16:34:45,293 - INFO - Dhan API client initialized
2025-07-28 16:34:45,293 - INFO - Live Trading Executor initialized
2025-07-28 16:34:45,293 - INFO - Syncing portfolio with Dhan account...
2025-07-28 16:34:45,583 - ERROR - Dhan API request failed: 500 Server Error:  for url: https://api.dhan.co/v2/holdings
2025-07-28 16:34:45,584 - ERROR - Failed to get holdings: Dhan API error: 500 Server Error:  for url: https://api.dhan.co/v2/holdings
2025-07-28 16:34:45,584 - INFO - Portfolio synced - Cash: Rs.0.00, Holdings: Rs.0.00
2025-07-28 16:34:45,584 - INFO - Live trading initialized successfully
2025-07-28 16:34:45,584 - INFO - Successfully switched from paper to live mode
2025-07-28 16:34:45,584 - INFO - Successfully switched from paper to live mode
2025-07-28 16:34:45,584 - INFO - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-28 16:34:45,585 - INFO - Settings updated: Mode=live, Risk Level=MEDIUM, Stop Loss=5.0%, Max Allocation=25.0%
2025-07-28 16:35:02,953 - INFO - Profile response: {'dhanClientId': '1107443739', 'tokenValidity': '22/08/2025 13:06', 'activeSegment': 'Equity, ', 'ddpi': 'Deactive', 'mtf': 'Deactive', 'dataPlan': 'Deactive', 'dataValidity': 'NA'}
2025-07-28 16:35:02,953 - INFO - Dhan API connection validated successfully
2025-07-28 16:35:03,586 - INFO - Profile response: {'dhanClientId': '1107443739', 'tokenValidity': '22/08/2025 13:06', 'activeSegment': 'Equity, ', 'ddpi': 'Deactive', 'mtf': 'Deactive', 'dataPlan': 'Deactive', 'dataValidity': 'NA'}
2025-07-28 16:35:03,586 - INFO - Dhan API connection validated successfully
2025-07-28 16:35:32,390 - INFO - Profile response: {'dhanClientId': '1107443739', 'tokenValidity': '22/08/2025 13:06', 'activeSegment': 'Equity, ', 'ddpi': 'Deactive', 'mtf': 'Deactive', 'dataPlan': 'Deactive', 'dataValidity': 'NA'}
2025-07-28 16:35:32,391 - INFO - Dhan API connection validated successfully
2025-07-28 16:35:32,783 - INFO - Profile response: {'dhanClientId': '1107443739', 'tokenValidity': '22/08/2025 13:06', 'activeSegment': 'Equity, ', 'ddpi': 'Deactive', 'mtf': 'Deactive', 'dataPlan': 'Deactive', 'dataValidity': 'NA'}
2025-07-28 16:35:32,783 - INFO - Dhan API connection validated successfully
2025-07-28 16:35:40,350 - INFO - Loaded paper mode data - Cash: Rs.0.00, Holdings: 0, Trades: 0
2025-07-28 16:35:40,350 - INFO - Switched from live mode to paper mode
2025-07-28 16:35:40,354 - INFO - Successfully switched from live to paper mode
2025-07-28 16:35:40,354 - INFO - Successfully switched from live to paper mode
2025-07-28 16:35:40,354 - INFO - Applied LOW risk settings: Stop Loss=3.0%, Max Allocation=15.0%
2025-07-28 16:35:40,355 - INFO - Settings updated: Mode=paper, Risk Level=LOW, Stop Loss=3.0%, Max Allocation=15.0%
2025-07-28 16:35:43,498 - WARNING - Error fetching current prices: Too Many Requests. Rate limited. Try after a while.
2025-07-28 16:35:59,704 - INFO - Applied LOW risk settings: Stop Loss=3.0%, Max Allocation=15.0%
2025-07-28 16:35:59,705 - INFO - Settings updated: Mode=paper, Risk Level=LOW, Stop Loss=3.0%, Max Allocation=15.0%
2025-07-28 16:36:02,207 - WARNING - Error fetching current prices: Too Many Requests. Rate limited. Try after a while.
2025-07-28 16:36:05,467 - WARNING - Error fetching current prices: Too Many Requests. Rate limited. Try after a while.
2025-07-28 16:36:22,662 - INFO - Trading bot is already stopped
2025-07-28 16:36:22,662 - INFO - Trading bot stopped on shutdown
2025-07-28 16:36:22,663 - INFO - Web server stopped by user
2025-07-28 17:15:28,389 - INFO - Dual Portfolio Manager initialized with data directory: data
2025-07-28 17:15:28,390 - INFO - Already in paper mode
2025-07-28 17:15:28,392 - INFO - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-28 17:15:28,392 - INFO - Loaded 2 trades from trade log
2025-07-28 17:15:28,407 - INFO - Loaded 78 stocks from cache
2025-07-28 17:15:28,408 - INFO - Dynamic ticker mapper initialized
2025-07-28 17:15:28,410 - INFO - Llama LLM initialized successfully with Ollama
2025-07-28 17:15:28,410 - INFO - Initializing Stock Trading Bot for Indian market...
2025-07-28 17:15:28,410 - INFO - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-28 17:15:28,410 - INFO - Trading bot initialized successfully
2025-07-28 17:15:28,410 - INFO - Starting FastAPI web server on http://127.0.0.1:5000
2025-07-28 17:15:28,411 - INFO - Web interface will be available at the above URL
2025-07-28 17:15:28,411 - INFO - API documentation available at http://{host}:{port}/docs
2025-07-28 17:15:28,444 - INFO - Dual Portfolio Manager initialized with data directory: data
2025-07-28 17:15:28,444 - INFO - Already in paper mode
2025-07-28 17:15:28,445 - INFO - Loaded portfolio: Cash=Rs.6003.09, Holdings=2 positions
2025-07-28 17:15:28,446 - INFO - Loaded 2 trades from trade log
2025-07-28 17:15:28,459 - INFO - Loaded 78 stocks from cache
2025-07-28 17:15:28,460 - INFO - Dynamic ticker mapper initialized
2025-07-28 17:15:28,461 - INFO - Llama LLM initialized successfully with Ollama
2025-07-28 17:15:28,461 - INFO - Initializing Stock Trading Bot for Indian market...
2025-07-28 17:15:28,461 - INFO - Applied MEDIUM risk settings: Stop Loss=5.0%, Max Allocation=25.0%
2025-07-28 17:15:28,461 - INFO - Trading bot initialized successfully
2025-07-28 17:15:28,461 - INFO - Trading bot initialized on startup
