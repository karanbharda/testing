{
    "success": true,
    "stock_data": {
        "symbol": "UNIONBANK.NS",
        "name": "UNIONBANK.NS",
        "current_price": {
            "INR": 133.11,
            "USD": 1.51,
            "EUR": 1.28,
            "BTC": 1.308e-05,
            "ETH": 0.0003322
        },
        "sector": "N/A",
        "industry": "N/A",
        "pe_ratio": "N/A",
        "dividends": "N/A"
    },
    "recommendation": "NEUTRAL",
    "buy_score": 0.0,
    "sell_score": 0.0,
    "technical_indicators": {
        "sma_50": 136.426,
        "sma_200": 127.97425,
        "ema_50": 134.34888170783077,
        "rsi": 52.38490385509632,
        "macd": -1.3638294303926273,
        "signal_line": -2.2051091119626074,
        "macd_histogram": 0.8412796815699801,
        "bb_upper": 139.30804553506673,
        "bb_lower": 123.09695446493329,
        "volatility": 0.015618345113137385,
        "momentum": 0.016417226634086787,
        "volume_trend": "MODERATE"
    },
    "fundamental_analysis": {
        "market_cap": "N/A",
        "pe_ratio": "N/A",
        "dividend_yield": "N/A",
        "52w_high": "N/A",
        "52w_low": "N/A",
        "balance_sheet": {},
        "income_statement": {},
        "cash_flow": {}
    },
    "sentiment_analysis": {
        "newsapi": {
            "positive": 0,
            "negative": 0,
            "neutral": 0
        },
        "gnews": {
            "positive": 0,
            "negative": 0,
            "neutral": 0
        },
        "reddit": {
            "positive": 0,
            "negative": 0,
            "neutral": 0
        },
        "google_news": {
            "positive": 3.0,
            "negative": 4.0,
            "neutral": 4.0
        },
        "aggregated": {
            "positive": 3.0,
            "negative": 4.0,
            "neutral": 4.0
        },
        "weighted_aggregated": {
            "positive": 7.800000000000001,
            "negative": 10.4,
            "neutral": 10.4,
            "total_weight": 11.31
        },
        "comprehensive_analysis": {
            "sentiment_strength": {
                "bullish": 0.6896551724137931,
                "bearish": 0.9195402298850575,
                "neutral": 0.9195402298850575
            },
            "confidence_score": 0.36363636363636365,
            "market_context_applied": 1.3,
            "sources_coverage": {
                "global_financial": true,
                "indian_focus": true,
                "broad_market": true,
                "social_sentiment": true
            }
        }
    },
    "mpt_metrics": {
        "annual_return": 0.1813792918225572,
        "annual_volatility": 0.35045410599304916,
        "sharpe_ratio": 0.3463486081254948,
        "beta": "N/A",
        "alpha": "N/A"
    },
    "institutional_holders": {},
    "mutual_fund_holders": {},
    "support_level": 121.5755375,
    "resistance_level": 143.2473,
    "risk_level": "MEDIUM",
    "timeframe": "MEDIUM_TERM",
    "explanation": "Recommendation for UNIONBANK.NS (UNIONBANK.NS): NEUTRAL\nCurrent Price: Rs.133.11\n\nBuy Score: 0.000, Sell Score: 0.000\n\nNeutral Factors:\n- Price is stable relative to moving averages.\n- Sentiment is balanced, with no strong bullish or bearish signals.\n\nRisk Assessment:\n- Volatility: 0.0156 (higher values indicate higher risk)\n- Sector: N/A\n- Industry: N/A\n",
    "ml_analysis": {
        "success": true,
        "predicted_price": 133.22430472484368,
        "confidence": -0.0322573934335213,
        "mse": 24.97565233074375,
        "mae": 2.202410624852668,
        "r2_score": -0.0322573934335213,
        "best_ml_model": "stacking",
        "best_model_metrics": {
            "mse": 24.97565233074375,
            "mae": 2.202410624852668,
            "r2": -0.0322573934335213
        },
        "all_model_scores": {
            "xgb": {
                "mse": 32.41449462982356,
                "mae": 3.7207204763103587,
                "r2": -0.3397088209327317,
                "prediction": 131.77743530273438
            },
            "lgb": {
                "mse": 30.831091786583723,
                "mae": 3.447000757298805,
                "r2": -0.27426591397386035,
                "prediction": 130.11797814270136
            },
            "cb": {
                "mse": 26.305654673228382,
                "mae": 2.7467156151452023,
                "r2": -0.08722711887383294,
                "prediction": 131.71592604085905
            },
            "et": {
                "mse": 25.66894885714084,
                "mae": 2.5364276353833732,
                "r2": -0.060911718683486216,
                "prediction": 132.94789304379313
            },
            "svr": {
                "mse": 53.87458709270651,
                "mae": 5.222358846965609,
                "r2": -1.2266661990713406,
                "prediction": 132.18594010009755
            },
            "mlp": {
                "mse": 218.6865482532709,
                "mae": 8.930608727699827,
                "r2": -8.038434844042893,
                "prediction": 131.68890277216394
            },
            "ensemble": {
                "mse": 33.57990717875047,
                "mae": 3.6061561215479556,
                "r2": -0.3878759600368089,
                "prediction": 131.73901206764222
            },
            "stacking": {
                "mse": 24.97565233074375,
                "mae": 2.202410624852668,
                "r2": -0.0322573934335213,
                "prediction": 133.1464554342966
            }
        },
        "lstm_metrics": {
            "mse": 0.013492051512002945,
            "r2": -0.19714069366455078,
            "adv_mse": 0.01801513507962227,
            "adv_r2": -0.59847092628479
        },
        "transformer_metrics": {
            "mse": 0.01159677840769291,
            "r2": -0.028974413871765137,
            "adv_mse": 0.012303057126700878,
            "adv_r2": -0.09164202213287354
        },
        "rl_metrics": {
            "success": true,
            "recommendation": "HOLD",
            "performance_pct": 0.04609924517516629,
            "final_net_worth": 100046.09924517517,
            "average_reward": -60982.436407721136,
            "average_events_per_episode": 120.91,
            "actions_distribution": {
                "hold": 0.006666666666666667,
                "buy": 0.99,
                "sell": 0.0033333333333333335
            },
            "epoch_logs": [
                {
                    "episode": 10,
                    "total_reward": 2836529.381677041,
                    "average_reward": -671333.5793474164,
                    "events_triggered": 118
                },
                {
                    "episode": 20,
                    "total_reward": 727935.4681148008,
                    "average_reward": -19542.188276724493,
                    "events_triggered": 117
                },
                {
                    "episode": 30,
                    "total_reward": -815233.6808894391,
                    "average_reward": -102743.96661953369,
                    "events_triggered": 113
                },
                {
                    "episode": 40,
                    "total_reward": 232764.90611407202,
                    "average_reward": -95885.20891768779,
                    "events_triggered": 126
                },
                {
                    "episode": 50,
                    "total_reward": -258619.56318237272,
                    "average_reward": -353567.5214396609,
                    "events_triggered": 112
                },
                {
                    "episode": 60,
                    "total_reward": 263992.3513567508,
                    "average_reward": 92505.87324671148,
                    "events_triggered": 114
                },
                {
                    "episode": 70,
                    "total_reward": 19402.865348893392,
                    "average_reward": 6218.116175881931,
                    "events_triggered": 106
                },
                {
                    "episode": 80,
                    "total_reward": -78544.13999825793,
                    "average_reward": 26839.217558897013,
                    "events_triggered": 123
                },
                {
                    "episode": 90,
                    "total_reward": -14158.445262404217,
                    "average_reward": 20977.39605888377,
                    "events_triggered": 121
                },
                {
                    "episode": 100,
                    "total_reward": 108881.04819051932,
                    "average_reward": 486707.4974834379,
                    "events_triggered": 125
                }
            ]
        },
        "ensemble_components": {
            "best_ml_model": 133.1464554342966,
            "lstm": 132.56068420410156,
            "transformer": 133.9657745361328,
            "ensemble_average": 131.91494286303603
        },
        "industry_level_features": {
            "top_5_ml_models": [
                "xgb",
                "lgb",
                "cb",
                "et",
                "svr",
                "mlp",
                "ensemble",
                "stacking"
            ],
            "ensemble_methods": [
                "VotingRegressor",
                "StackingRegressor"
            ],
            "advanced_scaling": "RobustScaler",
            "model_selection": "Best R2 Score"
        }
    },
    "timestamp": "2025-09-12 13:06:58"
}